{"mappings":"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","sources":["<anon>","app.js","router.js","views/pages/Error404.js","views/pages/Home.js","services/expensesApi.js","views/pages/Expenses.js","views/components/Table.js","views/components/Navbar.js"],"sourcesContent":["const $0025a2966d83752d$var$Error404 = {\n    allowAccess: async ()=>true,\n    render: async ()=>{\n        const view = /*html*/ `\n      <h1>Not Found</h1>\n    `;\n        return view;\n    },\n    postRender: async ()=>{}\n};\nvar $0025a2966d83752d$export$2e2bcd8739ae039 = $0025a2966d83752d$var$Error404;\n\n\nconst $1242cc2b262adddb$var$expensesApi = {\n    getTotals: async ()=>{\n        try {\n            const options = {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            };\n            const res = await fetch(`${window.env.API_URL}/total`, options);\n            const json = await res.json();\n            return json;\n        } catch (err) {\n            console.log(\"Error getting total\", err);\n        }\n    },\n    getReports: async ()=>{\n        try {\n            // ðŸ‘‡ Replace this with call to API ðŸ‘‡\n            return [\n                {\n                    date: new Date(),\n                    description: \"Pizza for a Coding Dojo session.\",\n                    value: 102\n                },\n                {\n                    date: new Date(),\n                    description: \"Coffee for a Coding Dojo session.\",\n                    value: 42\n                }\n            ];\n        // ðŸ‘† Replace this with call to API ðŸ‘†\n        } catch (err) {\n            console.log(\"Error getting reports\", err);\n        }\n    }\n};\nvar $1242cc2b262adddb$export$2e2bcd8739ae039 = $1242cc2b262adddb$var$expensesApi;\n\n\nconst $36a4a7867fdfcf24$var$Home = {\n    allowAccess: async ()=>true,\n    render: async ()=>{\n        const summary = await (0, $1242cc2b262adddb$export$2e2bcd8739ae039).getTotals();\n        const view = /*html*/ `\n    <h1>Home Page</h1>\n    <p id=\"user-greet\">Hello, ${window.user.name}</p>\n    <p>So far, this app has been used to manage:</p>\n    <div id=\"summary\">\n    <ul>\n      <li><strong id=\"expenses-count\">${summary.count}</strong> expenses</li>\n      <li>$<strong id=\"expenses-total\">\n      ${summary.total.toFixed(2)}\n      </strong> dollars</li>\n    </ul>\n    </div>    \n    `;\n        return view;\n    },\n    postRender: async ()=>{}\n};\nvar $36a4a7867fdfcf24$export$2e2bcd8739ae039 = $36a4a7867fdfcf24$var$Home;\n\n\n\nconst $7fec8b32af2d7304$var$format = (data)=>{\n    if (typeof data === \"number\") return `$${data.toFixed(2)}`;\n    if (data instanceof Date) return data.toLocaleDateString(\"en-US\");\n    return data;\n};\nconst $7fec8b32af2d7304$var$Data = (data)=>/*html*/ `<td>${$7fec8b32af2d7304$var$format(data)}</td>`;\nconst $7fec8b32af2d7304$var$Body = (data)=>data.map((data)=>/*html*/ `<tr>\n   ${Object.keys(data).map((k)=>$7fec8b32af2d7304$var$Data(data[k])).join(\"\\n \")}\n  </tr>`).join(\"\\n \");\nconst $7fec8b32af2d7304$var$Header = (labels)=>/*html*/ `\n<tr>\n  ${labels.map((l)=>/*html*/ `<th><strong>${l}</strong></th>`).join(\"\\n \")}\n</tr>\n`;\nconst $7fec8b32af2d7304$var$Table = {\n    render: async (data)=>/*html*/ `\n  <table border=\"1\">\n    ${$7fec8b32af2d7304$var$Header(Object.keys(data[0]))}\n    ${$7fec8b32af2d7304$var$Body(data)}\n  </table>\n  `,\n    postRender: async ()=>{}\n};\nvar $7fec8b32af2d7304$export$2e2bcd8739ae039 = $7fec8b32af2d7304$var$Table;\n\n\nconst $b9e7fbb6882b48d6$var$Expenses = {\n    allowAccess: async ()=>false,\n    render: async ()=>{\n        const expenses = await (0, $1242cc2b262adddb$export$2e2bcd8739ae039).getReports();\n        const view = /*html*/ `\n    <h1>Expense Report</h1>\n    <p id=\"user-greet\">Hello, ${window.user.name}</p>\n    <p>These are your expenses:</p>\n    ${await (0, $7fec8b32af2d7304$export$2e2bcd8739ae039).render(expenses)}\n    `;\n        return view;\n    },\n    postRender: async ()=>{}\n};\nvar $b9e7fbb6882b48d6$export$2e2bcd8739ae039 = $b9e7fbb6882b48d6$var$Expenses;\n\n\n\n\n// default user\nwindow.user = {\n    name: \"Anonymous\",\n    picture: (0, {})\n};\nconst $f755c7574d81a08e$var$Navbar = {\n    render: async ()=>{\n        const isAuthenticated = false; // ðŸ‘ˆ Replace this with isAuthenticated check\n        const view = /*html*/ `\n    <li class=\"logo\">\n      <a href=\"#\">\n        <img src=\"${(0, {})}\" alt=\"Auth0\" />\n      </a>\n    </li>\n    <li>\n      <a id=\"home-link\" href=\"#\">Home</a>\n    </li>\n    <li>\n      <a id=\"expenses-link\" href=\"#expenses\">Expenses</a>\n    </li>\n    <li class=\"spacer\" />\n    <li id=\"log-out\" style=\"display: ${isAuthenticated ? \"block\" : \"none\"}\">\n      <a href=\"#\"> Logout</a>\n    </li>\n    <li id=\"log-in\" style=\"display: ${isAuthenticated ? \"none\" : \"block\"}\">\n      <a href=\"#\"> Login</a>\n    </li>\n    <li class=\"profile\">\n      <img src=\"${window.user.picture}\" />\n    </li>\n    `;\n        return view;\n    },\n    postRender: async ()=>{\n        document.getElementById(\"log-in\").addEventListener(\"click\", async (e)=>{\n            e.preventDefault();\n        // ðŸ‘‰ Replace this with login call ðŸ‘ˆ\n        });\n        document.getElementById(\"log-out\").addEventListener(\"click\", (e)=>{\n            e.preventDefault();\n        // ðŸ‘‰ Replace this with logout call ðŸ‘ˆ\n        });\n    }\n};\nvar $f755c7574d81a08e$export$2e2bcd8739ae039 = $f755c7574d81a08e$var$Navbar;\n\n\nconst $cae7093453c2f59e$var$routes = {\n    \"/\": (0, $36a4a7867fdfcf24$export$2e2bcd8739ae039),\n    expenses: (0, $b9e7fbb6882b48d6$export$2e2bcd8739ae039)\n};\nconst $cae7093453c2f59e$var$navbar = document.getElementById(\"navbar\");\nconst $cae7093453c2f59e$var$content = document.getElementById(\"content\");\nconst $cae7093453c2f59e$var$router = async ()=>{\n    // ðŸ‘‰ Replace this with callback handler ðŸ‘ˆ\n    // ðŸ‘‰ Replace this with user profile handler ðŸ‘ˆ\n    const request = location.hash.slice(1).toLowerCase() || \"/\";\n    const page = $cae7093453c2f59e$var$routes[request] || (0, $0025a2966d83752d$export$2e2bcd8739ae039);\n    if (await page.allowAccess()) {\n        $cae7093453c2f59e$var$content.innerHTML = await page.render();\n        await page.postRender();\n    } else window.history.replaceState({}, document.title, \"/\");\n    $cae7093453c2f59e$var$navbar.innerHTML = await (0, $f755c7574d81a08e$export$2e2bcd8739ae039).render();\n    await (0, $f755c7574d81a08e$export$2e2bcd8739ae039).postRender();\n};\nvar $cae7093453c2f59e$export$2e2bcd8739ae039 = $cae7093453c2f59e$var$router;\n\n\n(async function() {\n    // ðŸ‘‰ Replace this with client creation ðŸ‘ˆ\n    // handle user navigation\n    window.addEventListener(\"hashchange\", ()=>{\n        (0, $cae7093453c2f59e$export$2e2bcd8739ae039)();\n    });\n    window.addEventListener(\"load\", ()=>{\n        // avoid calling router twice when handling redirect callback upon sign in\n        if (!sessionStorage.getItem(\"reload\")) {\n            (0, $cae7093453c2f59e$export$2e2bcd8739ae039)();\n            sessionStorage.setItem(\"reload\", \"true\");\n        }\n    });\n    //handle user reload of browser\n    if (sessionStorage.getItem(\"reload\")) {\n        sessionStorage.setItem(\"reload\", \"true\");\n        await (0, $cae7093453c2f59e$export$2e2bcd8739ae039)();\n    }\n})();\n\n\n//# sourceMappingURL=spa-app.e85cb8b2.js.map\n","import router from \"./router\";\n\n(async function () {\n  // ðŸ‘‰ Replace this with client creation ðŸ‘ˆ\n  \n  // handle user navigation\n  window.addEventListener(\"hashchange\", () => {\n    router();\n  });\n  window.addEventListener(\"load\", () => {\n    // avoid calling router twice when handling redirect callback upon sign in\n    if (!sessionStorage.getItem(\"reload\")) {\n      router();\n      sessionStorage.setItem(\"reload\", \"true\");\n    }\n  });\n\n  //handle user reload of browser\n  if (sessionStorage.getItem(\"reload\")) {\n    sessionStorage.setItem(\"reload\", \"true\");\n    await router();\n  }\n})();\n","import Error404 from \"./views/pages/Error404\";\nimport Home from \"./views/pages/Home\";\nimport Expenses from \"./views/pages/Expenses\";\nimport Navbar from \"./views/components/Navbar\";\n\nconst routes = {\n  \"/\": Home,\n  expenses: Expenses,\n};\n\nconst navbar = document.getElementById(\"navbar\");\nconst content = document.getElementById(\"content\");\n\nconst router = async () => {\n  // ðŸ‘‰ Replace this with callback handler ðŸ‘ˆ\n  \n  // ðŸ‘‰ Replace this with user profile handler ðŸ‘ˆ\n\n  const request = location.hash.slice(1).toLowerCase() || \"/\";\n  const page = routes[request] || Error404;\n\n  if (await page.allowAccess()) {\n    content.innerHTML = await page.render();\n    await page.postRender();\n  } else {\n    window.history.replaceState({}, document.title, \"/\");\n  }\n  navbar.innerHTML = await Navbar.render();\n  await Navbar.postRender();\n};\n\nexport default router;\n","const Error404 = {\n  allowAccess: async () => true,\n  render: async () => {\n    const view = /*html*/ `\n      <h1>Not Found</h1>\n    `;\n    return view;\n  },\n  postRender: async () => {},\n};\n\nexport default Error404;\n","import expensesApi from \"../../services/expensesApi.js\";\n\nconst Home = {\n  allowAccess: async () => true,\n  render: async () => {\n    const summary = await expensesApi.getTotals();\n    const view = /*html*/ `\n    <h1>Home Page</h1>\n    <p id=\"user-greet\">Hello, ${window.user.name}</p>\n    <p>So far, this app has been used to manage:</p>\n    <div id=\"summary\">\n    <ul>\n      <li><strong id=\"expenses-count\">${summary.count}</strong> expenses</li>\n      <li>$<strong id=\"expenses-total\">\n      ${summary.total.toFixed(2)}\n      </strong> dollars</li>\n    </ul>\n    </div>    \n    `;\n    return view;\n  },\n  postRender: async () => {},\n};\n\nexport default Home;\n","const expensesApi = {\n  getTotals: async () => {\n    try {\n      const options = {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      };\n\n      const res = await fetch(`${window.env.API_URL}/total`, options);\n      const json = await res.json();\n      return json;\n    } catch (err) {\n      console.log(\"Error getting total\", err);\n    }\n  },\n  getReports: async () => {\n    try {\n      // ðŸ‘‡ Replace this with call to API ðŸ‘‡\n      return [\n        {\n          date: new Date(),\n          description: \"Pizza for a Coding Dojo session.\",\n          value: 102,\n        },\n        {\n          date: new Date(),\n          description: \"Coffee for a Coding Dojo session.\",\n          value: 42,\n        },\n      ];\n      // ðŸ‘† Replace this with call to API ðŸ‘†\n    } catch (err) {\n      console.log(\"Error getting reports\", err);\n    }\n  },\n};\n\nexport default expensesApi;\n","import expensesApi from \"../../services/expensesApi.js\";\nimport Table from \"../components/Table.js\";\n\nconst Expenses = {\n  allowAccess: async () => false, // ðŸ‘ˆ Replace this with isAuthenticated check\n  render: async () => {\n    const expenses = await expensesApi.getReports();\n    const view = /*html*/ `\n    <h1>Expense Report</h1>\n    <p id=\"user-greet\">Hello, ${window.user.name}</p>\n    <p>These are your expenses:</p>\n    ${await Table.render(expenses)}\n    `;\n    return view;\n  },\n  postRender: async () => {},\n};\n\nexport default Expenses;\n","const format = (data) => {\n  if (typeof data === \"number\") return `$${data.toFixed(2)}`;\n  if (data instanceof Date) return data.toLocaleDateString(\"en-US\");\n  return data;\n};\n\nconst Data = (data) => /*html*/ `<td>${format(data)}</td>`;\n\nconst Body = (data) =>\n  data\n    .map(\n      (data) => /*html*/ `<tr>\n   ${Object.keys(data)\n     .map((k) => Data(data[k]))\n     .join(\"\\n \")}\n  </tr>`\n    )\n    .join(\"\\n \");\n\nconst Header = (labels) => /*html*/ `\n<tr>\n  ${labels.map((l) => /*html*/ `<th><strong>${l}</strong></th>`).join(\"\\n \")}\n</tr>\n`;\n\nconst Table = {\n  render: async (data) => /*html*/ `\n  <table border=\"1\">\n    ${Header(Object.keys(data[0]))}\n    ${Body(data)}\n  </table>\n  `,\n  postRender: async () => {},\n};\n\nexport default Table;\n","import logo from \"../../images/auth0.png\";\nimport profile from \"../../images/profile.png\";\n\n// default user\nwindow.user = {\n  name: \"Anonymous\",\n  picture: profile,\n};\n\nconst Navbar = {\n  render: async () => {\n    const isAuthenticated = false; // ðŸ‘ˆ Replace this with isAuthenticated check\n    const view = /*html*/ `\n    <li class=\"logo\">\n      <a href=\"#\">\n        <img src=\"${logo}\" alt=\"Auth0\" />\n      </a>\n    </li>\n    <li>\n      <a id=\"home-link\" href=\"#\">Home</a>\n    </li>\n    <li>\n      <a id=\"expenses-link\" href=\"#expenses\">Expenses</a>\n    </li>\n    <li class=\"spacer\" />\n    <li id=\"log-out\" style=\"display: ${isAuthenticated ? \"block\" : \"none\"}\">\n      <a href=\"#\"> Logout</a>\n    </li>\n    <li id=\"log-in\" style=\"display: ${isAuthenticated ? \"none\" : \"block\"}\">\n      <a href=\"#\"> Login</a>\n    </li>\n    <li class=\"profile\">\n      <img src=\"${window.user.picture}\" />\n    </li>\n    `;\n\n    return view;\n  },\n  postRender: async () => {\n    document.getElementById(\"log-in\").addEventListener(\"click\", async (e) => {\n      e.preventDefault();\n      // ðŸ‘‰ Replace this with login call ðŸ‘ˆ\n    });\n\n    document.getElementById(\"log-out\").addEventListener(\"click\", (e) => {\n      e.preventDefault();\n      // ðŸ‘‰ Replace this with logout call ðŸ‘ˆ\n    });\n  },\n};\n\nexport default Navbar;\n"],"names":["$0025a2966d83752d$export$2e2bcd8739ae039","allowAccess","render","postRender","res","fetch","window","env","API_URL","method","headers","json","err","console","log","date","Date","description","value","data","labels","Object","keys","map","l","join","k","toFixed","toLocaleDateString","user","name","picture","document","getElementById","addEventListener","e","preventDefault","$cae7093453c2f59e$var$routes","summary","count","total","expenses","$cae7093453c2f59e$var$navbar","$cae7093453c2f59e$var$content","$cae7093453c2f59e$var$router","page","location","hash","slice","toLowerCase","innerHTML","history","replaceState","title","sessionStorage","getItem","setItem"],"version":3,"file":"spa-app.e85cb8b2.js.map"}