{"mappings":"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","sources":["<anon>","app.js","router.js","views/pages/Error404.js","views/pages/Home.js","services/expensesApi.js","views/pages/Expenses.js","views/components/Table.js","views/components/Navbar.js","node_modules/@auth0/auth0-spa-js/dist/auth0-spa-js.production.esm.js","node_modules/@auth0/auth0-spa-js/node_modules/browser-tabs-lock/processLock.js","node_modules/@auth0/auth0-spa-js/node_modules/browser-tabs-lock/index.js","node_modules/@auth0/auth0-spa-js/src/constants.ts","node_modules/@auth0/auth0-spa-js/src/version.ts","node_modules/@auth0/auth0-spa-js/src/errors.ts","node_modules/@auth0/auth0-spa-js/src/utils.ts","node_modules/@auth0/auth0-spa-js/node_modules/dpop/src/index.ts","node_modules/@auth0/auth0-spa-js/src/dpop/utils.ts","node_modules/@auth0/auth0-spa-js/src/worker/worker.utils.ts","node_modules/@auth0/auth0-spa-js/src/http.ts","node_modules/@auth0/auth0-spa-js/src/api.ts","node_modules/@auth0/auth0-spa-js/src/scope.ts","node_modules/@auth0/auth0-spa-js/src/cache/shared.ts","node_modules/@auth0/auth0-spa-js/src/cache/cache-localstorage.ts","node_modules/@auth0/auth0-spa-js/src/cache/cache-memory.ts","node_modules/@auth0/auth0-spa-js/src/cache/cache-manager.ts","node_modules/@auth0/auth0-spa-js/src/transaction-manager.ts","node_modules/@auth0/auth0-spa-js/src/jwt.ts","node_modules/@auth0/auth0-spa-js/node_modules/es-cookie/src/es-cookie.js","node_modules/@auth0/auth0-spa-js/src/storage.ts","node_modules/@auth0/auth0-spa-js/src/global.ts","node_modules/@auth0/auth0-spa-js/src/promise-utils.ts","node_modules/@auth0/auth0-spa-js/src/cache/key-manifest.ts","node_modules/@auth0/auth0-spa-js/src/Auth0Client.utils.ts","node_modules/@auth0/auth0-spa-js/src/dpop/storage.ts","node_modules/@auth0/auth0-spa-js/src/dpop/dpop.ts","node_modules/@auth0/auth0-spa-js/src/fetcher.ts","node_modules/@auth0/auth0-spa-js/src/MyAccountApiClient.ts","node_modules/@auth0/auth0-spa-js/node_modules/oauth4webapi/src/index.ts","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/buffer_utils.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/base64.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/util/base64url.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/util/errors.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/crypto_key.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/invalid_key_input.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/is_key_like.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/is_object.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/asn1.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/jwk_to_key.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/is_jwk.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/normalize_key.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/check_key_type.js","node_modules/@auth0/auth0-spa-js/node_modules/openid-client/src/index.ts","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/get_sign_verify_key.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/verify.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/check_key_length.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/subtle_dsa.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/jws/flattened/verify.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/is_disjoint.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/validate_crit.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/validate_algorithms.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/lib/jwt_claims_set.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/jwt/verify.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/jws/compact/verify.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/jwks/local.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/key/import.js","node_modules/@auth0/auth0-spa-js/node_modules/jose/dist/webapi/jwks/remote.js","node_modules/@auth0/auth0-spa-js/node_modules/@auth0/auth0-auth-js/src/errors.ts","node_modules/@auth0/auth0-spa-js/node_modules/@auth0/auth0-auth-js/src/utils.ts","node_modules/@auth0/auth0-spa-js/node_modules/@auth0/auth0-auth-js/src/mfa/errors.ts","node_modules/@auth0/auth0-spa-js/node_modules/@auth0/auth0-auth-js/src/mfa/utils.ts","node_modules/@auth0/auth0-spa-js/node_modules/@auth0/auth0-auth-js/src/mfa/mfa-client.ts","node_modules/@auth0/auth0-spa-js/node_modules/@auth0/auth0-auth-js/src/types.ts","node_modules/@auth0/auth0-spa-js/node_modules/@auth0/auth0-auth-js/src/auth-client.ts","node_modules/@auth0/auth0-spa-js/src/Auth0Client.ts","node_modules/@auth0/auth0-spa-js/src/index.ts"],"sourcesContent":["\n      var $parcel$global = globalThis;\n    const $0025a2966d83752d$var$Error404 = {\n    allowAccess: async ()=>true,\n    render: async ()=>{\n        const view = /*html*/ `\n      <h1>Not Found</h1>\n    `;\n        return view;\n    },\n    postRender: async ()=>{}\n};\nvar $0025a2966d83752d$export$2e2bcd8739ae039 = $0025a2966d83752d$var$Error404;\n\n\nconst $1242cc2b262adddb$var$expensesApi = {\n    getTotals: async ()=>{\n        try {\n            const options = {\n                method: \"GET\",\n                headers: {\n                    \"Content-Type\": \"application/json\"\n                }\n            };\n            const res = await fetch(`${window.env.API_URL}/total`, options);\n            const json = await res.json();\n            return json;\n        } catch (err) {\n            console.log(\"Error getting total\", err);\n        }\n    },\n    getReports: async ()=>{\n        try {\n            //  Replace this with call to API \n            return [\n                {\n                    date: new Date(),\n                    description: \"Pizza for a Coding Dojo session.\",\n                    value: 102\n                },\n                {\n                    date: new Date(),\n                    description: \"Coffee for a Coding Dojo session.\",\n                    value: 42\n                }\n            ];\n        //  Replace this with call to API \n        } catch (err) {\n            console.log(\"Error getting reports\", err);\n        }\n    }\n};\nvar $1242cc2b262adddb$export$2e2bcd8739ae039 = $1242cc2b262adddb$var$expensesApi;\n\n\nconst $36a4a7867fdfcf24$var$Home = {\n    allowAccess: async ()=>true,\n    render: async ()=>{\n        const summary = await (0, $1242cc2b262adddb$export$2e2bcd8739ae039).getTotals();\n        const view = /*html*/ `\n    <h1>Home Page</h1>\n    <p id=\"user-greet\">Hello, ${window.user.name}</p>\n    <p>So far, this app has been used to manage:</p>\n    <div id=\"summary\">\n    <ul>\n      <li><strong id=\"expenses-count\">${summary.count}</strong> expenses</li>\n      <li>$<strong id=\"expenses-total\">\n      ${summary.total.toFixed(2)}\n      </strong> dollars</li>\n    </ul>\n    </div>    \n    `;\n        return view;\n    },\n    postRender: async ()=>{}\n};\nvar $36a4a7867fdfcf24$export$2e2bcd8739ae039 = $36a4a7867fdfcf24$var$Home;\n\n\n\nconst $7fec8b32af2d7304$var$format = (data)=>{\n    if (typeof data === \"number\") return `$${data.toFixed(2)}`;\n    if (data instanceof Date) return data.toLocaleDateString(\"en-US\");\n    return data;\n};\nconst $7fec8b32af2d7304$var$Data = (data)=>/*html*/ `<td>${$7fec8b32af2d7304$var$format(data)}</td>`;\nconst $7fec8b32af2d7304$var$Body = (data)=>data.map((data)=>/*html*/ `<tr>\n   ${Object.keys(data).map((k)=>$7fec8b32af2d7304$var$Data(data[k])).join(\"\\n \")}\n  </tr>`).join(\"\\n \");\nconst $7fec8b32af2d7304$var$Header = (labels)=>/*html*/ `\n<tr>\n  ${labels.map((l)=>/*html*/ `<th><strong>${l}</strong></th>`).join(\"\\n \")}\n</tr>\n`;\nconst $7fec8b32af2d7304$var$Table = {\n    render: async (data)=>/*html*/ `\n  <table border=\"1\">\n    ${$7fec8b32af2d7304$var$Header(Object.keys(data[0]))}\n    ${$7fec8b32af2d7304$var$Body(data)}\n  </table>\n  `,\n    postRender: async ()=>{}\n};\nvar $7fec8b32af2d7304$export$2e2bcd8739ae039 = $7fec8b32af2d7304$var$Table;\n\n\nconst $b9e7fbb6882b48d6$var$Expenses = {\n    allowAccess: async ()=>false,\n    render: async ()=>{\n        const expenses = await (0, $1242cc2b262adddb$export$2e2bcd8739ae039).getReports();\n        const view = /*html*/ `\n    <h1>Expense Report</h1>\n    <p id=\"user-greet\">Hello, ${window.user.name}</p>\n    <p>These are your expenses:</p>\n    ${await (0, $7fec8b32af2d7304$export$2e2bcd8739ae039).render(expenses)}\n    `;\n        return view;\n    },\n    postRender: async ()=>{}\n};\nvar $b9e7fbb6882b48d6$export$2e2bcd8739ae039 = $b9e7fbb6882b48d6$var$Expenses;\n\n\n\n\n// default user\nwindow.user = {\n    name: \"Anonymous\",\n    picture: (0, {})\n};\nconst $f755c7574d81a08e$var$Navbar = {\n    render: async ()=>{\n        const isAuthenticated = false; //  Replace this with isAuthenticated check\n        const view = /*html*/ `\n    <li class=\"logo\">\n      <a href=\"#\">\n        <img src=\"${(0, {})}\" alt=\"Auth0\" />\n      </a>\n    </li>\n    <li>\n      <a id=\"home-link\" href=\"#\">Home</a>\n    </li>\n    <li>\n      <a id=\"expenses-link\" href=\"#expenses\">Expenses</a>\n    </li>\n    <li class=\"spacer\" />\n    <li id=\"log-out\" style=\"display: ${isAuthenticated ? \"block\" : \"none\"}\">\n      <a href=\"#\"> Logout</a>\n    </li>\n    <li id=\"log-in\" style=\"display: ${isAuthenticated ? \"none\" : \"block\"}\">\n      <a href=\"#\"> Login</a>\n    </li>\n    <li class=\"profile\">\n      <img src=\"${window.user.picture}\" />\n    </li>\n    `;\n        return view;\n    },\n    postRender: async ()=>{\n        document.getElementById(\"log-in\").addEventListener(\"click\", async (e)=>{\n            e.preventDefault();\n        //  Replace this with login call \n        });\n        document.getElementById(\"log-out\").addEventListener(\"click\", (e)=>{\n            e.preventDefault();\n        //  Replace this with logout call \n        });\n    }\n};\nvar $f755c7574d81a08e$export$2e2bcd8739ae039 = $f755c7574d81a08e$var$Navbar;\n\n\nconst $cae7093453c2f59e$var$routes = {\n    \"/\": (0, $36a4a7867fdfcf24$export$2e2bcd8739ae039),\n    expenses: (0, $b9e7fbb6882b48d6$export$2e2bcd8739ae039)\n};\nconst $cae7093453c2f59e$var$navbar = document.getElementById(\"navbar\");\nconst $cae7093453c2f59e$var$content = document.getElementById(\"content\");\nconst $cae7093453c2f59e$var$router = async ()=>{\n    if (new URLSearchParams(window.location.search).has(\"code\")) {\n        await window.auth0Client.handleRedirectCallback();\n        window.history.replaceState({}, document.title, \"/\");\n    }\n    //  Replace this with user profile handler \n    const request = location.hash.slice(1).toLowerCase() || \"/\";\n    const page = $cae7093453c2f59e$var$routes[request] || (0, $0025a2966d83752d$export$2e2bcd8739ae039);\n    if (await page.allowAccess()) {\n        $cae7093453c2f59e$var$content.innerHTML = await page.render();\n        await page.postRender();\n    } else window.history.replaceState({}, document.title, \"/\");\n    $cae7093453c2f59e$var$navbar.innerHTML = await (0, $f755c7574d81a08e$export$2e2bcd8739ae039).render();\n    await (0, $f755c7574d81a08e$export$2e2bcd8739ae039).postRender();\n};\nvar $cae7093453c2f59e$export$2e2bcd8739ae039 = $cae7093453c2f59e$var$router;\n\n\nfunction $d0e8535850cb015b$var$e(e, t) {\n    var n = {};\n    for(var o in e)Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);\n    if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n        var r = 0;\n        for(o = Object.getOwnPropertySymbols(e); r < o.length; r++)t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (n[o[r]] = e[o[r]]);\n    }\n    return n;\n}\n\"function\" == typeof SuppressedError && SuppressedError;\nvar $d0e8535850cb015b$var$t = \"undefined\" != typeof globalThis ? globalThis : \"undefined\" != typeof window ? window : \"undefined\" != typeof $parcel$global ? $parcel$global : \"undefined\" != typeof self ? self : {}, $d0e8535850cb015b$var$n = {}, $d0e8535850cb015b$var$o = {};\nObject.defineProperty($d0e8535850cb015b$var$o, \"__esModule\", {\n    value: !0\n});\nvar $d0e8535850cb015b$var$r = function() {\n    function e() {\n        var e = this;\n        this.locked = new Map, this.addToLocked = function(t, n) {\n            var o = e.locked.get(t);\n            void 0 === o ? void 0 === n ? e.locked.set(t, []) : e.locked.set(t, [\n                n\n            ]) : void 0 !== n && (o.unshift(n), e.locked.set(t, o));\n        }, this.isLocked = function(t) {\n            return e.locked.has(t);\n        }, this.lock = function(t) {\n            return new Promise(function(n, o) {\n                e.isLocked(t) ? e.addToLocked(t, n) : (e.addToLocked(t), n());\n            });\n        }, this.unlock = function(t) {\n            var n = e.locked.get(t);\n            if (void 0 !== n && 0 !== n.length) {\n                var o = n.pop();\n                e.locked.set(t, n), void 0 !== o && setTimeout(o, 0);\n            } else e.locked.delete(t);\n        };\n    }\n    return e.getInstance = function() {\n        return void 0 === e.instance && (e.instance = new e), e.instance;\n    }, e;\n}();\n$d0e8535850cb015b$var$o.default = function() {\n    return $d0e8535850cb015b$var$r.getInstance();\n};\nvar $d0e8535850cb015b$var$i = $d0e8535850cb015b$var$t && $d0e8535850cb015b$var$t.__awaiter || function(e, t, n, o) {\n    return new (n || (n = Promise))(function(r, i) {\n        function a(e) {\n            try {\n                c(o.next(e));\n            } catch (e) {\n                i(e);\n            }\n        }\n        function s(e) {\n            try {\n                c(o.throw(e));\n            } catch (e) {\n                i(e);\n            }\n        }\n        function c(e) {\n            e.done ? r(e.value) : new n(function(t) {\n                t(e.value);\n            }).then(a, s);\n        }\n        c((o = o.apply(e, t || [])).next());\n    });\n}, $d0e8535850cb015b$var$a = $d0e8535850cb015b$var$t && $d0e8535850cb015b$var$t.__generator || function(e, t) {\n    var n, o, r, i, a = {\n        label: 0,\n        sent: function() {\n            if (1 & r[0]) throw r[1];\n            return r[1];\n        },\n        trys: [],\n        ops: []\n    };\n    return i = {\n        next: s(0),\n        throw: s(1),\n        return: s(2)\n    }, \"function\" == typeof Symbol && (i[Symbol.iterator] = function() {\n        return this;\n    }), i;\n    function s(i) {\n        return function(s) {\n            return function(i) {\n                if (n) throw new TypeError(\"Generator is already executing.\");\n                for(; a;)try {\n                    if (n = 1, o && (r = 2 & i[0] ? o.return : i[0] ? o.throw || ((r = o.return) && r.call(o), 0) : o.next) && !(r = r.call(o, i[1])).done) return r;\n                    switch(o = 0, r && (i = [\n                        2 & i[0],\n                        r.value\n                    ]), i[0]){\n                        case 0:\n                        case 1:\n                            r = i;\n                            break;\n                        case 4:\n                            return a.label++, {\n                                value: i[1],\n                                done: !1\n                            };\n                        case 5:\n                            a.label++, o = i[1], i = [\n                                0\n                            ];\n                            continue;\n                        case 7:\n                            i = a.ops.pop(), a.trys.pop();\n                            continue;\n                        default:\n                            if (!(r = a.trys, (r = r.length > 0 && r[r.length - 1]) || 6 !== i[0] && 2 !== i[0])) {\n                                a = 0;\n                                continue;\n                            }\n                            if (3 === i[0] && (!r || i[1] > r[0] && i[1] < r[3])) {\n                                a.label = i[1];\n                                break;\n                            }\n                            if (6 === i[0] && a.label < r[1]) {\n                                a.label = r[1], r = i;\n                                break;\n                            }\n                            if (r && a.label < r[2]) {\n                                a.label = r[2], a.ops.push(i);\n                                break;\n                            }\n                            r[2] && a.ops.pop(), a.trys.pop();\n                            continue;\n                    }\n                    i = t.call(e, a);\n                } catch (e) {\n                    i = [\n                        6,\n                        e\n                    ], o = 0;\n                } finally{\n                    n = r = 0;\n                }\n                if (5 & i[0]) throw i[1];\n                return {\n                    value: i[0] ? i[1] : void 0,\n                    done: !0\n                };\n            }([\n                i,\n                s\n            ]);\n        };\n    }\n}, $d0e8535850cb015b$var$s = $d0e8535850cb015b$var$t;\nObject.defineProperty($d0e8535850cb015b$var$n, \"__esModule\", {\n    value: !0\n});\nvar $d0e8535850cb015b$var$c = $d0e8535850cb015b$var$o, $d0e8535850cb015b$var$u = {\n    key: function(e) {\n        return $d0e8535850cb015b$var$i($d0e8535850cb015b$var$s, void 0, void 0, function() {\n            return $d0e8535850cb015b$var$a(this, function(e) {\n                throw new Error(\"Unsupported\");\n            });\n        });\n    },\n    getItem: function(e) {\n        return $d0e8535850cb015b$var$i($d0e8535850cb015b$var$s, void 0, void 0, function() {\n            return $d0e8535850cb015b$var$a(this, function(e) {\n                throw new Error(\"Unsupported\");\n            });\n        });\n    },\n    clear: function() {\n        return $d0e8535850cb015b$var$i($d0e8535850cb015b$var$s, void 0, void 0, function() {\n            return $d0e8535850cb015b$var$a(this, function(e) {\n                return [\n                    2,\n                    window.localStorage.clear()\n                ];\n            });\n        });\n    },\n    removeItem: function(e) {\n        return $d0e8535850cb015b$var$i($d0e8535850cb015b$var$s, void 0, void 0, function() {\n            return $d0e8535850cb015b$var$a(this, function(e) {\n                throw new Error(\"Unsupported\");\n            });\n        });\n    },\n    setItem: function(e, t) {\n        return $d0e8535850cb015b$var$i($d0e8535850cb015b$var$s, void 0, void 0, function() {\n            return $d0e8535850cb015b$var$a(this, function(e) {\n                throw new Error(\"Unsupported\");\n            });\n        });\n    },\n    keySync: function(e) {\n        return window.localStorage.key(e);\n    },\n    getItemSync: function(e) {\n        return window.localStorage.getItem(e);\n    },\n    clearSync: function() {\n        return window.localStorage.clear();\n    },\n    removeItemSync: function(e) {\n        return window.localStorage.removeItem(e);\n    },\n    setItemSync: function(e, t) {\n        return window.localStorage.setItem(e, t);\n    }\n};\nfunction $d0e8535850cb015b$var$l(e) {\n    return new Promise(function(t) {\n        return setTimeout(t, e);\n    });\n}\nfunction $d0e8535850cb015b$var$d(e) {\n    for(var t = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz\", n = \"\", o = 0; o < e; o++)n += t[Math.floor(Math.random() * t.length)];\n    return n;\n}\nvar $d0e8535850cb015b$var$h = function() {\n    function e(t) {\n        this.acquiredIatSet = new Set, this.storageHandler = void 0, this.id = Date.now().toString() + $d0e8535850cb015b$var$d(15), this.acquireLock = this.acquireLock.bind(this), this.releaseLock = this.releaseLock.bind(this), this.releaseLock__private__ = this.releaseLock__private__.bind(this), this.waitForSomethingToChange = this.waitForSomethingToChange.bind(this), this.refreshLockWhileAcquired = this.refreshLockWhileAcquired.bind(this), this.storageHandler = t, void 0 === e.waiters && (e.waiters = []);\n    }\n    return e.prototype.acquireLock = function(t, n) {\n        return void 0 === n && (n = 5e3), $d0e8535850cb015b$var$i(this, void 0, void 0, function() {\n            var o, r, i, s, c, h, p;\n            return $d0e8535850cb015b$var$a(this, function(a) {\n                switch(a.label){\n                    case 0:\n                        o = Date.now() + $d0e8535850cb015b$var$d(4), r = Date.now() + n, i = \"browser-tabs-lock-key-\" + t, s = void 0 === this.storageHandler ? $d0e8535850cb015b$var$u : this.storageHandler, a.label = 1;\n                    case 1:\n                        return Date.now() < r ? [\n                            4,\n                            $d0e8535850cb015b$var$l(30)\n                        ] : [\n                            3,\n                            8\n                        ];\n                    case 2:\n                        return a.sent(), null !== s.getItemSync(i) ? [\n                            3,\n                            5\n                        ] : (c = this.id + \"-\" + t + \"-\" + o, [\n                            4,\n                            $d0e8535850cb015b$var$l(Math.floor(25 * Math.random()))\n                        ]);\n                    case 3:\n                        return a.sent(), s.setItemSync(i, JSON.stringify({\n                            id: this.id,\n                            iat: o,\n                            timeoutKey: c,\n                            timeAcquired: Date.now(),\n                            timeRefreshed: Date.now()\n                        })), [\n                            4,\n                            $d0e8535850cb015b$var$l(30)\n                        ];\n                    case 4:\n                        return a.sent(), null !== (h = s.getItemSync(i)) && (p = JSON.parse(h)).id === this.id && p.iat === o ? (this.acquiredIatSet.add(o), this.refreshLockWhileAcquired(i, o), [\n                            2,\n                            !0\n                        ]) : [\n                            3,\n                            7\n                        ];\n                    case 5:\n                        return e.lockCorrector(void 0 === this.storageHandler ? $d0e8535850cb015b$var$u : this.storageHandler), [\n                            4,\n                            this.waitForSomethingToChange(r)\n                        ];\n                    case 6:\n                        a.sent(), a.label = 7;\n                    case 7:\n                        return o = Date.now() + $d0e8535850cb015b$var$d(4), [\n                            3,\n                            1\n                        ];\n                    case 8:\n                        return [\n                            2,\n                            !1\n                        ];\n                }\n            });\n        });\n    }, e.prototype.refreshLockWhileAcquired = function(e, t) {\n        return $d0e8535850cb015b$var$i(this, void 0, void 0, function() {\n            var n = this;\n            return $d0e8535850cb015b$var$a(this, function(o) {\n                return setTimeout(function() {\n                    return $d0e8535850cb015b$var$i(n, void 0, void 0, function() {\n                        var n, o, r;\n                        return $d0e8535850cb015b$var$a(this, function(i) {\n                            switch(i.label){\n                                case 0:\n                                    return [\n                                        4,\n                                        $d0e8535850cb015b$var$c.default().lock(t)\n                                    ];\n                                case 1:\n                                    return i.sent(), this.acquiredIatSet.has(t) ? (n = void 0 === this.storageHandler ? $d0e8535850cb015b$var$u : this.storageHandler, null === (o = n.getItemSync(e)) ? ($d0e8535850cb015b$var$c.default().unlock(t), [\n                                        2\n                                    ]) : ((r = JSON.parse(o)).timeRefreshed = Date.now(), n.setItemSync(e, JSON.stringify(r)), $d0e8535850cb015b$var$c.default().unlock(t), this.refreshLockWhileAcquired(e, t), [\n                                        2\n                                    ])) : ($d0e8535850cb015b$var$c.default().unlock(t), [\n                                        2\n                                    ]);\n                            }\n                        });\n                    });\n                }, 1e3), [\n                    2\n                ];\n            });\n        });\n    }, e.prototype.waitForSomethingToChange = function(t) {\n        return $d0e8535850cb015b$var$i(this, void 0, void 0, function() {\n            return $d0e8535850cb015b$var$a(this, function(n) {\n                switch(n.label){\n                    case 0:\n                        return [\n                            4,\n                            new Promise(function(n) {\n                                var o = !1, r = Date.now(), i = !1;\n                                function a() {\n                                    if (i || (window.removeEventListener(\"storage\", a), e.removeFromWaiting(a), clearTimeout(s), i = !0), !o) {\n                                        o = !0;\n                                        var t = 50 - (Date.now() - r);\n                                        t > 0 ? setTimeout(n, t) : n(null);\n                                    }\n                                }\n                                window.addEventListener(\"storage\", a), e.addToWaiting(a);\n                                var s = setTimeout(a, Math.max(0, t - Date.now()));\n                            })\n                        ];\n                    case 1:\n                        return n.sent(), [\n                            2\n                        ];\n                }\n            });\n        });\n    }, e.addToWaiting = function(t) {\n        this.removeFromWaiting(t), void 0 !== e.waiters && e.waiters.push(t);\n    }, e.removeFromWaiting = function(t) {\n        void 0 !== e.waiters && (e.waiters = e.waiters.filter(function(e) {\n            return e !== t;\n        }));\n    }, e.notifyWaiters = function() {\n        void 0 !== e.waiters && e.waiters.slice().forEach(function(e) {\n            return e();\n        });\n    }, e.prototype.releaseLock = function(e) {\n        return $d0e8535850cb015b$var$i(this, void 0, void 0, function() {\n            return $d0e8535850cb015b$var$a(this, function(t) {\n                switch(t.label){\n                    case 0:\n                        return [\n                            4,\n                            this.releaseLock__private__(e)\n                        ];\n                    case 1:\n                        return [\n                            2,\n                            t.sent()\n                        ];\n                }\n            });\n        });\n    }, e.prototype.releaseLock__private__ = function(t) {\n        return $d0e8535850cb015b$var$i(this, void 0, void 0, function() {\n            var n, o, r, i;\n            return $d0e8535850cb015b$var$a(this, function(a) {\n                switch(a.label){\n                    case 0:\n                        return n = void 0 === this.storageHandler ? $d0e8535850cb015b$var$u : this.storageHandler, o = \"browser-tabs-lock-key-\" + t, null === (r = n.getItemSync(o)) ? [\n                            2\n                        ] : (i = JSON.parse(r)).id !== this.id ? [\n                            3,\n                            2\n                        ] : [\n                            4,\n                            $d0e8535850cb015b$var$c.default().lock(i.iat)\n                        ];\n                    case 1:\n                        a.sent(), this.acquiredIatSet.delete(i.iat), n.removeItemSync(o), $d0e8535850cb015b$var$c.default().unlock(i.iat), e.notifyWaiters(), a.label = 2;\n                    case 2:\n                        return [\n                            2\n                        ];\n                }\n            });\n        });\n    }, e.lockCorrector = function(t) {\n        for(var n = Date.now() - 5e3, o = t, r = [], i = 0;;){\n            var a = o.keySync(i);\n            if (null === a) break;\n            r.push(a), i++;\n        }\n        for(var s = !1, c = 0; c < r.length; c++){\n            var u = r[c];\n            if (u.includes(\"browser-tabs-lock-key\")) {\n                var l = o.getItemSync(u);\n                if (null !== l) {\n                    var d = JSON.parse(l);\n                    (void 0 === d.timeRefreshed && d.timeAcquired < n || void 0 !== d.timeRefreshed && d.timeRefreshed < n) && (o.removeItemSync(u), s = !0);\n                }\n            }\n        }\n        s && e.notifyWaiters();\n    }, e.waiters = void 0, e;\n}(), $d0e8535850cb015b$var$p = $d0e8535850cb015b$var$n.default = $d0e8535850cb015b$var$h;\nconst $d0e8535850cb015b$var$f = {\n    timeoutInSeconds: 60\n}, $d0e8535850cb015b$var$m = {\n    name: \"auth0-spa-js\",\n    version: \"2.12.0\"\n}, $d0e8535850cb015b$var$y = ()=>Date.now();\nclass $d0e8535850cb015b$export$7d465be8efa67280 extends Error {\n    constructor(e, t){\n        super(t), this.error = e, this.error_description = t, Object.setPrototypeOf(this, $d0e8535850cb015b$export$7d465be8efa67280.prototype);\n    }\n    static fromPayload(e) {\n        let { error: t, error_description: n } = e;\n        return new $d0e8535850cb015b$export$7d465be8efa67280(t, n);\n    }\n}\nclass $d0e8535850cb015b$export$cf0c46b07324e9c5 extends $d0e8535850cb015b$export$7d465be8efa67280 {\n    constructor(e, t, n){\n        let o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : null;\n        super(e, t), this.state = n, this.appState = o, Object.setPrototypeOf(this, $d0e8535850cb015b$export$cf0c46b07324e9c5.prototype);\n    }\n}\nclass $d0e8535850cb015b$export$aaa3fc6bdea78d4d extends $d0e8535850cb015b$export$7d465be8efa67280 {\n    constructor(e, t, n, o){\n        let r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : null;\n        super(e, t), this.connection = n, this.state = o, this.appState = r, Object.setPrototypeOf(this, $d0e8535850cb015b$export$aaa3fc6bdea78d4d.prototype);\n    }\n}\nclass $d0e8535850cb015b$export$66d311bf29d5c89c extends $d0e8535850cb015b$export$7d465be8efa67280 {\n    constructor(){\n        super(\"timeout\", \"Timeout\"), Object.setPrototypeOf(this, $d0e8535850cb015b$export$66d311bf29d5c89c.prototype);\n    }\n}\nclass $d0e8535850cb015b$export$ebbb83fe03f719a4 extends $d0e8535850cb015b$export$66d311bf29d5c89c {\n    constructor(e){\n        super(), this.popup = e, Object.setPrototypeOf(this, $d0e8535850cb015b$export$ebbb83fe03f719a4.prototype);\n    }\n}\nclass $d0e8535850cb015b$export$f1f681f0fb26bb55 extends $d0e8535850cb015b$export$7d465be8efa67280 {\n    constructor(e){\n        super(\"cancelled\", \"Popup closed\"), this.popup = e, Object.setPrototypeOf(this, $d0e8535850cb015b$export$f1f681f0fb26bb55.prototype);\n    }\n}\nclass $d0e8535850cb015b$export$d52312082b7f6392 extends $d0e8535850cb015b$export$7d465be8efa67280 {\n    constructor(){\n        super(\"popup_open\", \"Unable to open a popup for loginWithPopup - window.open returned `null`\"), Object.setPrototypeOf(this, $d0e8535850cb015b$export$d52312082b7f6392.prototype);\n    }\n}\nclass $d0e8535850cb015b$export$c59494f4dae44ada extends $d0e8535850cb015b$export$7d465be8efa67280 {\n    constructor(e, t, n){\n        super(e, t), this.mfa_token = n, Object.setPrototypeOf(this, $d0e8535850cb015b$export$c59494f4dae44ada.prototype);\n    }\n}\nclass $d0e8535850cb015b$export$ac1d2a00f8e0a046 extends $d0e8535850cb015b$export$7d465be8efa67280 {\n    constructor(e, t){\n        super(\"missing_refresh_token\", \"Missing Refresh Token (audience: '\".concat($d0e8535850cb015b$var$R(e, [\n            \"default\"\n        ]), \"', scope: '\").concat($d0e8535850cb015b$var$R(t), \"')\")), this.audience = e, this.scope = t, Object.setPrototypeOf(this, $d0e8535850cb015b$export$ac1d2a00f8e0a046.prototype);\n    }\n}\nclass $d0e8535850cb015b$var$T extends $d0e8535850cb015b$export$7d465be8efa67280 {\n    constructor(e, t){\n        super(\"missing_scopes\", \"Missing requested scopes after refresh (audience: '\".concat($d0e8535850cb015b$var$R(e, [\n            \"default\"\n        ]), \"', missing scope: '\").concat($d0e8535850cb015b$var$R(t), \"')\")), this.audience = e, this.scope = t, Object.setPrototypeOf(this, $d0e8535850cb015b$var$T.prototype);\n    }\n}\nclass $d0e8535850cb015b$export$ffb710231177fce3 extends $d0e8535850cb015b$export$7d465be8efa67280 {\n    constructor(e){\n        super(\"use_dpop_nonce\", \"Server rejected DPoP proof: wrong nonce\"), this.newDpopNonce = e, Object.setPrototypeOf(this, $d0e8535850cb015b$export$ffb710231177fce3.prototype);\n    }\n}\nfunction $d0e8535850cb015b$var$R(e) {\n    let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : [];\n    return e && !t.includes(e) ? e : \"\";\n}\nconst $d0e8535850cb015b$var$I = ()=>window.crypto, $d0e8535850cb015b$var$O = ()=>{\n    const e = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.\";\n    let t = \"\";\n    return Array.from($d0e8535850cb015b$var$I().getRandomValues(new Uint8Array(43))).forEach((n)=>t += e[n % e.length]), t;\n}, $d0e8535850cb015b$var$x = (e)=>btoa(e), $d0e8535850cb015b$var$C = [\n    {\n        key: \"name\",\n        type: [\n            \"string\"\n        ]\n    },\n    {\n        key: \"version\",\n        type: [\n            \"string\",\n            \"number\"\n        ]\n    },\n    {\n        key: \"env\",\n        type: [\n            \"object\"\n        ]\n    }\n], $d0e8535850cb015b$var$j = (e)=>Object.keys(e).reduce((t, n)=>{\n        const o = $d0e8535850cb015b$var$C.find((e)=>e.key === n);\n        return o && o.type.includes(typeof e[n]) && (t[n] = e[n]), t;\n    }, {}), $d0e8535850cb015b$var$D = (t)=>{\n    var { clientId: n } = t, o = $d0e8535850cb015b$var$e(t, [\n        \"clientId\"\n    ]);\n    return new URLSearchParams(((e)=>Object.keys(e).filter((t)=>void 0 !== e[t]).reduce((t, n)=>Object.assign(Object.assign({}, t), {\n                [n]: e[n]\n            }), {}))(Object.assign({\n        client_id: n\n    }, o))).toString();\n}, $d0e8535850cb015b$var$K = async (e)=>{\n    const t = $d0e8535850cb015b$var$I().subtle.digest({\n        name: \"SHA-256\"\n    }, (new TextEncoder).encode(e));\n    return await t;\n}, $d0e8535850cb015b$var$L = (e)=>((e)=>decodeURIComponent(atob(e).split(\"\").map((e)=>\"%\" + (\"00\" + e.charCodeAt(0).toString(16)).slice(-2)).join(\"\")))(e.replace(/_/g, \"/\").replace(/-/g, \"+\")), $d0e8535850cb015b$var$U = (e)=>{\n    const t = new Uint8Array(e);\n    return ((e)=>{\n        const t = {\n            \"+\": \"-\",\n            \"/\": \"_\",\n            \"=\": \"\"\n        };\n        return e.replace(/[+/=]/g, (e)=>t[e]);\n    })(window.btoa(String.fromCharCode(...Array.from(t))));\n}, $d0e8535850cb015b$var$N = new TextEncoder, $d0e8535850cb015b$var$W = new TextDecoder;\nfunction $d0e8535850cb015b$var$H(e) {\n    return \"string\" == typeof e ? $d0e8535850cb015b$var$N.encode(e) : $d0e8535850cb015b$var$W.decode(e);\n}\nfunction $d0e8535850cb015b$var$z(e) {\n    if (\"number\" != typeof e.modulusLength || e.modulusLength < 2048) throw new $d0e8535850cb015b$var$F(`${e.name} modulusLength must be at least 2048 bits`);\n}\nasync function $d0e8535850cb015b$var$J(e, t, n) {\n    if (!1 === n.usages.includes(\"sign\")) throw new TypeError('private CryptoKey instances used for signing assertions must include \"sign\" in their \"usages\"');\n    const o = `${$d0e8535850cb015b$var$V($d0e8535850cb015b$var$H(JSON.stringify(e)))}.${$d0e8535850cb015b$var$V($d0e8535850cb015b$var$H(JSON.stringify(t)))}`;\n    return `${o}.${$d0e8535850cb015b$var$V(await crypto.subtle.sign(function(e) {\n        switch(e.algorithm.name){\n            case \"ECDSA\":\n                return {\n                    name: e.algorithm.name,\n                    hash: \"SHA-256\"\n                };\n            case \"RSA-PSS\":\n                return $d0e8535850cb015b$var$z(e.algorithm), {\n                    name: e.algorithm.name,\n                    saltLength: 32\n                };\n            case \"RSASSA-PKCS1-v1_5\":\n                return $d0e8535850cb015b$var$z(e.algorithm), {\n                    name: e.algorithm.name\n                };\n            case \"Ed25519\":\n                return {\n                    name: e.algorithm.name\n                };\n        }\n        throw new $d0e8535850cb015b$var$G;\n    }(n), n, $d0e8535850cb015b$var$H(o)))}`;\n}\nlet $d0e8535850cb015b$var$M;\nif (Uint8Array.prototype.toBase64) $d0e8535850cb015b$var$M = (e)=>(e instanceof ArrayBuffer && (e = new Uint8Array(e)), e.toBase64({\n        alphabet: \"base64url\",\n        omitPadding: !0\n    }));\nelse {\n    const e = 32768;\n    $d0e8535850cb015b$var$M = (t)=>{\n        t instanceof ArrayBuffer && (t = new Uint8Array(t));\n        const n = [];\n        for(let o = 0; o < t.byteLength; o += e)n.push(String.fromCharCode.apply(null, t.subarray(o, o + e)));\n        return btoa(n.join(\"\")).replace(/=/g, \"\").replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n    };\n}\nfunction $d0e8535850cb015b$var$V(e) {\n    return $d0e8535850cb015b$var$M(e);\n}\nclass $d0e8535850cb015b$var$G extends Error {\n    constructor(e){\n        var t;\n        super(null != e ? e : \"operation not supported\"), this.name = this.constructor.name, null === (t = Error.captureStackTrace) || void 0 === t || t.call(Error, this, this.constructor);\n    }\n}\nclass $d0e8535850cb015b$var$F extends Error {\n    constructor(e){\n        var t;\n        super(e), this.name = this.constructor.name, null === (t = Error.captureStackTrace) || void 0 === t || t.call(Error, this, this.constructor);\n    }\n}\nfunction $d0e8535850cb015b$var$Z(e) {\n    switch(e.algorithm.name){\n        case \"RSA-PSS\":\n            return function(e) {\n                if (\"SHA-256\" === e.algorithm.hash.name) return \"PS256\";\n                throw new $d0e8535850cb015b$var$G(\"unsupported RsaHashedKeyAlgorithm hash name\");\n            }(e);\n        case \"RSASSA-PKCS1-v1_5\":\n            return function(e) {\n                if (\"SHA-256\" === e.algorithm.hash.name) return \"RS256\";\n                throw new $d0e8535850cb015b$var$G(\"unsupported RsaHashedKeyAlgorithm hash name\");\n            }(e);\n        case \"ECDSA\":\n            return function(e) {\n                if (\"P-256\" === e.algorithm.namedCurve) return \"ES256\";\n                throw new $d0e8535850cb015b$var$G(\"unsupported EcKeyAlgorithm namedCurve\");\n            }(e);\n        case \"Ed25519\":\n            return \"Ed25519\";\n        default:\n            throw new $d0e8535850cb015b$var$G(\"unsupported CryptoKey algorithm name\");\n    }\n}\nfunction $d0e8535850cb015b$var$q(e) {\n    return e instanceof CryptoKey;\n}\nfunction $d0e8535850cb015b$var$B(e) {\n    return $d0e8535850cb015b$var$q(e) && \"public\" === e.type;\n}\nasync function $d0e8535850cb015b$var$X(e, t, n, o, r, i) {\n    const a = null == e ? void 0 : e.privateKey, s = null == e ? void 0 : e.publicKey;\n    if (!$d0e8535850cb015b$var$q(c = a) || \"private\" !== c.type) throw new TypeError('\"keypair.privateKey\" must be a private CryptoKey');\n    var c;\n    if (!$d0e8535850cb015b$var$B(s)) throw new TypeError('\"keypair.publicKey\" must be a public CryptoKey');\n    if (!0 !== s.extractable) throw new TypeError('\"keypair.publicKey.extractable\" must be true');\n    if (\"string\" != typeof t) throw new TypeError('\"htu\" must be a string');\n    if (\"string\" != typeof n) throw new TypeError('\"htm\" must be a string');\n    if (void 0 !== o && \"string\" != typeof o) throw new TypeError('\"nonce\" must be a string or undefined');\n    if (void 0 !== r && \"string\" != typeof r) throw new TypeError('\"accessToken\" must be a string or undefined');\n    if (void 0 !== i && (\"object\" != typeof i || null === i || Array.isArray(i))) throw new TypeError('\"additional\" must be an object');\n    return $d0e8535850cb015b$var$J({\n        alg: $d0e8535850cb015b$var$Z(a),\n        typ: \"dpop+jwt\",\n        jwk: await $d0e8535850cb015b$var$Y(s)\n    }, Object.assign(Object.assign({}, i), {\n        iat: Math.floor(Date.now() / 1e3),\n        jti: crypto.randomUUID(),\n        htm: n,\n        nonce: o,\n        htu: t,\n        ath: r ? $d0e8535850cb015b$var$V(await crypto.subtle.digest(\"SHA-256\", $d0e8535850cb015b$var$H(r))) : void 0\n    }), a);\n}\nasync function $d0e8535850cb015b$var$Y(e) {\n    const { kty: t, e: n, n: o, x: r, y: i, crv: a } = await crypto.subtle.exportKey(\"jwk\", e);\n    return {\n        kty: t,\n        crv: a,\n        e: n,\n        n: o,\n        x: r,\n        y: i\n    };\n}\nconst $d0e8535850cb015b$var$Q = [\n    \"authorization_code\",\n    \"refresh_token\",\n    \"urn:ietf:params:oauth:grant-type:token-exchange\"\n];\nfunction $d0e8535850cb015b$var$$() {\n    return async function(e, t) {\n        var n;\n        let o;\n        if (\"string\" != typeof e || 0 === e.length) throw new TypeError('\"alg\" must be a non-empty string');\n        switch(e){\n            case \"PS256\":\n                o = {\n                    name: \"RSA-PSS\",\n                    hash: \"SHA-256\",\n                    modulusLength: 2048,\n                    publicExponent: new Uint8Array([\n                        1,\n                        0,\n                        1\n                    ])\n                };\n                break;\n            case \"RS256\":\n                o = {\n                    name: \"RSASSA-PKCS1-v1_5\",\n                    hash: \"SHA-256\",\n                    modulusLength: 2048,\n                    publicExponent: new Uint8Array([\n                        1,\n                        0,\n                        1\n                    ])\n                };\n                break;\n            case \"ES256\":\n                o = {\n                    name: \"ECDSA\",\n                    namedCurve: \"P-256\"\n                };\n                break;\n            case \"Ed25519\":\n                o = {\n                    name: \"Ed25519\"\n                };\n                break;\n            default:\n                throw new $d0e8535850cb015b$var$G;\n        }\n        return crypto.subtle.generateKey(o, null !== (n = null == t ? void 0 : t.extractable) && void 0 !== n && n, [\n            \"sign\",\n            \"verify\"\n        ]);\n    }(\"ES256\", {\n        extractable: !1\n    });\n}\nfunction $d0e8535850cb015b$var$ee(e) {\n    return async function(e) {\n        if (!$d0e8535850cb015b$var$B(e)) throw new TypeError('\"publicKey\" must be a public CryptoKey');\n        if (!0 !== e.extractable) throw new TypeError('\"publicKey.extractable\" must be true');\n        const t = await $d0e8535850cb015b$var$Y(e);\n        let n;\n        switch(t.kty){\n            case \"EC\":\n                n = {\n                    crv: t.crv,\n                    kty: t.kty,\n                    x: t.x,\n                    y: t.y\n                };\n                break;\n            case \"OKP\":\n                n = {\n                    crv: t.crv,\n                    kty: t.kty,\n                    x: t.x\n                };\n                break;\n            case \"RSA\":\n                n = {\n                    e: t.e,\n                    kty: t.kty,\n                    n: t.n\n                };\n                break;\n            default:\n                throw new $d0e8535850cb015b$var$G(\"unsupported JWK kty\");\n        }\n        return $d0e8535850cb015b$var$V(await crypto.subtle.digest({\n            name: \"SHA-256\"\n        }, $d0e8535850cb015b$var$H(JSON.stringify(n))));\n    }(e.publicKey);\n}\nfunction $d0e8535850cb015b$var$te(e) {\n    let { keyPair: t, url: n, method: o, nonce: r, accessToken: i } = e;\n    const a = function(e) {\n        const t = new URL(e);\n        return t.search = \"\", t.hash = \"\", t.href;\n    }(n);\n    return $d0e8535850cb015b$var$X(t, a, o, r, i);\n}\nconst $d0e8535850cb015b$var$ne = async (e, t)=>{\n    const n = await fetch(e, t);\n    var o;\n    return {\n        ok: n.ok,\n        json: await n.json(),\n        headers: (o = n.headers, [\n            ...o\n        ].reduce((e, t)=>{\n            let [n, o] = t;\n            return e[n] = o, e;\n        }, {}))\n    };\n}, $d0e8535850cb015b$var$oe = async (e, t, n)=>{\n    const o = new AbortController;\n    let r;\n    return t.signal = o.signal, Promise.race([\n        $d0e8535850cb015b$var$ne(e, t),\n        new Promise((e, t)=>{\n            r = setTimeout(()=>{\n                o.abort(), t(new Error(\"Timeout when executing 'fetch'\"));\n            }, n);\n        })\n    ]).finally(()=>{\n        clearTimeout(r);\n    });\n}, $d0e8535850cb015b$var$re = async (e, t, n, o, r, i, a, s)=>((e, t)=>new Promise(function(n, o) {\n            const r = new MessageChannel;\n            r.port1.onmessage = function(e) {\n                e.data.error ? o(new Error(e.data.error)) : n(e.data), r.port1.close();\n            }, t.postMessage(e, [\n                r.port2\n            ]);\n        }))({\n        auth: {\n            audience: t,\n            scope: n\n        },\n        timeout: r,\n        fetchUrl: e,\n        fetchOptions: o,\n        useFormData: a,\n        useMrrt: s\n    }, i), $d0e8535850cb015b$var$ie = async function(e, t, n, o, r, i) {\n    let a = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : 1e4, s = arguments.length > 7 ? arguments[7] : void 0;\n    return r ? $d0e8535850cb015b$var$re(e, t, n, o, a, r, i, s) : $d0e8535850cb015b$var$oe(e, o, a);\n};\nasync function $d0e8535850cb015b$var$ae(t, n, o, r, i, a, s, c, u, l) {\n    if (u) {\n        const e = await u.generateProof({\n            url: t,\n            method: i.method || \"GET\",\n            nonce: await u.getNonce()\n        });\n        i.headers = Object.assign(Object.assign({}, i.headers), {\n            dpop: e\n        });\n    }\n    let d, h = null;\n    for(let e = 0; e < 3; e++)try {\n        d = await $d0e8535850cb015b$var$ie(t, o, r, i, a, s, n, c), h = null;\n        break;\n    } catch (e) {\n        h = e;\n    }\n    if (h) throw h;\n    const p = d.json, { error: f, error_description: m } = p, y = $d0e8535850cb015b$var$e(p, [\n        \"error\",\n        \"error_description\"\n    ]), { headers: g, ok: v } = d;\n    let b;\n    if (u && (b = g[\"dpop-nonce\"], b && await u.setNonce(b)), !v) {\n        const e = m || \"HTTP error. Unable to fetch \".concat(t);\n        if (\"mfa_required\" === f) throw new $d0e8535850cb015b$export$c59494f4dae44ada(f, e, y.mfa_token);\n        if (\"missing_refresh_token\" === f) throw new $d0e8535850cb015b$export$ac1d2a00f8e0a046(o, r);\n        if (\"use_dpop_nonce\" === f) {\n            if (!u || !b || l) throw new $d0e8535850cb015b$export$ffb710231177fce3(b);\n            return $d0e8535850cb015b$var$ae(t, n, o, r, i, a, s, c, u, !0);\n        }\n        throw new $d0e8535850cb015b$export$7d465be8efa67280(f || \"request_error\", e);\n    }\n    return y;\n}\nasync function $d0e8535850cb015b$var$se(t, n) {\n    var { baseUrl: o, timeout: r, audience: i, scope: a, auth0Client: s, useFormData: c, useMrrt: u, dpop: l } = t, d = $d0e8535850cb015b$var$e(t, [\n        \"baseUrl\",\n        \"timeout\",\n        \"audience\",\n        \"scope\",\n        \"auth0Client\",\n        \"useFormData\",\n        \"useMrrt\",\n        \"dpop\"\n    ]);\n    const h = \"urn:ietf:params:oauth:grant-type:token-exchange\" === d.grant_type, p = \"refresh_token\" === d.grant_type && u, f = Object.assign(Object.assign(Object.assign(Object.assign({}, d), h && i && {\n        audience: i\n    }), h && a && {\n        scope: a\n    }), p && {\n        audience: i,\n        scope: a\n    }), y = c ? $d0e8535850cb015b$var$D(f) : JSON.stringify(f), w = (g = d.grant_type, $d0e8535850cb015b$var$Q.includes(g));\n    var g;\n    return await $d0e8535850cb015b$var$ae(\"\".concat(o, \"/oauth/token\"), r, i || \"default\", a, {\n        method: \"POST\",\n        body: y,\n        headers: {\n            \"Content-Type\": c ? \"application/x-www-form-urlencoded\" : \"application/json\",\n            \"Auth0-Client\": btoa(JSON.stringify($d0e8535850cb015b$var$j(s || $d0e8535850cb015b$var$m)))\n        }\n    }, n, c, u, w ? l : void 0);\n}\nconst $d0e8535850cb015b$var$ce = (e)=>Array.from(new Set(e)), $d0e8535850cb015b$var$ue = function() {\n    for(var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n];\n    return $d0e8535850cb015b$var$ce(t.filter(Boolean).join(\" \").trim().split(/\\s+/)).join(\" \");\n}, $d0e8535850cb015b$var$le = (e, t, n)=>{\n    let o;\n    return n && (o = e[n]), o || (o = e.default), $d0e8535850cb015b$var$ue(o, t);\n};\nclass $d0e8535850cb015b$export$2cb47d384c8dd787 {\n    constructor(e){\n        let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"@@auth0spajs@@\", n = arguments.length > 2 ? arguments[2] : void 0;\n        this.prefix = t, this.suffix = n, this.clientId = e.clientId, this.scope = e.scope, this.audience = e.audience;\n    }\n    toKey() {\n        return [\n            this.prefix,\n            this.clientId,\n            this.audience,\n            this.scope,\n            this.suffix\n        ].filter(Boolean).join(\"::\");\n    }\n    static fromKey(e) {\n        const [t, n, o, r] = e.split(\"::\");\n        return new $d0e8535850cb015b$export$2cb47d384c8dd787({\n            clientId: n,\n            scope: r,\n            audience: o\n        }, t);\n    }\n    static fromCacheEntry(e) {\n        const { scope: t, audience: n, client_id: o } = e;\n        return new $d0e8535850cb015b$export$2cb47d384c8dd787({\n            scope: t,\n            audience: n,\n            clientId: o\n        });\n    }\n}\nclass $d0e8535850cb015b$export$40ef2cb682e70737 {\n    set(e, t) {\n        localStorage.setItem(e, JSON.stringify(t));\n    }\n    get(e) {\n        const t = window.localStorage.getItem(e);\n        if (t) try {\n            return JSON.parse(t);\n        } catch (e) {\n            return;\n        }\n    }\n    remove(e) {\n        localStorage.removeItem(e);\n    }\n    allKeys() {\n        return Object.keys(window.localStorage).filter((e)=>e.startsWith(\"@@auth0spajs@@\"));\n    }\n}\nclass $d0e8535850cb015b$export$467265324939f47f {\n    constructor(){\n        this.enclosedCache = function() {\n            let e = {};\n            return {\n                set (t, n) {\n                    e[t] = n;\n                },\n                get (t) {\n                    const n = e[t];\n                    if (n) return n;\n                },\n                remove (t) {\n                    delete e[t];\n                },\n                allKeys: ()=>Object.keys(e)\n            };\n        }();\n    }\n}\nclass $d0e8535850cb015b$var$fe {\n    constructor(e, t, n){\n        this.cache = e, this.keyManifest = t, this.nowProvider = n || $d0e8535850cb015b$var$y;\n    }\n    async setIdToken(e, t, n) {\n        var o;\n        const r = this.getIdTokenCacheKey(e);\n        await this.cache.set(r, {\n            id_token: t,\n            decodedToken: n\n        }), await (null === (o = this.keyManifest) || void 0 === o ? void 0 : o.add(r));\n    }\n    async getIdToken(e) {\n        const t = await this.cache.get(this.getIdTokenCacheKey(e.clientId));\n        if (!t && e.scope && e.audience) {\n            const t = await this.get(e);\n            if (!t) return;\n            if (!t.id_token || !t.decodedToken) return;\n            return {\n                id_token: t.id_token,\n                decodedToken: t.decodedToken\n            };\n        }\n        if (t) return {\n            id_token: t.id_token,\n            decodedToken: t.decodedToken\n        };\n    }\n    async get(e) {\n        let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0, n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2], o = arguments.length > 3 ? arguments[3] : void 0;\n        var r;\n        let i = await this.cache.get(e.toKey());\n        if (!i) {\n            const t = await this.getCacheKeys();\n            if (!t) return;\n            const r = this.matchExistingCacheKey(e, t);\n            if (r && (i = await this.cache.get(r)), !i && n && \"cache-only\" !== o) return this.getEntryWithRefreshToken(e, t);\n        }\n        if (!i) return;\n        const a = await this.nowProvider(), s = Math.floor(a / 1e3);\n        return i.expiresAt - t < s ? i.body.refresh_token ? this.modifiedCachedEntry(i, e) : (await this.cache.remove(e.toKey()), void await (null === (r = this.keyManifest) || void 0 === r ? void 0 : r.remove(e.toKey()))) : i.body;\n    }\n    async modifiedCachedEntry(e, t) {\n        return e.body = {\n            refresh_token: e.body.refresh_token,\n            audience: e.body.audience,\n            scope: e.body.scope\n        }, await this.cache.set(t.toKey(), e), {\n            refresh_token: e.body.refresh_token,\n            audience: e.body.audience,\n            scope: e.body.scope\n        };\n    }\n    async set(e) {\n        var t;\n        const n = new $d0e8535850cb015b$export$2cb47d384c8dd787({\n            clientId: e.client_id,\n            scope: e.scope,\n            audience: e.audience\n        }), o = await this.wrapCacheEntry(e);\n        await this.cache.set(n.toKey(), o), await (null === (t = this.keyManifest) || void 0 === t ? void 0 : t.add(n.toKey()));\n    }\n    async remove(e, t, n) {\n        const o = new $d0e8535850cb015b$export$2cb47d384c8dd787({\n            clientId: e,\n            scope: n,\n            audience: t\n        });\n        await this.cache.remove(o.toKey());\n    }\n    async clear(e) {\n        var t;\n        const n = await this.getCacheKeys();\n        n && (await n.filter((t)=>!e || t.includes(e)).reduce(async (e, t)=>{\n            await e, await this.cache.remove(t);\n        }, Promise.resolve()), await (null === (t = this.keyManifest) || void 0 === t ? void 0 : t.clear()));\n    }\n    async wrapCacheEntry(e) {\n        const t = await this.nowProvider();\n        return {\n            body: e,\n            expiresAt: Math.floor(t / 1e3) + e.expires_in\n        };\n    }\n    async getCacheKeys() {\n        var e;\n        return this.keyManifest ? null === (e = await this.keyManifest.get()) || void 0 === e ? void 0 : e.keys : this.cache.allKeys ? this.cache.allKeys() : void 0;\n    }\n    getIdTokenCacheKey(e) {\n        return new $d0e8535850cb015b$export$2cb47d384c8dd787({\n            clientId: e\n        }, \"@@auth0spajs@@\", \"@@user@@\").toKey();\n    }\n    matchExistingCacheKey(e, t) {\n        return t.filter((t)=>{\n            var n;\n            const o = $d0e8535850cb015b$export$2cb47d384c8dd787.fromKey(t), r = new Set(o.scope && o.scope.split(\" \")), i = (null === (n = e.scope) || void 0 === n ? void 0 : n.split(\" \")) || [], a = o.scope && i.reduce((e, t)=>e && r.has(t), !0);\n            return \"@@auth0spajs@@\" === o.prefix && o.clientId === e.clientId && o.audience === e.audience && a;\n        })[0];\n    }\n    async getEntryWithRefreshToken(e, t) {\n        var n;\n        for (const o of t){\n            const t = $d0e8535850cb015b$export$2cb47d384c8dd787.fromKey(o);\n            if (\"@@auth0spajs@@\" === t.prefix && t.clientId === e.clientId) {\n                const t = await this.cache.get(o);\n                if (null === (n = null == t ? void 0 : t.body) || void 0 === n ? void 0 : n.refresh_token) return this.modifiedCachedEntry(t, e);\n            }\n        }\n    }\n    async updateEntry(e, t) {\n        var n;\n        const o = await this.getCacheKeys();\n        if (o) for (const r of o){\n            const o = await this.cache.get(r);\n            if ((null === (n = null == o ? void 0 : o.body) || void 0 === n ? void 0 : n.refresh_token) === e) {\n                const e = Object.assign(Object.assign({}, o.body), {\n                    refresh_token: t\n                });\n                await this.set(e);\n            }\n        }\n    }\n}\nclass $d0e8535850cb015b$var$me {\n    constructor(e, t, n){\n        this.storage = e, this.clientId = t, this.cookieDomain = n, this.storageKey = \"\".concat(\"a0.spajs.txs\", \".\").concat(this.clientId);\n    }\n    create(e) {\n        this.storage.save(this.storageKey, e, {\n            daysUntilExpire: 1,\n            cookieDomain: this.cookieDomain\n        });\n    }\n    get() {\n        return this.storage.get(this.storageKey);\n    }\n    remove() {\n        this.storage.remove(this.storageKey, {\n            cookieDomain: this.cookieDomain\n        });\n    }\n}\nconst $d0e8535850cb015b$var$ye = (e)=>\"number\" == typeof e, $d0e8535850cb015b$var$we = [\n    \"iss\",\n    \"aud\",\n    \"exp\",\n    \"nbf\",\n    \"iat\",\n    \"jti\",\n    \"azp\",\n    \"nonce\",\n    \"auth_time\",\n    \"at_hash\",\n    \"c_hash\",\n    \"acr\",\n    \"amr\",\n    \"sub_jwk\",\n    \"cnf\",\n    \"sip_from_tag\",\n    \"sip_date\",\n    \"sip_callid\",\n    \"sip_cseq_num\",\n    \"sip_via_branch\",\n    \"orig\",\n    \"dest\",\n    \"mky\",\n    \"events\",\n    \"toe\",\n    \"txn\",\n    \"rph\",\n    \"sid\",\n    \"vot\",\n    \"vtm\"\n], $d0e8535850cb015b$var$ge = (e)=>{\n    if (!e.id_token) throw new Error(\"ID token is required but missing\");\n    const t = ((e)=>{\n        const t = e.split(\".\"), [n, o, r] = t;\n        if (3 !== t.length || !n || !o || !r) throw new Error(\"ID token could not be decoded\");\n        const i = JSON.parse($d0e8535850cb015b$var$L(o)), a = {\n            __raw: e\n        }, s = {};\n        return Object.keys(i).forEach((e)=>{\n            a[e] = i[e], $d0e8535850cb015b$var$we.includes(e) || (s[e] = i[e]);\n        }), {\n            encoded: {\n                header: n,\n                payload: o,\n                signature: r\n            },\n            header: JSON.parse($d0e8535850cb015b$var$L(n)),\n            claims: a,\n            user: s\n        };\n    })(e.id_token);\n    if (!t.claims.iss) throw new Error(\"Issuer (iss) claim must be a string present in the ID token\");\n    if (t.claims.iss !== e.iss) throw new Error('Issuer (iss) claim mismatch in the ID token; expected \"'.concat(e.iss, '\", found \"').concat(t.claims.iss, '\"'));\n    if (!t.user.sub) throw new Error(\"Subject (sub) claim must be a string present in the ID token\");\n    if (\"RS256\" !== t.header.alg) throw new Error('Signature algorithm of \"'.concat(t.header.alg, '\" is not supported. Expected the ID token to be signed with \"RS256\".'));\n    if (!t.claims.aud || \"string\" != typeof t.claims.aud && !Array.isArray(t.claims.aud)) throw new Error(\"Audience (aud) claim must be a string or array of strings present in the ID token\");\n    if (Array.isArray(t.claims.aud)) {\n        if (!t.claims.aud.includes(e.aud)) throw new Error('Audience (aud) claim mismatch in the ID token; expected \"'.concat(e.aud, '\" but was not one of \"').concat(t.claims.aud.join(\", \"), '\"'));\n        if (t.claims.aud.length > 1) {\n            if (!t.claims.azp) throw new Error(\"Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values\");\n            if (t.claims.azp !== e.aud) throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected \"'.concat(e.aud, '\", found \"').concat(t.claims.azp, '\"'));\n        }\n    } else if (t.claims.aud !== e.aud) throw new Error('Audience (aud) claim mismatch in the ID token; expected \"'.concat(e.aud, '\" but found \"').concat(t.claims.aud, '\"'));\n    if (e.nonce) {\n        if (!t.claims.nonce) throw new Error(\"Nonce (nonce) claim must be a string present in the ID token\");\n        if (t.claims.nonce !== e.nonce) throw new Error('Nonce (nonce) claim mismatch in the ID token; expected \"'.concat(e.nonce, '\", found \"').concat(t.claims.nonce, '\"'));\n    }\n    if (e.max_age && !$d0e8535850cb015b$var$ye(t.claims.auth_time)) throw new Error(\"Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified\");\n    if (null == t.claims.exp || !$d0e8535850cb015b$var$ye(t.claims.exp)) throw new Error(\"Expiration Time (exp) claim must be a number present in the ID token\");\n    if (!$d0e8535850cb015b$var$ye(t.claims.iat)) throw new Error(\"Issued At (iat) claim must be a number present in the ID token\");\n    const n = e.leeway || 60, o = new Date(e.now || Date.now()), r = new Date(0);\n    if (r.setUTCSeconds(t.claims.exp + n), o > r) throw new Error(\"Expiration Time (exp) claim error in the ID token; current time (\".concat(o, \") is after expiration time (\").concat(r, \")\"));\n    if (null != t.claims.nbf && $d0e8535850cb015b$var$ye(t.claims.nbf)) {\n        const e = new Date(0);\n        if (e.setUTCSeconds(t.claims.nbf - n), o < e) throw new Error(\"Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (\".concat(o, \") is before \").concat(e));\n    }\n    if (null != t.claims.auth_time && $d0e8535850cb015b$var$ye(t.claims.auth_time)) {\n        const r = new Date(0);\n        if (r.setUTCSeconds(parseInt(t.claims.auth_time) + e.max_age + n), o > r) throw new Error(\"Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (\".concat(o, \") is after last auth at \").concat(r));\n    }\n    if (e.organization) {\n        const n = e.organization.trim();\n        if (n.startsWith(\"org_\")) {\n            const e = n;\n            if (!t.claims.org_id) throw new Error(\"Organization ID (org_id) claim must be a string present in the ID token\");\n            if (e !== t.claims.org_id) throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected \"'.concat(e, '\", found \"').concat(t.claims.org_id, '\"'));\n        } else {\n            const e = n.toLowerCase();\n            if (!t.claims.org_name) throw new Error(\"Organization Name (org_name) claim must be a string present in the ID token\");\n            if (e !== t.claims.org_name) throw new Error('Organization Name (org_name) claim mismatch in the ID token; expected \"'.concat(e, '\", found \"').concat(t.claims.org_name, '\"'));\n        }\n    }\n    return t;\n};\nvar $d0e8535850cb015b$var$ve = $d0e8535850cb015b$var$t && $d0e8535850cb015b$var$t.__assign || function() {\n    return $d0e8535850cb015b$var$ve = Object.assign || function(e) {\n        for(var t, n = 1, o = arguments.length; n < o; n++)for(var r in t = arguments[n])Object.prototype.hasOwnProperty.call(t, r) && (e[r] = t[r]);\n        return e;\n    }, $d0e8535850cb015b$var$ve.apply(this, arguments);\n};\nfunction $d0e8535850cb015b$var$be(e, t) {\n    if (!t) return \"\";\n    var n = \"; \" + e;\n    return !0 === t ? n : n + \"=\" + t;\n}\nfunction $d0e8535850cb015b$var$_e(e, t, n) {\n    return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent).replace(/\\(/g, \"%28\").replace(/\\)/g, \"%29\") + \"=\" + encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent) + function(e) {\n        if (\"number\" == typeof e.expires) {\n            var t = new Date;\n            t.setMilliseconds(t.getMilliseconds() + 864e5 * e.expires), e.expires = t;\n        }\n        return $d0e8535850cb015b$var$be(\"Expires\", e.expires ? e.expires.toUTCString() : \"\") + $d0e8535850cb015b$var$be(\"Domain\", e.domain) + $d0e8535850cb015b$var$be(\"Path\", e.path) + $d0e8535850cb015b$var$be(\"Secure\", e.secure) + $d0e8535850cb015b$var$be(\"SameSite\", e.sameSite);\n    }(n);\n}\nfunction $d0e8535850cb015b$var$ke() {\n    return function(e) {\n        for(var t = {}, n = e ? e.split(\"; \") : [], o = /(%[\\dA-F]{2})+/gi, r = 0; r < n.length; r++){\n            var i = n[r].split(\"=\"), a = i.slice(1).join(\"=\");\n            '\"' === a.charAt(0) && (a = a.slice(1, -1));\n            try {\n                t[i[0].replace(o, decodeURIComponent)] = a.replace(o, decodeURIComponent);\n            } catch (e) {}\n        }\n        return t;\n    }(document.cookie);\n}\nvar $d0e8535850cb015b$var$Se = function(e) {\n    return $d0e8535850cb015b$var$ke()[e];\n};\nfunction $d0e8535850cb015b$var$Ee(e, t, n) {\n    document.cookie = $d0e8535850cb015b$var$_e(e, t, $d0e8535850cb015b$var$ve({\n        path: \"/\"\n    }, n));\n}\nvar $d0e8535850cb015b$var$Ae = $d0e8535850cb015b$var$Ee;\nvar $d0e8535850cb015b$var$Te = function(e, t) {\n    $d0e8535850cb015b$var$Ee(e, \"\", $d0e8535850cb015b$var$ve($d0e8535850cb015b$var$ve({}, t), {\n        expires: -1\n    }));\n};\nconst $d0e8535850cb015b$var$Pe = {\n    get (e) {\n        const t = $d0e8535850cb015b$var$Se(e);\n        if (void 0 !== t) return JSON.parse(t);\n    },\n    save (e, t, n) {\n        let o = {};\n        \"https:\" === window.location.protocol && (o = {\n            secure: !0,\n            sameSite: \"none\"\n        }), (null == n ? void 0 : n.daysUntilExpire) && (o.expires = n.daysUntilExpire), (null == n ? void 0 : n.cookieDomain) && (o.domain = n.cookieDomain), $d0e8535850cb015b$var$Ae(e, JSON.stringify(t), o);\n    },\n    remove (e, t) {\n        let n = {};\n        (null == t ? void 0 : t.cookieDomain) && (n.domain = t.cookieDomain), $d0e8535850cb015b$var$Te(e, n);\n    }\n}, $d0e8535850cb015b$var$Re = {\n    get (e) {\n        const t = $d0e8535850cb015b$var$Pe.get(e);\n        return t || $d0e8535850cb015b$var$Pe.get(\"\".concat(\"_legacy_\").concat(e));\n    },\n    save (e, t, n) {\n        let o = {};\n        \"https:\" === window.location.protocol && (o = {\n            secure: !0\n        }), (null == n ? void 0 : n.daysUntilExpire) && (o.expires = n.daysUntilExpire), (null == n ? void 0 : n.cookieDomain) && (o.domain = n.cookieDomain), $d0e8535850cb015b$var$Ae(\"\".concat(\"_legacy_\").concat(e), JSON.stringify(t), o), $d0e8535850cb015b$var$Pe.save(e, t, n);\n    },\n    remove (e, t) {\n        let n = {};\n        (null == t ? void 0 : t.cookieDomain) && (n.domain = t.cookieDomain), $d0e8535850cb015b$var$Te(e, n), $d0e8535850cb015b$var$Pe.remove(e, t), $d0e8535850cb015b$var$Pe.remove(\"\".concat(\"_legacy_\").concat(e), t);\n    }\n}, $d0e8535850cb015b$var$Ie = {\n    get (e) {\n        if (\"undefined\" == typeof sessionStorage) return;\n        const t = sessionStorage.getItem(e);\n        return null != t ? JSON.parse(t) : void 0;\n    },\n    save (e, t) {\n        sessionStorage.setItem(e, JSON.stringify(t));\n    },\n    remove (e) {\n        sessionStorage.removeItem(e);\n    }\n};\nvar $d0e8535850cb015b$export$7390b1e457b4cb6f;\n!function(e) {\n    e.Code = \"code\", e.ConnectCode = \"connect_code\";\n}($d0e8535850cb015b$export$7390b1e457b4cb6f || ($d0e8535850cb015b$export$7390b1e457b4cb6f = {}));\nclass $d0e8535850cb015b$export$1f44aaf2ec115b54 {\n}\nfunction $d0e8535850cb015b$var$Ce(e, t, n) {\n    var o = void 0 === t ? null : t, r = function(e, t) {\n        var n = atob(e);\n        if (t) {\n            for(var o = new Uint8Array(n.length), r = 0, i = n.length; r < i; ++r)o[r] = n.charCodeAt(r);\n            return String.fromCharCode.apply(null, new Uint16Array(o.buffer));\n        }\n        return n;\n    }(e, void 0 !== n && n), i = r.indexOf(\"\\n\", 10) + 1, a = r.substring(i) + (o ? \"//# sourceMappingURL=\" + o : \"\"), s = new Blob([\n        a\n    ], {\n        type: \"application/javascript\"\n    });\n    return URL.createObjectURL(s);\n}\nvar $d0e8535850cb015b$var$je, $d0e8535850cb015b$var$De, $d0e8535850cb015b$var$Ke, $d0e8535850cb015b$var$Le, $d0e8535850cb015b$var$Ue = ($d0e8535850cb015b$var$je = \"Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHQpe2xldHtlcnJvcjpyLGVycm9yX2Rlc2NyaXB0aW9uOnN9PXQ7cmV0dXJuIG5ldyBlKHIscyl9fWNsYXNzIHQgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKGUscyl7c3VwZXIoIm1pc3NpbmdfcmVmcmVzaF90b2tlbiIsIk1pc3NpbmcgUmVmcmVzaCBUb2tlbiAoYXVkaWVuY2U6ICciLmNvbmNhdChyKGUsWyJkZWZhdWx0Il0pLCInLCBzY29wZTogJyIpLmNvbmNhdChyKHMpLCInKSIpKSx0aGlzLmF1ZGllbmNlPWUsdGhpcy5zY29wZT1zLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLHQucHJvdG90eXBlKX19ZnVuY3Rpb24gcihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06W107cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+IiIuY29uY2F0KGUsInwiKS5jb25jYXQodCk7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jIGU9PntsZXQgcixjLHtkYXRhOnt0aW1lb3V0OmksYXV0aDphLGZldGNoVXJsOmYsZmV0Y2hPcHRpb25zOmwsdXNlRm9ybURhdGE6cCx1c2VNcnJ0Omh9LHBvcnRzOlt1XX09ZSxkPXt9O2NvbnN0e2F1ZGllbmNlOmcsc2NvcGU6eX09YXx8e307dHJ5e2NvbnN0IGU9cD8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShsLmJvZHkpOkpTT04ucGFyc2UobC5ib2R5KTtpZighZS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1lLmdyYW50X3R5cGUpe2lmKGM9KChlLHQpPT5vW24oZSx0KV0pKGcseSksIWMmJmgpe2NvbnN0IGU9by5sYXRlc3RfcmVmcmVzaF90b2tlbix0PSgoZSx0KT0+e2NvbnN0IHI9T2JqZWN0LmtleXMobykuZmluZCgocj0+e2lmKCJsYXRlc3RfcmVmcmVzaF90b2tlbiIhPT1yKXtjb25zdCBzPSgoZSx0KT0+dC5zdGFydHNXaXRoKCIiLmNvbmNhdChlLCJ8IikpKSh0LHIpLG89ci5zcGxpdCgifCIpWzFdLnNwbGl0KCIgIiksbj1lLnNwbGl0KCIgIikuZXZlcnkoKGU9Pm8uaW5jbHVkZXMoZSkpKTtyZXR1cm4gcyYmbn19KSk7cmV0dXJuISFyfSkoeSxnKTtlJiYhdCYmKGM9ZSl9aWYoIWMpdGhyb3cgbmV3IHQoZyx5KTtsLmJvZHk9cD9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7cmVmcmVzaF90b2tlbjpjfSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7cmVmcmVzaF90b2tlbjpjfSkpfWxldCBhLGs7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGE9bmV3IEFib3J0Q29udHJvbGxlcixsLnNpZ25hbD1hLnNpZ25hbCk7dHJ5e2s9YXdhaXQgUHJvbWlzZS5yYWNlKFsoaj1pLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsaikpKSksZmV0Y2goZixPYmplY3QuYXNzaWduKHt9LGwpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIHUucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFrKXJldHVybiBhJiZhLmFib3J0KCksdm9pZCB1LnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO189ay5oZWFkZXJzLGQ9Wy4uLl9dLnJlZHVjZSgoKGUsdCk9PntsZXRbcixzXT10O3JldHVybiBlW3JdPXMsZX0pLHt9KSxyPWF3YWl0IGsuanNvbigpLHIucmVmcmVzaF90b2tlbj8oaCYmKG8ubGF0ZXN0X3JlZnJlc2hfdG9rZW49ci5yZWZyZXNoX3Rva2VuLE89YyxiPXIucmVmcmVzaF90b2tlbixPYmplY3QuZW50cmllcyhvKS5mb3JFYWNoKChlPT57bGV0W3Qscl09ZTtyPT09TyYmKG9bdF09Yil9KSkpLCgoZSx0LHIpPT57b1tuKHQscildPWV9KShyLnJlZnJlc2hfdG9rZW4sZyx5KSxkZWxldGUgci5yZWZyZXNoX3Rva2VuKTooKGUsdCk9PntkZWxldGUgb1tuKGUsdCldfSkoZyx5KSx1LnBvc3RNZXNzYWdlKHtvazprLm9rLGpzb246cixoZWFkZXJzOmR9KX1jYXRjaChlKXt1LnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcjplLmVycm9yLGVycm9yX2Rlc2NyaXB0aW9uOmUubWVzc2FnZX0saGVhZGVyczpkfSl9dmFyIE8sYixfLGp9KSl9KCk7Cgo=\", $d0e8535850cb015b$var$De = null, $d0e8535850cb015b$var$Ke = !1, function(e) {\n    return $d0e8535850cb015b$var$Le = $d0e8535850cb015b$var$Le || $d0e8535850cb015b$var$Ce($d0e8535850cb015b$var$je, $d0e8535850cb015b$var$De, $d0e8535850cb015b$var$Ke), new Worker($d0e8535850cb015b$var$Le, e);\n});\nconst $d0e8535850cb015b$var$Ne = {}, $d0e8535850cb015b$var$We = async function(e) {\n    let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 3;\n    for(let n = 0; n < t; n++)if (await e()) return !0;\n    return !1;\n};\nclass $d0e8535850cb015b$var$He {\n    constructor(e, t){\n        this.cache = e, this.clientId = t, this.manifestKey = this.createManifestKeyFrom(this.clientId);\n    }\n    async add(e) {\n        var t;\n        const n = new Set((null === (t = await this.cache.get(this.manifestKey)) || void 0 === t ? void 0 : t.keys) || []);\n        n.add(e), await this.cache.set(this.manifestKey, {\n            keys: [\n                ...n\n            ]\n        });\n    }\n    async remove(e) {\n        const t = await this.cache.get(this.manifestKey);\n        if (t) {\n            const n = new Set(t.keys);\n            return n.delete(e), n.size > 0 ? await this.cache.set(this.manifestKey, {\n                keys: [\n                    ...n\n                ]\n            }) : await this.cache.remove(this.manifestKey);\n        }\n    }\n    get() {\n        return this.cache.get(this.manifestKey);\n    }\n    clear() {\n        return this.cache.remove(this.manifestKey);\n    }\n    createManifestKeyFrom(e) {\n        return \"\".concat(\"@@auth0spajs@@\", \"::\").concat(e);\n    }\n}\nconst $d0e8535850cb015b$var$ze = {\n    memory: ()=>(new $d0e8535850cb015b$export$467265324939f47f).enclosedCache,\n    localstorage: ()=>new $d0e8535850cb015b$export$40ef2cb682e70737\n}, $d0e8535850cb015b$var$Je = (e)=>$d0e8535850cb015b$var$ze[e], $d0e8535850cb015b$var$Me = (t)=>{\n    const { openUrl: n, onRedirect: o } = t, r = $d0e8535850cb015b$var$e(t, [\n        \"openUrl\",\n        \"onRedirect\"\n    ]);\n    return Object.assign(Object.assign({}, r), {\n        openUrl: !1 === n || n ? n : o\n    });\n}, $d0e8535850cb015b$var$Ve = (e, t)=>{\n    const n = (null == t ? void 0 : t.split(\" \")) || [];\n    return ((null == e ? void 0 : e.split(\" \")) || []).every((e)=>n.includes(e));\n}, $d0e8535850cb015b$var$Ge = {\n    NONCE: \"nonce\",\n    KEYPAIR: \"keypair\"\n};\nclass $d0e8535850cb015b$var$Fe {\n    constructor(e){\n        this.clientId = e;\n    }\n    getVersion() {\n        return 1;\n    }\n    createDbHandle() {\n        const e = window.indexedDB.open(\"auth0-spa-js\", this.getVersion());\n        return new Promise((t, n)=>{\n            e.onupgradeneeded = ()=>Object.values($d0e8535850cb015b$var$Ge).forEach((t)=>e.result.createObjectStore(t)), e.onerror = ()=>n(e.error), e.onsuccess = ()=>t(e.result);\n        });\n    }\n    async getDbHandle() {\n        return this.dbHandle || (this.dbHandle = await this.createDbHandle()), this.dbHandle;\n    }\n    async executeDbRequest(e, t, n) {\n        const o = n((await this.getDbHandle()).transaction(e, t).objectStore(e));\n        return new Promise((e, t)=>{\n            o.onsuccess = ()=>e(o.result), o.onerror = ()=>t(o.error);\n        });\n    }\n    buildKey(e) {\n        const t = e ? \"_\".concat(e) : \"auth0\";\n        return \"\".concat(this.clientId, \"::\").concat(t);\n    }\n    setNonce(e, t) {\n        return this.save($d0e8535850cb015b$var$Ge.NONCE, this.buildKey(t), e);\n    }\n    setKeyPair(e) {\n        return this.save($d0e8535850cb015b$var$Ge.KEYPAIR, this.buildKey(), e);\n    }\n    async save(e, t, n) {\n        await this.executeDbRequest(e, \"readwrite\", (e)=>e.put(n, t));\n    }\n    findNonce(e) {\n        return this.find($d0e8535850cb015b$var$Ge.NONCE, this.buildKey(e));\n    }\n    findKeyPair() {\n        return this.find($d0e8535850cb015b$var$Ge.KEYPAIR, this.buildKey());\n    }\n    find(e, t) {\n        return this.executeDbRequest(e, \"readonly\", (e)=>e.get(t));\n    }\n    async deleteBy(e, t) {\n        const n = await this.executeDbRequest(e, \"readonly\", (e)=>e.getAllKeys());\n        null == n || n.filter(t).map((t)=>this.executeDbRequest(e, \"readwrite\", (e)=>e.delete(t)));\n    }\n    deleteByClientId(e, t) {\n        return this.deleteBy(e, (e)=>\"string\" == typeof e && e.startsWith(\"\".concat(t, \"::\")));\n    }\n    clearNonces() {\n        return this.deleteByClientId($d0e8535850cb015b$var$Ge.NONCE, this.clientId);\n    }\n    clearKeyPairs() {\n        return this.deleteByClientId($d0e8535850cb015b$var$Ge.KEYPAIR, this.clientId);\n    }\n}\nclass $d0e8535850cb015b$var$Ze {\n    constructor(e){\n        this.storage = new $d0e8535850cb015b$var$Fe(e);\n    }\n    getNonce(e) {\n        return this.storage.findNonce(e);\n    }\n    setNonce(e, t) {\n        return this.storage.setNonce(e, t);\n    }\n    async getOrGenerateKeyPair() {\n        let e = await this.storage.findKeyPair();\n        return e || (e = await $d0e8535850cb015b$var$$(), await this.storage.setKeyPair(e)), e;\n    }\n    async generateProof(e) {\n        const t = await this.getOrGenerateKeyPair();\n        return $d0e8535850cb015b$var$te(Object.assign({\n            keyPair: t\n        }, e));\n    }\n    async calculateThumbprint() {\n        return $d0e8535850cb015b$var$ee(await this.getOrGenerateKeyPair());\n    }\n    async clear() {\n        await Promise.all([\n            this.storage.clearNonces(),\n            this.storage.clearKeyPairs()\n        ]);\n    }\n}\nvar $d0e8535850cb015b$var$qe, $d0e8535850cb015b$var$Be, $d0e8535850cb015b$var$Xe;\n!function(e) {\n    e.Bearer = \"Bearer\", e.DPoP = \"DPoP\";\n}($d0e8535850cb015b$var$qe || ($d0e8535850cb015b$var$qe = {}));\nclass $d0e8535850cb015b$var$Ye {\n    constructor(e, t){\n        this.hooks = t, this.config = Object.assign(Object.assign({}, e), {\n            fetch: e.fetch || (\"undefined\" == typeof window ? fetch : window.fetch.bind(window))\n        });\n    }\n    isAbsoluteUrl(e) {\n        return /^(https?:)?\\/\\//i.test(e);\n    }\n    buildUrl(e, t) {\n        if (t) {\n            if (this.isAbsoluteUrl(t)) return t;\n            if (e) return \"\".concat(e.replace(/\\/?\\/$/, \"\"), \"/\").concat(t.replace(/^\\/+/, \"\"));\n        }\n        throw new TypeError(\"`url` must be absolute or `baseUrl` non-empty.\");\n    }\n    getAccessToken(e) {\n        return this.config.getAccessToken ? this.config.getAccessToken(e) : this.hooks.getAccessToken(e);\n    }\n    extractUrl(e) {\n        return \"string\" == typeof e ? e : e instanceof URL ? e.href : e.url;\n    }\n    buildBaseRequest(e, t) {\n        if (!this.config.baseUrl) return new Request(e, t);\n        const n = this.buildUrl(this.config.baseUrl, this.extractUrl(e)), o = e instanceof Request ? new Request(n, e) : n;\n        return new Request(o, t);\n    }\n    setAuthorizationHeader(e, t) {\n        let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : $d0e8535850cb015b$var$qe.Bearer;\n        e.headers.set(\"authorization\", \"\".concat(n, \" \").concat(t));\n    }\n    async setDpopProofHeader(e, t) {\n        if (!this.config.dpopNonceId) return;\n        const n = await this.hooks.getDpopNonce(), o = await this.hooks.generateDpopProof({\n            accessToken: t,\n            method: e.method,\n            nonce: n,\n            url: e.url\n        });\n        e.headers.set(\"dpop\", o);\n    }\n    async prepareRequest(e, t) {\n        const n = await this.getAccessToken(t);\n        let o, r;\n        \"string\" == typeof n ? (o = this.config.dpopNonceId ? $d0e8535850cb015b$var$qe.DPoP : $d0e8535850cb015b$var$qe.Bearer, r = n) : (o = n.token_type, r = n.access_token), this.setAuthorizationHeader(e, r, o), o === $d0e8535850cb015b$var$qe.DPoP && await this.setDpopProofHeader(e, r);\n    }\n    getHeader(e, t) {\n        return Array.isArray(e) ? new Headers(e).get(t) || \"\" : \"function\" == typeof e.get ? e.get(t) || \"\" : e[t] || \"\";\n    }\n    hasUseDpopNonceError(e) {\n        if (401 !== e.status) return !1;\n        const t = this.getHeader(e.headers, \"www-authenticate\");\n        return t.includes(\"invalid_dpop_nonce\") || t.includes(\"use_dpop_nonce\");\n    }\n    async handleResponse(e, t) {\n        const n = this.getHeader(e.headers, \"dpop-nonce\");\n        if (n && await this.hooks.setDpopNonce(n), !this.hasUseDpopNonceError(e)) return e;\n        if (!n || !t.onUseDpopNonceError) throw new $d0e8535850cb015b$export$ffb710231177fce3(n);\n        return t.onUseDpopNonceError();\n    }\n    async internalFetchWithAuth(e, t, n, o) {\n        const r = this.buildBaseRequest(e, t);\n        await this.prepareRequest(r, o);\n        const i = await this.config.fetch(r);\n        return this.handleResponse(i, n);\n    }\n    fetchWithAuth(e, t, n) {\n        const o = {\n            onUseDpopNonceError: ()=>this.internalFetchWithAuth(e, t, Object.assign(Object.assign({}, o), {\n                    onUseDpopNonceError: void 0\n                }), n)\n        };\n        return this.internalFetchWithAuth(e, t, o, n);\n    }\n}\nclass $d0e8535850cb015b$var$Qe {\n    constructor(e, t){\n        this.myAccountFetcher = e, this.apiBase = t;\n    }\n    async connectAccount(e) {\n        const t = await this.myAccountFetcher.fetchWithAuth(\"\".concat(this.apiBase, \"v1/connected-accounts/connect\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(e)\n        });\n        return this._handleResponse(t);\n    }\n    async completeAccount(e) {\n        const t = await this.myAccountFetcher.fetchWithAuth(\"\".concat(this.apiBase, \"v1/connected-accounts/complete\"), {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(e)\n        });\n        return this._handleResponse(t);\n    }\n    async _handleResponse(e) {\n        let t;\n        try {\n            t = await e.text(), t = JSON.parse(t);\n        } catch (n) {\n            throw new $d0e8535850cb015b$export$2c8acf1355a80350({\n                type: \"invalid_json\",\n                status: e.status,\n                title: \"Invalid JSON response\",\n                detail: t || String(n)\n            });\n        }\n        if (e.ok) return t;\n        throw new $d0e8535850cb015b$export$2c8acf1355a80350(t);\n    }\n}\nclass $d0e8535850cb015b$export$2c8acf1355a80350 extends Error {\n    constructor(e){\n        let { type: t, status: n, title: o, detail: r, validation_errors: i } = e;\n        super(r), this.name = \"MyAccountApiError\", this.type = t, this.status = n, this.title = o, this.detail = r, this.validation_errors = i, Object.setPrototypeOf(this, $d0e8535850cb015b$export$2c8acf1355a80350.prototype);\n    }\n}\nfunction $d0e8535850cb015b$var$et(e, t) {\n    this.v = e, this.k = t;\n}\nfunction $d0e8535850cb015b$var$tt(e, t, n) {\n    if (\"function\" == typeof e ? e === t : e.has(t)) return arguments.length < 3 ? t : n;\n    throw new TypeError(\"Private element is not present on this object\");\n}\nfunction $d0e8535850cb015b$var$nt(e) {\n    return new $d0e8535850cb015b$var$et(e, 0);\n}\nfunction $d0e8535850cb015b$var$ot(e, t) {\n    if (t.has(e)) throw new TypeError(\"Cannot initialize the same private elements twice on an object\");\n}\nfunction $d0e8535850cb015b$var$rt(e, t) {\n    return e.get($d0e8535850cb015b$var$tt(e, t));\n}\nfunction $d0e8535850cb015b$var$it(e, t, n) {\n    $d0e8535850cb015b$var$ot(e, t), t.set(e, n);\n}\nfunction $d0e8535850cb015b$var$at(e, t, n) {\n    return e.set($d0e8535850cb015b$var$tt(e, t), n), n;\n}\nfunction $d0e8535850cb015b$var$st(e, t, n) {\n    return (t = function(e) {\n        var t = function(e, t) {\n            if (\"object\" != typeof e || !e) return e;\n            var n = e[Symbol.toPrimitive];\n            if (void 0 !== n) {\n                var o = n.call(e, t || \"default\");\n                if (\"object\" != typeof o) return o;\n                throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n            }\n            return (\"string\" === t ? String : Number)(e);\n        }(e, \"string\");\n        return \"symbol\" == typeof t ? t : t + \"\";\n    }(t)) in e ? Object.defineProperty(e, t, {\n        value: n,\n        enumerable: !0,\n        configurable: !0,\n        writable: !0\n    }) : e[t] = n, e;\n}\nfunction $d0e8535850cb015b$var$ct(e, t) {\n    var n = Object.keys(e);\n    if (Object.getOwnPropertySymbols) {\n        var o = Object.getOwnPropertySymbols(e);\n        t && (o = o.filter(function(t) {\n            return Object.getOwnPropertyDescriptor(e, t).enumerable;\n        })), n.push.apply(n, o);\n    }\n    return n;\n}\nfunction $d0e8535850cb015b$var$ut(e) {\n    for(var t = 1; t < arguments.length; t++){\n        var n = null != arguments[t] ? arguments[t] : {};\n        t % 2 ? $d0e8535850cb015b$var$ct(Object(n), !0).forEach(function(t) {\n            $d0e8535850cb015b$var$st(e, t, n[t]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(n)) : $d0e8535850cb015b$var$ct(Object(n)).forEach(function(t) {\n            Object.defineProperty(e, t, Object.getOwnPropertyDescriptor(n, t));\n        });\n    }\n    return e;\n}\nfunction $d0e8535850cb015b$var$lt(e, t) {\n    if (null == e) return {};\n    var n, o, r = function(e, t) {\n        if (null == e) return {};\n        var n = {};\n        for(var o in e)if (({}).hasOwnProperty.call(e, o)) {\n            if (-1 !== t.indexOf(o)) continue;\n            n[o] = e[o];\n        }\n        return n;\n    }(e, t);\n    if (Object.getOwnPropertySymbols) {\n        var i = Object.getOwnPropertySymbols(e);\n        for(o = 0; o < i.length; o++)n = i[o], -1 === t.indexOf(n) && ({}).propertyIsEnumerable.call(e, n) && (r[n] = e[n]);\n    }\n    return r;\n}\nfunction $d0e8535850cb015b$var$dt(e) {\n    return function() {\n        return new $d0e8535850cb015b$var$ht(e.apply(this, arguments));\n    };\n}\nfunction $d0e8535850cb015b$var$ht(e) {\n    var t, n;\n    function o(t, n) {\n        try {\n            var i = e[t](n), a = i.value, s = a instanceof $d0e8535850cb015b$var$et;\n            Promise.resolve(s ? a.v : a).then(function(n) {\n                if (s) {\n                    var c = \"return\" === t ? \"return\" : \"next\";\n                    if (!a.k || n.done) return o(c, n);\n                    n = e[c](n).value;\n                }\n                r(i.done ? \"return\" : \"normal\", n);\n            }, function(e) {\n                o(\"throw\", e);\n            });\n        } catch (e) {\n            r(\"throw\", e);\n        }\n    }\n    function r(e, r) {\n        switch(e){\n            case \"return\":\n                t.resolve({\n                    value: r,\n                    done: !0\n                });\n                break;\n            case \"throw\":\n                t.reject(r);\n                break;\n            default:\n                t.resolve({\n                    value: r,\n                    done: !1\n                });\n        }\n        (t = t.next) ? o(t.key, t.arg) : n = null;\n    }\n    this._invoke = function(e, r) {\n        return new Promise(function(i, a) {\n            var s = {\n                key: e,\n                arg: r,\n                resolve: i,\n                reject: a,\n                next: null\n            };\n            n ? n = n.next = s : (t = n = s, o(e, r));\n        });\n    }, \"function\" != typeof e.return && (this.return = void 0);\n}\nlet $d0e8535850cb015b$var$pt;\nif ($d0e8535850cb015b$var$ht.prototype[\"function\" == typeof Symbol && Symbol.asyncIterator || \"@@asyncIterator\"] = function() {\n    return this;\n}, $d0e8535850cb015b$var$ht.prototype.next = function(e) {\n    return this._invoke(\"next\", e);\n}, $d0e8535850cb015b$var$ht.prototype.throw = function(e) {\n    return this._invoke(\"throw\", e);\n}, $d0e8535850cb015b$var$ht.prototype.return = function(e) {\n    return this._invoke(\"return\", e);\n}, \"undefined\" == typeof navigator || null === ($d0e8535850cb015b$var$Be = navigator.userAgent) || void 0 === $d0e8535850cb015b$var$Be || null === ($d0e8535850cb015b$var$Xe = $d0e8535850cb015b$var$Be.startsWith) || void 0 === $d0e8535850cb015b$var$Xe || !$d0e8535850cb015b$var$Xe.call($d0e8535850cb015b$var$Be, \"Mozilla/5.0 \")) {\n    const e = \"v3.8.3\";\n    $d0e8535850cb015b$var$pt = \"\".concat(\"oauth4webapi\", \"/\").concat(e);\n}\nfunction $d0e8535850cb015b$var$ft(e, t) {\n    if (null == e) return !1;\n    try {\n        return e instanceof t || Object.getPrototypeOf(e)[Symbol.toStringTag] === t.prototype[Symbol.toStringTag];\n    } catch (e) {\n        return !1;\n    }\n}\nfunction $d0e8535850cb015b$var$mt(e, t, n) {\n    const o = new TypeError(e, {\n        cause: n\n    });\n    return Object.assign(o, {\n        code: t\n    }), o;\n}\nconst $d0e8535850cb015b$var$yt = Symbol(), $d0e8535850cb015b$var$wt = Symbol(), $d0e8535850cb015b$var$gt = Symbol(), $d0e8535850cb015b$var$vt = Symbol(), $d0e8535850cb015b$var$bt = Symbol(), $d0e8535850cb015b$var$_t = Symbol(), $d0e8535850cb015b$var$kt = new TextEncoder, $d0e8535850cb015b$var$St = new TextDecoder;\nfunction $d0e8535850cb015b$var$Et(e) {\n    return \"string\" == typeof e ? $d0e8535850cb015b$var$kt.encode(e) : $d0e8535850cb015b$var$St.decode(e);\n}\nlet $d0e8535850cb015b$var$At, $d0e8535850cb015b$var$Tt;\nif (Uint8Array.prototype.toBase64) $d0e8535850cb015b$var$At = (e)=>(e instanceof ArrayBuffer && (e = new Uint8Array(e)), e.toBase64({\n        alphabet: \"base64url\",\n        omitPadding: !0\n    }));\nelse {\n    const e = 32768;\n    $d0e8535850cb015b$var$At = (t)=>{\n        t instanceof ArrayBuffer && (t = new Uint8Array(t));\n        const n = [];\n        for(let o = 0; o < t.byteLength; o += e)n.push(String.fromCharCode.apply(null, t.subarray(o, o + e)));\n        return btoa(n.join(\"\")).replace(/=/g, \"\").replace(/\\+/g, \"-\").replace(/\\//g, \"_\");\n    };\n}\nfunction $d0e8535850cb015b$var$Pt(e) {\n    return \"string\" == typeof e ? $d0e8535850cb015b$var$Tt(e) : $d0e8535850cb015b$var$At(e);\n}\n$d0e8535850cb015b$var$Tt = Uint8Array.fromBase64 ? (e)=>{\n    try {\n        return Uint8Array.fromBase64(e, {\n            alphabet: \"base64url\"\n        });\n    } catch (e) {\n        throw $d0e8535850cb015b$var$mt(\"The input to be decoded is not correctly encoded.\", \"ERR_INVALID_ARG_VALUE\", e);\n    }\n} : (e)=>{\n    try {\n        const t = atob(e.replace(/-/g, \"+\").replace(/_/g, \"/\").replace(/\\s/g, \"\")), n = new Uint8Array(t.length);\n        for(let e = 0; e < t.length; e++)n[e] = t.charCodeAt(e);\n        return n;\n    } catch (e) {\n        throw $d0e8535850cb015b$var$mt(\"The input to be decoded is not correctly encoded.\", \"ERR_INVALID_ARG_VALUE\", e);\n    }\n};\nclass $d0e8535850cb015b$var$Rt extends Error {\n    constructor(e, t){\n        var n;\n        super(e, t), $d0e8535850cb015b$var$st(this, \"code\", void 0), this.name = this.constructor.name, this.code = $d0e8535850cb015b$var$Rn, null === (n = Error.captureStackTrace) || void 0 === n || n.call(Error, this, this.constructor);\n    }\n}\nclass $d0e8535850cb015b$var$It extends Error {\n    constructor(e, t){\n        var n;\n        super(e, t), $d0e8535850cb015b$var$st(this, \"code\", void 0), this.name = this.constructor.name, null != t && t.code && (this.code = null == t ? void 0 : t.code), null === (n = Error.captureStackTrace) || void 0 === n || n.call(Error, this, this.constructor);\n    }\n}\nfunction $d0e8535850cb015b$var$Ot(e, t, n) {\n    return new $d0e8535850cb015b$var$It(e, {\n        code: t,\n        cause: n\n    });\n}\nfunction $d0e8535850cb015b$var$xt(e, t) {\n    if (function(e, t) {\n        if (!(e instanceof CryptoKey)) throw $d0e8535850cb015b$var$mt(\"\".concat(t, \" must be a CryptoKey\"), \"ERR_INVALID_ARG_TYPE\");\n    }(e, t), \"private\" !== e.type) throw $d0e8535850cb015b$var$mt(\"\".concat(t, \" must be a private CryptoKey\"), \"ERR_INVALID_ARG_VALUE\");\n}\nfunction $d0e8535850cb015b$var$Ct(e) {\n    return null !== e && \"object\" == typeof e && !Array.isArray(e);\n}\nfunction $d0e8535850cb015b$var$jt(e) {\n    $d0e8535850cb015b$var$ft(e, Headers) && (e = Object.fromEntries(e.entries()));\n    const t = new Headers(null != e ? e : {});\n    if ($d0e8535850cb015b$var$pt && !t.has(\"user-agent\") && t.set(\"user-agent\", $d0e8535850cb015b$var$pt), t.has(\"authorization\")) throw $d0e8535850cb015b$var$mt('\"options.headers\" must not include the \"authorization\" header name', \"ERR_INVALID_ARG_VALUE\");\n    return t;\n}\nfunction $d0e8535850cb015b$var$Dt(e, t) {\n    if (void 0 !== t) {\n        if (\"function\" == typeof t && (t = t(e.href)), !(t instanceof AbortSignal)) throw $d0e8535850cb015b$var$mt('\"options.signal\" must return or be an instance of AbortSignal', \"ERR_INVALID_ARG_TYPE\");\n        return t;\n    }\n}\nfunction $d0e8535850cb015b$var$Kt(e) {\n    return e.includes(\"//\") ? e.replace(\"//\", \"/\") : e;\n}\nasync function $d0e8535850cb015b$var$Lt(e, t) {\n    return async function(e, t, n, o) {\n        if (!(e instanceof URL)) throw $d0e8535850cb015b$var$mt('\"'.concat(t, '\" must be an instance of URL'), \"ERR_INVALID_ARG_TYPE\");\n        $d0e8535850cb015b$var$Xt(e, !0 !== (null == o ? void 0 : o[$d0e8535850cb015b$var$yt]));\n        const r = n(new URL(e.href)), i = $d0e8535850cb015b$var$jt(null == o ? void 0 : o.headers);\n        return i.set(\"accept\", \"application/json\"), ((null == o ? void 0 : o[$d0e8535850cb015b$var$vt]) || fetch)(r.href, {\n            body: void 0,\n            headers: Object.fromEntries(i.entries()),\n            method: \"GET\",\n            redirect: \"manual\",\n            signal: $d0e8535850cb015b$var$Dt(r, null == o ? void 0 : o.signal)\n        });\n    }(e, \"issuerIdentifier\", (e)=>{\n        switch(null == t ? void 0 : t.algorithm){\n            case void 0:\n            case \"oidc\":\n                !function(e, t) {\n                    e.pathname = $d0e8535850cb015b$var$Kt(\"\".concat(e.pathname, \"/\").concat(t));\n                }(e, \".well-known/openid-configuration\");\n                break;\n            case \"oauth2\":\n                !function(e, t) {\n                    let n = arguments.length > 2 && void 0 !== arguments[2] && arguments[2];\n                    \"/\" === e.pathname ? e.pathname = t : e.pathname = $d0e8535850cb015b$var$Kt(\"\".concat(t, \"/\").concat(n ? e.pathname : e.pathname.replace(/(\\/)$/, \"\")));\n                }(e, \".well-known/oauth-authorization-server\");\n                break;\n            default:\n                throw $d0e8535850cb015b$var$mt('\"options.algorithm\" must be \"oidc\" (default), or \"oauth2\"', \"ERR_INVALID_ARG_VALUE\");\n        }\n        return e;\n    }, t);\n}\nfunction $d0e8535850cb015b$var$Ut(e, t, n, o, r) {\n    try {\n        if (\"number\" != typeof e || !Number.isFinite(e)) throw $d0e8535850cb015b$var$mt(\"\".concat(n, \" must be a number\"), \"ERR_INVALID_ARG_TYPE\", r);\n        if (e > 0) return;\n        if (t) {\n            if (0 !== e) throw $d0e8535850cb015b$var$mt(\"\".concat(n, \" must be a non-negative number\"), \"ERR_INVALID_ARG_VALUE\", r);\n            return;\n        }\n        throw $d0e8535850cb015b$var$mt(\"\".concat(n, \" must be a positive number\"), \"ERR_INVALID_ARG_VALUE\", r);\n    } catch (e) {\n        if (o) throw $d0e8535850cb015b$var$Ot(e.message, o, r);\n        throw e;\n    }\n}\nfunction $d0e8535850cb015b$var$Nt(e, t, n, o) {\n    try {\n        if (\"string\" != typeof e) throw $d0e8535850cb015b$var$mt(\"\".concat(t, \" must be a string\"), \"ERR_INVALID_ARG_TYPE\", o);\n        if (0 === e.length) throw $d0e8535850cb015b$var$mt(\"\".concat(t, \" must not be empty\"), \"ERR_INVALID_ARG_VALUE\", o);\n    } catch (e) {\n        if (n) throw $d0e8535850cb015b$var$Ot(e.message, n, o);\n        throw e;\n    }\n}\nfunction $d0e8535850cb015b$var$Wt(e) {\n    !function(e, t) {\n        if ($d0e8535850cb015b$var$ln(e) !== t) throw function(e) {\n            let t = '\"response\" content-type must be ';\n            for(var n = arguments.length, o = new Array(n > 1 ? n - 1 : 0), r = 1; r < n; r++)o[r - 1] = arguments[r];\n            if (o.length > 2) {\n                const e = o.pop();\n                t += \"\".concat(o.join(\", \"), \", or \").concat(e);\n            } else 2 === o.length ? t += \"\".concat(o[0], \" or \").concat(o[1]) : t += o[0];\n            return $d0e8535850cb015b$var$Ot(t, $d0e8535850cb015b$var$Cn, e);\n        }(e, t);\n    }(e, \"application/json\");\n}\nfunction $d0e8535850cb015b$var$Ht() {\n    return $d0e8535850cb015b$var$Pt(crypto.getRandomValues(new Uint8Array(32)));\n}\nfunction $d0e8535850cb015b$var$zt(e) {\n    switch(e.algorithm.name){\n        case \"RSA-PSS\":\n            return function(e) {\n                switch(e.algorithm.hash.name){\n                    case \"SHA-256\":\n                        return \"PS256\";\n                    case \"SHA-384\":\n                        return \"PS384\";\n                    case \"SHA-512\":\n                        return \"PS512\";\n                    default:\n                        throw new $d0e8535850cb015b$var$Rt(\"unsupported RsaHashedKeyAlgorithm hash name\", {\n                            cause: e\n                        });\n                }\n            }(e);\n        case \"RSASSA-PKCS1-v1_5\":\n            return function(e) {\n                switch(e.algorithm.hash.name){\n                    case \"SHA-256\":\n                        return \"RS256\";\n                    case \"SHA-384\":\n                        return \"RS384\";\n                    case \"SHA-512\":\n                        return \"RS512\";\n                    default:\n                        throw new $d0e8535850cb015b$var$Rt(\"unsupported RsaHashedKeyAlgorithm hash name\", {\n                            cause: e\n                        });\n                }\n            }(e);\n        case \"ECDSA\":\n            return function(e) {\n                switch(e.algorithm.namedCurve){\n                    case \"P-256\":\n                        return \"ES256\";\n                    case \"P-384\":\n                        return \"ES384\";\n                    case \"P-521\":\n                        return \"ES512\";\n                    default:\n                        throw new $d0e8535850cb015b$var$Rt(\"unsupported EcKeyAlgorithm namedCurve\", {\n                            cause: e\n                        });\n                }\n            }(e);\n        case \"Ed25519\":\n        case \"ML-DSA-44\":\n        case \"ML-DSA-65\":\n        case \"ML-DSA-87\":\n            return e.algorithm.name;\n        case \"EdDSA\":\n            return \"Ed25519\";\n        default:\n            throw new $d0e8535850cb015b$var$Rt(\"unsupported CryptoKey algorithm name\", {\n                cause: e\n            });\n    }\n}\nfunction $d0e8535850cb015b$var$Jt(e) {\n    const t = null == e ? void 0 : e[$d0e8535850cb015b$var$wt];\n    return \"number\" == typeof t && Number.isFinite(t) ? t : 0;\n}\nfunction $d0e8535850cb015b$var$Mt(e) {\n    const t = null == e ? void 0 : e[$d0e8535850cb015b$var$gt];\n    return \"number\" == typeof t && Number.isFinite(t) && -1 !== Math.sign(t) ? t : 30;\n}\nfunction $d0e8535850cb015b$var$Vt() {\n    return Math.floor(Date.now() / 1e3);\n}\nfunction $d0e8535850cb015b$var$Gt(e) {\n    if (\"object\" != typeof e || null === e) throw $d0e8535850cb015b$var$mt('\"as\" must be an object', \"ERR_INVALID_ARG_TYPE\");\n    $d0e8535850cb015b$var$Nt(e.issuer, '\"as.issuer\"');\n}\nfunction $d0e8535850cb015b$var$Ft(e) {\n    if (\"object\" != typeof e || null === e) throw $d0e8535850cb015b$var$mt('\"client\" must be an object', \"ERR_INVALID_ARG_TYPE\");\n    $d0e8535850cb015b$var$Nt(e.client_id, '\"client.client_id\"');\n}\nfunction $d0e8535850cb015b$var$Zt(e) {\n    return $d0e8535850cb015b$var$Nt(e, '\"clientSecret\"'), (t, n, o, r)=>{\n        o.set(\"client_id\", n.client_id), o.set(\"client_secret\", e);\n    };\n}\nfunction $d0e8535850cb015b$var$qt(e, t) {\n    const { key: n, kid: o } = (r = e) instanceof CryptoKey ? {\n        key: r\n    } : (null == r ? void 0 : r.key) instanceof CryptoKey ? (void 0 !== r.kid && $d0e8535850cb015b$var$Nt(r.kid, '\"kid\"'), {\n        key: r.key,\n        kid: r.kid\n    }) : {};\n    var r;\n    return $d0e8535850cb015b$var$xt(n, '\"clientPrivateKey.key\"'), async (e, r, i, a)=>{\n        var s;\n        const c = {\n            alg: $d0e8535850cb015b$var$zt(n),\n            kid: o\n        }, u = function(e, t) {\n            const n = $d0e8535850cb015b$var$Vt() + $d0e8535850cb015b$var$Jt(t);\n            return {\n                jti: $d0e8535850cb015b$var$Ht(),\n                aud: e.issuer,\n                exp: n + 60,\n                iat: n,\n                nbf: n,\n                iss: t.client_id,\n                sub: t.client_id\n            };\n        }(e, r);\n        null == t || null === (s = t[$d0e8535850cb015b$var$bt]) || void 0 === s || s.call(t, c, u), i.set(\"client_id\", r.client_id), i.set(\"client_assertion_type\", \"urn:ietf:params:oauth:client-assertion-type:jwt-bearer\"), i.set(\"client_assertion\", await async function(e, t, n) {\n            if (!n.usages.includes(\"sign\")) throw $d0e8535850cb015b$var$mt('CryptoKey instances used for signing assertions must include \"sign\" in their \"usages\"', \"ERR_INVALID_ARG_VALUE\");\n            const o = \"\".concat($d0e8535850cb015b$var$Pt($d0e8535850cb015b$var$Et(JSON.stringify(e))), \".\").concat($d0e8535850cb015b$var$Pt($d0e8535850cb015b$var$Et(JSON.stringify(t)))), r = $d0e8535850cb015b$var$Pt(await crypto.subtle.sign(function(e) {\n                switch(e.algorithm.name){\n                    case \"ECDSA\":\n                        return {\n                            name: e.algorithm.name,\n                            hash: $d0e8535850cb015b$var$Mn(e)\n                        };\n                    case \"RSA-PSS\":\n                        switch($d0e8535850cb015b$var$Jn(e), e.algorithm.hash.name){\n                            case \"SHA-256\":\n                            case \"SHA-384\":\n                            case \"SHA-512\":\n                                return {\n                                    name: e.algorithm.name,\n                                    saltLength: parseInt(e.algorithm.hash.name.slice(-3), 10) >> 3\n                                };\n                            default:\n                                throw new $d0e8535850cb015b$var$Rt(\"unsupported RSA-PSS hash name\", {\n                                    cause: e\n                                });\n                        }\n                    case \"RSASSA-PKCS1-v1_5\":\n                        return $d0e8535850cb015b$var$Jn(e), e.algorithm.name;\n                    case \"ML-DSA-44\":\n                    case \"ML-DSA-65\":\n                    case \"ML-DSA-87\":\n                    case \"Ed25519\":\n                        return e.algorithm.name;\n                }\n                throw new $d0e8535850cb015b$var$Rt(\"unsupported CryptoKey algorithm name\", {\n                    cause: e\n                });\n            }(n), n, $d0e8535850cb015b$var$Et(o)));\n            return \"\".concat(o, \".\").concat(r);\n        }(c, u, n));\n    };\n}\nconst $d0e8535850cb015b$var$Bt = URL.parse ? (e, t)=>URL.parse(e, t) : (e, t)=>{\n    try {\n        return new URL(e, t);\n    } catch (e) {\n        return null;\n    }\n};\nfunction $d0e8535850cb015b$var$Xt(e, t) {\n    if (t && \"https:\" !== e.protocol) throw $d0e8535850cb015b$var$Ot(\"only requests to HTTPS are allowed\", $d0e8535850cb015b$var$Dn, e);\n    if (\"https:\" !== e.protocol && \"http:\" !== e.protocol) throw $d0e8535850cb015b$var$Ot(\"only HTTP and HTTPS requests are allowed\", $d0e8535850cb015b$var$Kn, e);\n}\nfunction $d0e8535850cb015b$var$Yt(e, t, n, o) {\n    let r;\n    if (\"string\" != typeof e || !(r = $d0e8535850cb015b$var$Bt(e))) throw $d0e8535850cb015b$var$Ot(\"authorization server metadata does not contain a valid \".concat(n ? '\"as.mtls_endpoint_aliases.'.concat(t, '\"') : '\"as.'.concat(t, '\"')), void 0 === e ? $d0e8535850cb015b$var$Wn : $d0e8535850cb015b$var$Hn, {\n        attribute: n ? \"mtls_endpoint_aliases.\".concat(t) : t\n    });\n    return $d0e8535850cb015b$var$Xt(r, o), r;\n}\nfunction $d0e8535850cb015b$var$Qt(e, t, n, o) {\n    return n && e.mtls_endpoint_aliases && t in e.mtls_endpoint_aliases ? $d0e8535850cb015b$var$Yt(e.mtls_endpoint_aliases[t], t, n, o) : $d0e8535850cb015b$var$Yt(e[t], t, n, o);\n}\nclass $d0e8535850cb015b$var$$t extends Error {\n    constructor(e, t){\n        var n;\n        super(e, t), $d0e8535850cb015b$var$st(this, \"cause\", void 0), $d0e8535850cb015b$var$st(this, \"code\", void 0), $d0e8535850cb015b$var$st(this, \"error\", void 0), $d0e8535850cb015b$var$st(this, \"status\", void 0), $d0e8535850cb015b$var$st(this, \"error_description\", void 0), $d0e8535850cb015b$var$st(this, \"response\", void 0), this.name = this.constructor.name, this.code = $d0e8535850cb015b$var$Pn, this.cause = t.cause, this.error = t.cause.error, this.status = t.response.status, this.error_description = t.cause.error_description, Object.defineProperty(this, \"response\", {\n            enumerable: !1,\n            value: t.response\n        }), null === (n = Error.captureStackTrace) || void 0 === n || n.call(Error, this, this.constructor);\n    }\n}\nclass $d0e8535850cb015b$var$en extends Error {\n    constructor(e, t){\n        var n, o;\n        super(e, t), $d0e8535850cb015b$var$st(this, \"cause\", void 0), $d0e8535850cb015b$var$st(this, \"code\", void 0), $d0e8535850cb015b$var$st(this, \"error\", void 0), $d0e8535850cb015b$var$st(this, \"error_description\", void 0), this.name = this.constructor.name, this.code = $d0e8535850cb015b$var$In, this.cause = t.cause, this.error = t.cause.get(\"error\"), this.error_description = null !== (n = t.cause.get(\"error_description\")) && void 0 !== n ? n : void 0, null === (o = Error.captureStackTrace) || void 0 === o || o.call(Error, this, this.constructor);\n    }\n}\nclass $d0e8535850cb015b$var$tn extends Error {\n    constructor(e, t){\n        var n;\n        super(e, t), $d0e8535850cb015b$var$st(this, \"cause\", void 0), $d0e8535850cb015b$var$st(this, \"code\", void 0), $d0e8535850cb015b$var$st(this, \"response\", void 0), $d0e8535850cb015b$var$st(this, \"status\", void 0), this.name = this.constructor.name, this.code = $d0e8535850cb015b$var$Tn, this.cause = t.cause, this.status = t.response.status, this.response = t.response, Object.defineProperty(this, \"response\", {\n            enumerable: !1\n        }), null === (n = Error.captureStackTrace) || void 0 === n || n.call(Error, this, this.constructor);\n    }\n}\nconst $d0e8535850cb015b$var$nn = \"[a-zA-Z0-9!#$%&\\\\'\\\\*\\\\+\\\\-\\\\.\\\\^_`\\\\|~]+\", $d0e8535850cb015b$var$on = new RegExp(\"^[,\\\\s]*(\" + $d0e8535850cb015b$var$nn + \")\"), $d0e8535850cb015b$var$rn = new RegExp('^[,\\\\s]*([a-zA-Z0-9!#$%&\\\\\\'\\\\*\\\\+\\\\-\\\\.\\\\^_`\\\\|~]+)\\\\s*=\\\\s*\"((?:[^\"\\\\\\\\]|\\\\\\\\[\\\\s\\\\S])*)\"[,\\\\s]*(.*)'), $d0e8535850cb015b$var$an = new RegExp(\"^[,\\\\s]*([a-zA-Z0-9!#$%&\\\\'\\\\*\\\\+\\\\-\\\\.\\\\^_`\\\\|~]+)\\\\s*=\\\\s*([a-zA-Z0-9!#$%&\\\\'\\\\*\\\\+\\\\-\\\\.\\\\^_`\\\\|~]+)[,\\\\s]*(.*)\"), $d0e8535850cb015b$var$sn = new RegExp(\"^([a-zA-Z0-9\\\\-\\\\._\\\\~\\\\+\\\\/]+={0,2})(?:$|[,\\\\s])(.*)\");\nasync function $d0e8535850cb015b$var$cn(e, t, n) {\n    if (e.status !== t) {\n        let t;\n        var o;\n        if (function(e) {\n            let t;\n            if (t = function(e) {\n                if (!$d0e8535850cb015b$var$ft(e, Response)) throw $d0e8535850cb015b$var$mt('\"response\" must be an instance of Response', \"ERR_INVALID_ARG_TYPE\");\n                const t = e.headers.get(\"www-authenticate\");\n                if (null === t) return;\n                const n = [];\n                let o = t;\n                for(; o;){\n                    var r;\n                    let e = o.match($d0e8535850cb015b$var$on);\n                    const t = null === (r = e) || void 0 === r ? void 0 : r[1].toLowerCase();\n                    if (!t) return;\n                    const i = o.substring(e[0].length);\n                    if (i && !i.match(/^[\\s,]/)) return;\n                    const a = i.match(/^\\s+(.*)$/), s = !!a;\n                    o = a ? a[1] : void 0;\n                    const c = {};\n                    let u;\n                    if (s) for(; o;){\n                        let t, n;\n                        if (e = o.match($d0e8535850cb015b$var$rn)) {\n                            if ([, t, n, o] = e, n.includes(\"\\\\\")) try {\n                                n = JSON.parse('\"'.concat(n, '\"'));\n                            } catch (e) {}\n                            c[t.toLowerCase()] = n;\n                        } else {\n                            if (!(e = o.match($d0e8535850cb015b$var$an))) {\n                                if (e = o.match($d0e8535850cb015b$var$sn)) {\n                                    if (Object.keys(c).length) break;\n                                    [, u, o] = e;\n                                    break;\n                                }\n                                return;\n                            }\n                            [, t, n, o] = e, c[t.toLowerCase()] = n;\n                        }\n                    }\n                    else o = i || void 0;\n                    const l = {\n                        scheme: t,\n                        parameters: c\n                    };\n                    u && (l.token68 = u), n.push(l);\n                }\n                return n.length ? n : void 0;\n            }(e)) throw new $d0e8535850cb015b$var$tn(\"server responded with a challenge in the WWW-Authenticate HTTP Header\", {\n                cause: t,\n                response: e\n            });\n        }(e), t = await async function(e) {\n            if (e.status > 399 && e.status < 500) {\n                $d0e8535850cb015b$var$zn(e), $d0e8535850cb015b$var$Wt(e);\n                try {\n                    const t = await e.clone().json();\n                    if ($d0e8535850cb015b$var$Ct(t) && \"string\" == typeof t.error && t.error.length) return t;\n                } catch (e) {}\n            }\n        }(e)) throw await (null === (o = e.body) || void 0 === o ? void 0 : o.cancel()), new $d0e8535850cb015b$var$$t(\"server responded with an error in the response body\", {\n            cause: t,\n            response: e\n        });\n        throw $d0e8535850cb015b$var$Ot('\"response\" is not a conform '.concat(n, \" response (unexpected HTTP status code)\"), $d0e8535850cb015b$var$jn, e);\n    }\n}\nfunction $d0e8535850cb015b$var$un(e) {\n    if (!$d0e8535850cb015b$var$vn.has(e)) throw $d0e8535850cb015b$var$mt('\"options.DPoP\" is not a valid DPoPHandle', \"ERR_INVALID_ARG_VALUE\");\n}\nfunction $d0e8535850cb015b$var$ln(e) {\n    var t;\n    return null === (t = e.headers.get(\"content-type\")) || void 0 === t ? void 0 : t.split(\";\")[0];\n}\nasync function $d0e8535850cb015b$var$dn(e, t, n, o, r, i, a) {\n    return await n(e, t, r, i), i.set(\"content-type\", \"application/x-www-form-urlencoded;charset=UTF-8\"), ((null == a ? void 0 : a[$d0e8535850cb015b$var$vt]) || fetch)(o.href, {\n        body: r,\n        headers: Object.fromEntries(i.entries()),\n        method: \"POST\",\n        redirect: \"manual\",\n        signal: $d0e8535850cb015b$var$Dt(o, null == a ? void 0 : a.signal)\n    });\n}\nasync function $d0e8535850cb015b$var$hn(e, t, n, o, r, i) {\n    var a;\n    const s = $d0e8535850cb015b$var$Qt(e, \"token_endpoint\", t.use_mtls_endpoint_aliases, !0 !== (null == i ? void 0 : i[$d0e8535850cb015b$var$yt]));\n    r.set(\"grant_type\", o);\n    const c = $d0e8535850cb015b$var$jt(null == i ? void 0 : i.headers);\n    c.set(\"accept\", \"application/json\"), void 0 !== (null == i ? void 0 : i.DPoP) && ($d0e8535850cb015b$var$un(i.DPoP), await i.DPoP.addProof(s, c, \"POST\"));\n    const u = await $d0e8535850cb015b$var$dn(e, t, n, s, r, c, i);\n    return null == i || null === (a = i.DPoP) || void 0 === a || a.cacheNonce(u, s), u;\n}\nconst $d0e8535850cb015b$var$pn = new WeakMap, $d0e8535850cb015b$var$fn = new WeakMap;\nfunction $d0e8535850cb015b$var$mn(e) {\n    if (!e.id_token) return;\n    const t = $d0e8535850cb015b$var$pn.get(e);\n    if (!t) throw $d0e8535850cb015b$var$mt('\"ref\" was already garbage collected or did not resolve from the proper sources', \"ERR_INVALID_ARG_VALUE\");\n    return t;\n}\nasync function $d0e8535850cb015b$var$yn(e, t, n, o, r, i) {\n    if ($d0e8535850cb015b$var$Gt(e), $d0e8535850cb015b$var$Ft(t), !$d0e8535850cb015b$var$ft(n, Response)) throw $d0e8535850cb015b$var$mt('\"response\" must be an instance of Response', \"ERR_INVALID_ARG_TYPE\");\n    await $d0e8535850cb015b$var$cn(n, 200, \"Token Endpoint\"), $d0e8535850cb015b$var$zn(n);\n    const a = await $d0e8535850cb015b$var$Xn(n);\n    if ($d0e8535850cb015b$var$Nt(a.access_token, '\"response\" body \"access_token\" property', $d0e8535850cb015b$var$xn, {\n        body: a\n    }), $d0e8535850cb015b$var$Nt(a.token_type, '\"response\" body \"token_type\" property', $d0e8535850cb015b$var$xn, {\n        body: a\n    }), a.token_type = a.token_type.toLowerCase(), void 0 !== a.expires_in) {\n        let e = \"number\" != typeof a.expires_in ? parseFloat(a.expires_in) : a.expires_in;\n        $d0e8535850cb015b$var$Ut(e, !0, '\"response\" body \"expires_in\" property', $d0e8535850cb015b$var$xn, {\n            body: a\n        }), a.expires_in = e;\n    }\n    if (void 0 !== a.refresh_token && $d0e8535850cb015b$var$Nt(a.refresh_token, '\"response\" body \"refresh_token\" property', $d0e8535850cb015b$var$xn, {\n        body: a\n    }), void 0 !== a.scope && \"string\" != typeof a.scope) throw $d0e8535850cb015b$var$Ot('\"response\" body \"scope\" property must be a string', $d0e8535850cb015b$var$xn, {\n        body: a\n    });\n    if (void 0 !== a.id_token) {\n        $d0e8535850cb015b$var$Nt(a.id_token, '\"response\" body \"id_token\" property', $d0e8535850cb015b$var$xn, {\n            body: a\n        });\n        const i = [\n            \"aud\",\n            \"exp\",\n            \"iat\",\n            \"iss\",\n            \"sub\"\n        ];\n        !0 === t.require_auth_time && i.push(\"auth_time\"), void 0 !== t.default_max_age && ($d0e8535850cb015b$var$Ut(t.default_max_age, !0, '\"client.default_max_age\"'), i.push(\"auth_time\")), null != o && o.length && i.push(...o);\n        const { claims: s, jwt: c } = await (async function(e, t, n, o, r) {\n            let i, a, { 0: s, 1: c, length: u } = e.split(\".\");\n            if (5 === u) {\n                if (void 0 === r) throw new $d0e8535850cb015b$var$Rt(\"JWE decryption is not configured\", {\n                    cause: e\n                });\n                e = await r(e), { 0: s, 1: c, length: u } = e.split(\".\");\n            }\n            if (3 !== u) throw $d0e8535850cb015b$var$Ot(\"Invalid JWT\", $d0e8535850cb015b$var$xn, e);\n            try {\n                i = JSON.parse($d0e8535850cb015b$var$Et($d0e8535850cb015b$var$Pt(s)));\n            } catch (e) {\n                throw $d0e8535850cb015b$var$Ot(\"failed to parse JWT Header body as base64url encoded JSON\", $d0e8535850cb015b$var$On, e);\n            }\n            if (!$d0e8535850cb015b$var$Ct(i)) throw $d0e8535850cb015b$var$Ot(\"JWT Header must be a top level object\", $d0e8535850cb015b$var$xn, e);\n            if (t(i), void 0 !== i.crit) throw new $d0e8535850cb015b$var$Rt('no JWT \"crit\" header parameter extensions are supported', {\n                cause: {\n                    header: i\n                }\n            });\n            try {\n                a = JSON.parse($d0e8535850cb015b$var$Et($d0e8535850cb015b$var$Pt(c)));\n            } catch (e) {\n                throw $d0e8535850cb015b$var$Ot(\"failed to parse JWT Payload body as base64url encoded JSON\", $d0e8535850cb015b$var$On, e);\n            }\n            if (!$d0e8535850cb015b$var$Ct(a)) throw $d0e8535850cb015b$var$Ot(\"JWT Payload must be a top level object\", $d0e8535850cb015b$var$xn, e);\n            const l = $d0e8535850cb015b$var$Vt() + n;\n            if (void 0 !== a.exp) {\n                if (\"number\" != typeof a.exp) throw $d0e8535850cb015b$var$Ot('unexpected JWT \"exp\" (expiration time) claim type', $d0e8535850cb015b$var$xn, {\n                    claims: a\n                });\n                if (a.exp <= l - o) throw $d0e8535850cb015b$var$Ot('unexpected JWT \"exp\" (expiration time) claim value, expiration is past current timestamp', $d0e8535850cb015b$var$Ln, {\n                    claims: a,\n                    now: l,\n                    tolerance: o,\n                    claim: \"exp\"\n                });\n            }\n            if (void 0 !== a.iat && \"number\" != typeof a.iat) throw $d0e8535850cb015b$var$Ot('unexpected JWT \"iat\" (issued at) claim type', $d0e8535850cb015b$var$xn, {\n                claims: a\n            });\n            if (void 0 !== a.iss && \"string\" != typeof a.iss) throw $d0e8535850cb015b$var$Ot('unexpected JWT \"iss\" (issuer) claim type', $d0e8535850cb015b$var$xn, {\n                claims: a\n            });\n            if (void 0 !== a.nbf) {\n                if (\"number\" != typeof a.nbf) throw $d0e8535850cb015b$var$Ot('unexpected JWT \"nbf\" (not before) claim type', $d0e8535850cb015b$var$xn, {\n                    claims: a\n                });\n                if (a.nbf > l + o) throw $d0e8535850cb015b$var$Ot('unexpected JWT \"nbf\" (not before) claim value', $d0e8535850cb015b$var$Ln, {\n                    claims: a,\n                    now: l,\n                    tolerance: o,\n                    claim: \"nbf\"\n                });\n            }\n            if (void 0 !== a.aud && \"string\" != typeof a.aud && !Array.isArray(a.aud)) throw $d0e8535850cb015b$var$Ot('unexpected JWT \"aud\" (audience) claim type', $d0e8535850cb015b$var$xn, {\n                claims: a\n            });\n            return {\n                header: i,\n                claims: a,\n                jwt: e\n            };\n        })(a.id_token, $d0e8535850cb015b$var$Gn.bind(void 0, t.id_token_signed_response_alg, e.id_token_signing_alg_values_supported, \"RS256\"), $d0e8535850cb015b$var$Jt(t), $d0e8535850cb015b$var$Mt(t), r).then($d0e8535850cb015b$var$kn.bind(void 0, i)).then($d0e8535850cb015b$var$gn.bind(void 0, e)).then($d0e8535850cb015b$var$wn.bind(void 0, t.client_id));\n        if (Array.isArray(s.aud) && 1 !== s.aud.length) {\n            if (void 0 === s.azp) throw $d0e8535850cb015b$var$Ot('ID Token \"aud\" (audience) claim includes additional untrusted audiences', $d0e8535850cb015b$var$Un, {\n                claims: s,\n                claim: \"aud\"\n            });\n            if (s.azp !== t.client_id) throw $d0e8535850cb015b$var$Ot('unexpected ID Token \"azp\" (authorized party) claim value', $d0e8535850cb015b$var$Un, {\n                expected: t.client_id,\n                claims: s,\n                claim: \"azp\"\n            });\n        }\n        void 0 !== s.auth_time && $d0e8535850cb015b$var$Ut(s.auth_time, !0, 'ID Token \"auth_time\" (authentication time)', $d0e8535850cb015b$var$xn, {\n            claims: s\n        }), $d0e8535850cb015b$var$fn.set(n, c), $d0e8535850cb015b$var$pn.set(a, s);\n    }\n    if (void 0 !== (null == i ? void 0 : i[a.token_type])) i[a.token_type](n, a);\n    else if (\"dpop\" !== a.token_type && \"bearer\" !== a.token_type) throw new $d0e8535850cb015b$var$Rt(\"unsupported `token_type` value\", {\n        cause: {\n            body: a\n        }\n    });\n    return a;\n}\nfunction $d0e8535850cb015b$var$wn(e, t) {\n    if (Array.isArray(t.claims.aud)) {\n        if (!t.claims.aud.includes(e)) throw $d0e8535850cb015b$var$Ot('unexpected JWT \"aud\" (audience) claim value', $d0e8535850cb015b$var$Un, {\n            expected: e,\n            claims: t.claims,\n            claim: \"aud\"\n        });\n    } else if (t.claims.aud !== e) throw $d0e8535850cb015b$var$Ot('unexpected JWT \"aud\" (audience) claim value', $d0e8535850cb015b$var$Un, {\n        expected: e,\n        claims: t.claims,\n        claim: \"aud\"\n    });\n    return t;\n}\nfunction $d0e8535850cb015b$var$gn(e, t) {\n    var n, o;\n    const r = null !== (n = null === (o = e[$d0e8535850cb015b$var$Qn]) || void 0 === o ? void 0 : o.call(e, t)) && void 0 !== n ? n : e.issuer;\n    if (t.claims.iss !== r) throw $d0e8535850cb015b$var$Ot('unexpected JWT \"iss\" (issuer) claim value', $d0e8535850cb015b$var$Un, {\n        expected: r,\n        claims: t.claims,\n        claim: \"iss\"\n    });\n    return t;\n}\nconst $d0e8535850cb015b$var$vn = new WeakSet;\nconst $d0e8535850cb015b$var$bn = Symbol();\nconst $d0e8535850cb015b$var$_n = {\n    aud: \"audience\",\n    c_hash: \"code hash\",\n    client_id: \"client id\",\n    exp: \"expiration time\",\n    iat: \"issued at\",\n    iss: \"issuer\",\n    jti: \"jwt id\",\n    nonce: \"nonce\",\n    s_hash: \"state hash\",\n    sub: \"subject\",\n    ath: \"access token hash\",\n    htm: \"http method\",\n    htu: \"http uri\",\n    cnf: \"confirmation\",\n    auth_time: \"authentication time\"\n};\nfunction $d0e8535850cb015b$var$kn(e, t) {\n    for (const n of e)if (void 0 === t.claims[n]) throw $d0e8535850cb015b$var$Ot('JWT \"'.concat(n, '\" (').concat($d0e8535850cb015b$var$_n[n], \") claim missing\"), $d0e8535850cb015b$var$xn, {\n        claims: t.claims\n    });\n    return t;\n}\nconst $d0e8535850cb015b$var$Sn = Symbol(), $d0e8535850cb015b$var$En = Symbol();\nasync function $d0e8535850cb015b$var$An(e, t, n, o) {\n    return \"string\" == typeof (null == o ? void 0 : o.expectedNonce) || \"number\" == typeof (null == o ? void 0 : o.maxAge) || null != o && o.requireIdToken ? async function(e, t, n, o, r, i, a) {\n        const s = [];\n        switch(o){\n            case void 0:\n                o = $d0e8535850cb015b$var$Sn;\n                break;\n            case $d0e8535850cb015b$var$Sn:\n                break;\n            default:\n                $d0e8535850cb015b$var$Nt(o, '\"expectedNonce\" argument'), s.push(\"nonce\");\n        }\n        switch(null != r || (r = t.default_max_age), r){\n            case void 0:\n                r = $d0e8535850cb015b$var$En;\n                break;\n            case $d0e8535850cb015b$var$En:\n                break;\n            default:\n                $d0e8535850cb015b$var$Ut(r, !0, '\"maxAge\" argument'), s.push(\"auth_time\");\n        }\n        const c = await $d0e8535850cb015b$var$yn(e, t, n, s, i, a);\n        $d0e8535850cb015b$var$Nt(c.id_token, '\"response\" body \"id_token\" property', $d0e8535850cb015b$var$xn, {\n            body: c\n        });\n        const u = $d0e8535850cb015b$var$mn(c);\n        if (r !== $d0e8535850cb015b$var$En) {\n            const e = $d0e8535850cb015b$var$Vt() + $d0e8535850cb015b$var$Jt(t), n = $d0e8535850cb015b$var$Mt(t);\n            if (u.auth_time + r < e - n) throw $d0e8535850cb015b$var$Ot(\"too much time has elapsed since the last End-User authentication\", $d0e8535850cb015b$var$Ln, {\n                claims: u,\n                now: e,\n                tolerance: n,\n                claim: \"auth_time\"\n            });\n        }\n        if (o === $d0e8535850cb015b$var$Sn) {\n            if (void 0 !== u.nonce) throw $d0e8535850cb015b$var$Ot('unexpected ID Token \"nonce\" claim value', $d0e8535850cb015b$var$Un, {\n                expected: void 0,\n                claims: u,\n                claim: \"nonce\"\n            });\n        } else if (u.nonce !== o) throw $d0e8535850cb015b$var$Ot('unexpected ID Token \"nonce\" claim value', $d0e8535850cb015b$var$Un, {\n            expected: o,\n            claims: u,\n            claim: \"nonce\"\n        });\n        return c;\n    }(e, t, n, o.expectedNonce, o.maxAge, o[$d0e8535850cb015b$var$_t], o.recognizedTokenTypes) : async function(e, t, n, o, r) {\n        const i = await $d0e8535850cb015b$var$yn(e, t, n, void 0, o, r), a = $d0e8535850cb015b$var$mn(i);\n        if (a) {\n            if (void 0 !== t.default_max_age) {\n                $d0e8535850cb015b$var$Ut(t.default_max_age, !0, '\"client.default_max_age\"');\n                const e = $d0e8535850cb015b$var$Vt() + $d0e8535850cb015b$var$Jt(t), n = $d0e8535850cb015b$var$Mt(t);\n                if (a.auth_time + t.default_max_age < e - n) throw $d0e8535850cb015b$var$Ot(\"too much time has elapsed since the last End-User authentication\", $d0e8535850cb015b$var$Ln, {\n                    claims: a,\n                    now: e,\n                    tolerance: n,\n                    claim: \"auth_time\"\n                });\n            }\n            if (void 0 !== a.nonce) throw $d0e8535850cb015b$var$Ot('unexpected ID Token \"nonce\" claim value', $d0e8535850cb015b$var$Un, {\n                expected: void 0,\n                claims: a,\n                claim: \"nonce\"\n            });\n        }\n        return i;\n    }(e, t, n, null == o ? void 0 : o[$d0e8535850cb015b$var$_t], null == o ? void 0 : o.recognizedTokenTypes);\n}\nconst $d0e8535850cb015b$var$Tn = \"OAUTH_WWW_AUTHENTICATE_CHALLENGE\", $d0e8535850cb015b$var$Pn = \"OAUTH_RESPONSE_BODY_ERROR\", $d0e8535850cb015b$var$Rn = \"OAUTH_UNSUPPORTED_OPERATION\", $d0e8535850cb015b$var$In = \"OAUTH_AUTHORIZATION_RESPONSE_ERROR\", $d0e8535850cb015b$var$On = \"OAUTH_PARSE_ERROR\", $d0e8535850cb015b$var$xn = \"OAUTH_INVALID_RESPONSE\", $d0e8535850cb015b$var$Cn = \"OAUTH_RESPONSE_IS_NOT_JSON\", $d0e8535850cb015b$var$jn = \"OAUTH_RESPONSE_IS_NOT_CONFORM\", $d0e8535850cb015b$var$Dn = \"OAUTH_HTTP_REQUEST_FORBIDDEN\", $d0e8535850cb015b$var$Kn = \"OAUTH_REQUEST_PROTOCOL_FORBIDDEN\", $d0e8535850cb015b$var$Ln = \"OAUTH_JWT_TIMESTAMP_CHECK_FAILED\", $d0e8535850cb015b$var$Un = \"OAUTH_JWT_CLAIM_COMPARISON_FAILED\", $d0e8535850cb015b$var$Nn = \"OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED\", $d0e8535850cb015b$var$Wn = \"OAUTH_MISSING_SERVER_METADATA\", $d0e8535850cb015b$var$Hn = \"OAUTH_INVALID_SERVER_METADATA\";\nfunction $d0e8535850cb015b$var$zn(e) {\n    if (e.bodyUsed) throw $d0e8535850cb015b$var$mt('\"response\" body has been used already', \"ERR_INVALID_ARG_VALUE\");\n}\nfunction $d0e8535850cb015b$var$Jn(e) {\n    const { algorithm: t } = e;\n    if (\"number\" != typeof t.modulusLength || t.modulusLength < 2048) throw new $d0e8535850cb015b$var$Rt(\"unsupported \".concat(t.name, \" modulusLength\"), {\n        cause: e\n    });\n}\nfunction $d0e8535850cb015b$var$Mn(e) {\n    const { algorithm: t } = e;\n    switch(t.namedCurve){\n        case \"P-256\":\n            return \"SHA-256\";\n        case \"P-384\":\n            return \"SHA-384\";\n        case \"P-521\":\n            return \"SHA-512\";\n        default:\n            throw new $d0e8535850cb015b$var$Rt(\"unsupported ECDSA namedCurve\", {\n                cause: e\n            });\n    }\n}\nasync function $d0e8535850cb015b$var$Vn(e) {\n    if (\"POST\" !== e.method) throw $d0e8535850cb015b$var$mt(\"form_post responses are expected to use the POST method\", \"ERR_INVALID_ARG_VALUE\", {\n        cause: e\n    });\n    if (\"application/x-www-form-urlencoded\" !== $d0e8535850cb015b$var$ln(e)) throw $d0e8535850cb015b$var$mt(\"form_post responses are expected to use the application/x-www-form-urlencoded content-type\", \"ERR_INVALID_ARG_VALUE\", {\n        cause: e\n    });\n    return async function(e) {\n        if (e.bodyUsed) throw $d0e8535850cb015b$var$mt(\"form_post Request instances must contain a readable body\", \"ERR_INVALID_ARG_VALUE\", {\n            cause: e\n        });\n        return e.text();\n    }(e);\n}\nfunction $d0e8535850cb015b$var$Gn(e, t, n, o) {\n    if (void 0 === e) {\n        if (Array.isArray(t)) {\n            if (!t.includes(o.alg)) throw $d0e8535850cb015b$var$Ot('unexpected JWT \"alg\" header parameter', $d0e8535850cb015b$var$xn, {\n                header: o,\n                expected: t,\n                reason: \"authorization server metadata\"\n            });\n        } else {\n            if (void 0 === n) throw $d0e8535850cb015b$var$Ot('missing client or server configuration to verify used JWT \"alg\" header parameter', void 0, {\n                client: e,\n                issuer: t,\n                fallback: n\n            });\n            if (\"string\" == typeof n ? o.alg !== n : \"function\" == typeof n ? !n(o.alg) : !n.includes(o.alg)) throw $d0e8535850cb015b$var$Ot('unexpected JWT \"alg\" header parameter', $d0e8535850cb015b$var$xn, {\n                header: o,\n                expected: n,\n                reason: \"default value\"\n            });\n        }\n    } else if (\"string\" == typeof e ? o.alg !== e : !e.includes(o.alg)) throw $d0e8535850cb015b$var$Ot('unexpected JWT \"alg\" header parameter', $d0e8535850cb015b$var$xn, {\n        header: o,\n        expected: e,\n        reason: \"client configuration\"\n    });\n}\nfunction $d0e8535850cb015b$var$Fn(e, t) {\n    const { 0: n, length: o } = e.getAll(t);\n    if (o > 1) throw $d0e8535850cb015b$var$Ot('\"'.concat(t, '\" parameter must be provided only once'), $d0e8535850cb015b$var$xn);\n    return n;\n}\nconst $d0e8535850cb015b$var$Zn = Symbol(), $d0e8535850cb015b$var$qn = Symbol();\nfunction $d0e8535850cb015b$var$Bn(e, t, n, o) {\n    if ($d0e8535850cb015b$var$Gt(e), $d0e8535850cb015b$var$Ft(t), n instanceof URL && (n = n.searchParams), !(n instanceof URLSearchParams)) throw $d0e8535850cb015b$var$mt('\"parameters\" must be an instance of URLSearchParams, or URL', \"ERR_INVALID_ARG_TYPE\");\n    if ($d0e8535850cb015b$var$Fn(n, \"response\")) throw $d0e8535850cb015b$var$Ot('\"parameters\" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()', $d0e8535850cb015b$var$xn, {\n        parameters: n\n    });\n    const r = $d0e8535850cb015b$var$Fn(n, \"iss\"), i = $d0e8535850cb015b$var$Fn(n, \"state\");\n    if (!r && e.authorization_response_iss_parameter_supported) throw $d0e8535850cb015b$var$Ot('response parameter \"iss\" (issuer) missing', $d0e8535850cb015b$var$xn, {\n        parameters: n\n    });\n    if (r && r !== e.issuer) throw $d0e8535850cb015b$var$Ot('unexpected \"iss\" (issuer) response parameter value', $d0e8535850cb015b$var$xn, {\n        expected: e.issuer,\n        parameters: n\n    });\n    switch(o){\n        case void 0:\n        case $d0e8535850cb015b$var$qn:\n            if (void 0 !== i) throw $d0e8535850cb015b$var$Ot('unexpected \"state\" response parameter encountered', $d0e8535850cb015b$var$xn, {\n                expected: void 0,\n                parameters: n\n            });\n            break;\n        case $d0e8535850cb015b$var$Zn:\n            break;\n        default:\n            if ($d0e8535850cb015b$var$Nt(o, '\"expectedState\" argument'), i !== o) throw $d0e8535850cb015b$var$Ot(void 0 === i ? 'response parameter \"state\" missing' : 'unexpected \"state\" response parameter value', $d0e8535850cb015b$var$xn, {\n                expected: o,\n                parameters: n\n            });\n    }\n    if ($d0e8535850cb015b$var$Fn(n, \"error\")) throw new $d0e8535850cb015b$var$en(\"authorization response from the server is an error\", {\n        cause: n\n    });\n    const a = $d0e8535850cb015b$var$Fn(n, \"id_token\"), s = $d0e8535850cb015b$var$Fn(n, \"token\");\n    if (void 0 !== a || void 0 !== s) throw new $d0e8535850cb015b$var$Rt(\"implicit and hybrid flows are not supported\");\n    var c;\n    return c = new URLSearchParams(n), $d0e8535850cb015b$var$vn.add(c), c;\n}\nasync function $d0e8535850cb015b$var$Xn(e) {\n    let t, n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : $d0e8535850cb015b$var$Wt;\n    try {\n        t = await e.json();\n    } catch (t) {\n        throw n(e), $d0e8535850cb015b$var$Ot('failed to parse \"response\" body as JSON', $d0e8535850cb015b$var$On, t);\n    }\n    if (!$d0e8535850cb015b$var$Ct(t)) throw $d0e8535850cb015b$var$Ot('\"response\" body must be a top level object', $d0e8535850cb015b$var$xn, {\n        body: t\n    });\n    return t;\n}\nconst $d0e8535850cb015b$var$Yn = Symbol(), $d0e8535850cb015b$var$Qn = Symbol(), $d0e8535850cb015b$var$$n = new TextEncoder, $d0e8535850cb015b$var$eo = new TextDecoder;\nfunction $d0e8535850cb015b$var$to(e) {\n    const t = new Uint8Array(e.length);\n    for(let n = 0; n < e.length; n++){\n        const o = e.charCodeAt(n);\n        if (o > 127) throw new TypeError(\"non-ASCII string encountered in encode()\");\n        t[n] = o;\n    }\n    return t;\n}\nfunction $d0e8535850cb015b$var$no(e) {\n    if (Uint8Array.fromBase64) return Uint8Array.fromBase64(e);\n    const t = atob(e), n = new Uint8Array(t.length);\n    for(let e = 0; e < t.length; e++)n[e] = t.charCodeAt(e);\n    return n;\n}\nfunction $d0e8535850cb015b$var$oo(e) {\n    if (Uint8Array.fromBase64) return Uint8Array.fromBase64(\"string\" == typeof e ? e : $d0e8535850cb015b$var$eo.decode(e), {\n        alphabet: \"base64url\"\n    });\n    let t = e;\n    t instanceof Uint8Array && (t = $d0e8535850cb015b$var$eo.decode(t)), t = t.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    try {\n        return $d0e8535850cb015b$var$no(t);\n    } catch (e) {\n        throw new TypeError(\"The input to be decoded is not correctly encoded.\");\n    }\n}\nclass $d0e8535850cb015b$var$ro extends Error {\n    constructor(e, t){\n        var n;\n        super(e, t), $d0e8535850cb015b$var$st(this, \"code\", \"ERR_JOSE_GENERIC\"), this.name = this.constructor.name, null === (n = Error.captureStackTrace) || void 0 === n || n.call(Error, this, this.constructor);\n    }\n}\n$d0e8535850cb015b$var$st($d0e8535850cb015b$var$ro, \"code\", \"ERR_JOSE_GENERIC\");\nclass $d0e8535850cb015b$var$io extends $d0e8535850cb015b$var$ro {\n    constructor(e, t){\n        let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \"unspecified\", o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : \"unspecified\";\n        super(e, {\n            cause: {\n                claim: n,\n                reason: o,\n                payload: t\n            }\n        }), $d0e8535850cb015b$var$st(this, \"code\", \"ERR_JWT_CLAIM_VALIDATION_FAILED\"), $d0e8535850cb015b$var$st(this, \"claim\", void 0), $d0e8535850cb015b$var$st(this, \"reason\", void 0), $d0e8535850cb015b$var$st(this, \"payload\", void 0), this.claim = n, this.reason = o, this.payload = t;\n    }\n}\n$d0e8535850cb015b$var$st($d0e8535850cb015b$var$io, \"code\", \"ERR_JWT_CLAIM_VALIDATION_FAILED\");\nclass $d0e8535850cb015b$var$ao extends $d0e8535850cb015b$var$ro {\n    constructor(e, t){\n        let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : \"unspecified\", o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : \"unspecified\";\n        super(e, {\n            cause: {\n                claim: n,\n                reason: o,\n                payload: t\n            }\n        }), $d0e8535850cb015b$var$st(this, \"code\", \"ERR_JWT_EXPIRED\"), $d0e8535850cb015b$var$st(this, \"claim\", void 0), $d0e8535850cb015b$var$st(this, \"reason\", void 0), $d0e8535850cb015b$var$st(this, \"payload\", void 0), this.claim = n, this.reason = o, this.payload = t;\n    }\n}\n$d0e8535850cb015b$var$st($d0e8535850cb015b$var$ao, \"code\", \"ERR_JWT_EXPIRED\");\nclass $d0e8535850cb015b$var$so extends $d0e8535850cb015b$var$ro {\n    constructor(){\n        super(...arguments), $d0e8535850cb015b$var$st(this, \"code\", \"ERR_JOSE_ALG_NOT_ALLOWED\");\n    }\n}\n$d0e8535850cb015b$var$st($d0e8535850cb015b$var$so, \"code\", \"ERR_JOSE_ALG_NOT_ALLOWED\");\nclass $d0e8535850cb015b$var$co extends $d0e8535850cb015b$var$ro {\n    constructor(){\n        super(...arguments), $d0e8535850cb015b$var$st(this, \"code\", \"ERR_JOSE_NOT_SUPPORTED\");\n    }\n}\n$d0e8535850cb015b$var$st($d0e8535850cb015b$var$co, \"code\", \"ERR_JOSE_NOT_SUPPORTED\");\n$d0e8535850cb015b$var$st(class extends $d0e8535850cb015b$var$ro {\n    constructor(){\n        super(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"decryption operation failed\", arguments.length > 1 ? arguments[1] : void 0), $d0e8535850cb015b$var$st(this, \"code\", \"ERR_JWE_DECRYPTION_FAILED\");\n    }\n}, \"code\", \"ERR_JWE_DECRYPTION_FAILED\");\n$d0e8535850cb015b$var$st(class extends $d0e8535850cb015b$var$ro {\n    constructor(){\n        super(...arguments), $d0e8535850cb015b$var$st(this, \"code\", \"ERR_JWE_INVALID\");\n    }\n}, \"code\", \"ERR_JWE_INVALID\");\nclass $d0e8535850cb015b$var$uo extends $d0e8535850cb015b$var$ro {\n    constructor(){\n        super(...arguments), $d0e8535850cb015b$var$st(this, \"code\", \"ERR_JWS_INVALID\");\n    }\n}\n$d0e8535850cb015b$var$st($d0e8535850cb015b$var$uo, \"code\", \"ERR_JWS_INVALID\");\nclass $d0e8535850cb015b$var$lo extends $d0e8535850cb015b$var$ro {\n    constructor(){\n        super(...arguments), $d0e8535850cb015b$var$st(this, \"code\", \"ERR_JWT_INVALID\");\n    }\n}\n$d0e8535850cb015b$var$st($d0e8535850cb015b$var$lo, \"code\", \"ERR_JWT_INVALID\");\n$d0e8535850cb015b$var$st(class extends $d0e8535850cb015b$var$ro {\n    constructor(){\n        super(...arguments), $d0e8535850cb015b$var$st(this, \"code\", \"ERR_JWK_INVALID\");\n    }\n}, \"code\", \"ERR_JWK_INVALID\");\nclass $d0e8535850cb015b$var$ho extends $d0e8535850cb015b$var$ro {\n    constructor(){\n        super(...arguments), $d0e8535850cb015b$var$st(this, \"code\", \"ERR_JWKS_INVALID\");\n    }\n}\n$d0e8535850cb015b$var$st($d0e8535850cb015b$var$ho, \"code\", \"ERR_JWKS_INVALID\");\nclass $d0e8535850cb015b$var$po extends $d0e8535850cb015b$var$ro {\n    constructor(){\n        super(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"no applicable key found in the JSON Web Key Set\", arguments.length > 1 ? arguments[1] : void 0), $d0e8535850cb015b$var$st(this, \"code\", \"ERR_JWKS_NO_MATCHING_KEY\");\n    }\n}\n$d0e8535850cb015b$var$st($d0e8535850cb015b$var$po, \"code\", \"ERR_JWKS_NO_MATCHING_KEY\");\nclass $d0e8535850cb015b$var$fo extends $d0e8535850cb015b$var$ro {\n    constructor(){\n        super(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"multiple matching keys found in the JSON Web Key Set\", arguments.length > 1 ? arguments[1] : void 0), $d0e8535850cb015b$var$st(this, Symbol.asyncIterator, void 0), $d0e8535850cb015b$var$st(this, \"code\", \"ERR_JWKS_MULTIPLE_MATCHING_KEYS\");\n    }\n}\n$d0e8535850cb015b$var$st($d0e8535850cb015b$var$fo, \"code\", \"ERR_JWKS_MULTIPLE_MATCHING_KEYS\");\nclass $d0e8535850cb015b$var$mo extends $d0e8535850cb015b$var$ro {\n    constructor(){\n        super(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"request timed out\", arguments.length > 1 ? arguments[1] : void 0), $d0e8535850cb015b$var$st(this, \"code\", \"ERR_JWKS_TIMEOUT\");\n    }\n}\n$d0e8535850cb015b$var$st($d0e8535850cb015b$var$mo, \"code\", \"ERR_JWKS_TIMEOUT\");\nclass $d0e8535850cb015b$var$yo extends $d0e8535850cb015b$var$ro {\n    constructor(){\n        super(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"signature verification failed\", arguments.length > 1 ? arguments[1] : void 0), $d0e8535850cb015b$var$st(this, \"code\", \"ERR_JWS_SIGNATURE_VERIFICATION_FAILED\");\n    }\n}\n$d0e8535850cb015b$var$st($d0e8535850cb015b$var$yo, \"code\", \"ERR_JWS_SIGNATURE_VERIFICATION_FAILED\");\nconst $d0e8535850cb015b$var$wo = function(e) {\n    let t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"algorithm.name\";\n    return new TypeError(\"CryptoKey does not support this operation, its \".concat(t, \" must be \").concat(e));\n}, $d0e8535850cb015b$var$go = (e, t)=>e.name === t;\nfunction $d0e8535850cb015b$var$vo(e) {\n    return parseInt(e.name.slice(4), 10);\n}\nfunction $d0e8535850cb015b$var$bo(e, t, n) {\n    switch(t){\n        case \"HS256\":\n        case \"HS384\":\n        case \"HS512\":\n            {\n                if (!$d0e8535850cb015b$var$go(e.algorithm, \"HMAC\")) throw $d0e8535850cb015b$var$wo(\"HMAC\");\n                const n = parseInt(t.slice(2), 10);\n                if ($d0e8535850cb015b$var$vo(e.algorithm.hash) !== n) throw $d0e8535850cb015b$var$wo(\"SHA-\".concat(n), \"algorithm.hash\");\n                break;\n            }\n        case \"RS256\":\n        case \"RS384\":\n        case \"RS512\":\n            {\n                if (!$d0e8535850cb015b$var$go(e.algorithm, \"RSASSA-PKCS1-v1_5\")) throw $d0e8535850cb015b$var$wo(\"RSASSA-PKCS1-v1_5\");\n                const n = parseInt(t.slice(2), 10);\n                if ($d0e8535850cb015b$var$vo(e.algorithm.hash) !== n) throw $d0e8535850cb015b$var$wo(\"SHA-\".concat(n), \"algorithm.hash\");\n                break;\n            }\n        case \"PS256\":\n        case \"PS384\":\n        case \"PS512\":\n            {\n                if (!$d0e8535850cb015b$var$go(e.algorithm, \"RSA-PSS\")) throw $d0e8535850cb015b$var$wo(\"RSA-PSS\");\n                const n = parseInt(t.slice(2), 10);\n                if ($d0e8535850cb015b$var$vo(e.algorithm.hash) !== n) throw $d0e8535850cb015b$var$wo(\"SHA-\".concat(n), \"algorithm.hash\");\n                break;\n            }\n        case \"Ed25519\":\n        case \"EdDSA\":\n            if (!$d0e8535850cb015b$var$go(e.algorithm, \"Ed25519\")) throw $d0e8535850cb015b$var$wo(\"Ed25519\");\n            break;\n        case \"ML-DSA-44\":\n        case \"ML-DSA-65\":\n        case \"ML-DSA-87\":\n            if (!$d0e8535850cb015b$var$go(e.algorithm, t)) throw $d0e8535850cb015b$var$wo(t);\n            break;\n        case \"ES256\":\n        case \"ES384\":\n        case \"ES512\":\n            {\n                if (!$d0e8535850cb015b$var$go(e.algorithm, \"ECDSA\")) throw $d0e8535850cb015b$var$wo(\"ECDSA\");\n                const n = function(e) {\n                    switch(e){\n                        case \"ES256\":\n                            return \"P-256\";\n                        case \"ES384\":\n                            return \"P-384\";\n                        case \"ES512\":\n                            return \"P-521\";\n                        default:\n                            throw new Error(\"unreachable\");\n                    }\n                }(t);\n                if (e.algorithm.namedCurve !== n) throw $d0e8535850cb015b$var$wo(n, \"algorithm.namedCurve\");\n                break;\n            }\n        default:\n            throw new TypeError(\"CryptoKey does not support this operation\");\n    }\n    !function(e, t) {\n        if (t && !e.usages.includes(t)) throw new TypeError(\"CryptoKey does not support this operation, its usages must include \".concat(t, \".\"));\n    }(e, n);\n}\nfunction $d0e8535850cb015b$var$_o(e, t) {\n    for(var n = arguments.length, o = new Array(n > 2 ? n - 2 : 0), r = 2; r < n; r++)o[r - 2] = arguments[r];\n    if ((o = o.filter(Boolean)).length > 2) {\n        const t = o.pop();\n        e += \"one of type \".concat(o.join(\", \"), \", or \").concat(t, \".\");\n    } else 2 === o.length ? e += \"one of type \".concat(o[0], \" or \").concat(o[1], \".\") : e += \"of type \".concat(o[0], \".\");\n    if (null == t) e += \" Received \".concat(t);\n    else if (\"function\" == typeof t && t.name) e += \" Received function \".concat(t.name);\n    else if (\"object\" == typeof t && null != t) {\n        var i;\n        null !== (i = t.constructor) && void 0 !== i && i.name && (e += \" Received an instance of \".concat(t.constructor.name));\n    }\n    return e;\n}\nconst $d0e8535850cb015b$var$ko = function(e, t) {\n    for(var n = arguments.length, o = new Array(n > 2 ? n - 2 : 0), r = 2; r < n; r++)o[r - 2] = arguments[r];\n    return $d0e8535850cb015b$var$_o(\"Key for the \".concat(e, \" algorithm must be \"), t, ...o);\n}, $d0e8535850cb015b$var$So = (e)=>{\n    if (\"CryptoKey\" === (null == e ? void 0 : e[Symbol.toStringTag])) return !0;\n    try {\n        return e instanceof CryptoKey;\n    } catch (e) {\n        return !1;\n    }\n}, $d0e8535850cb015b$var$Eo = (e)=>\"KeyObject\" === (null == e ? void 0 : e[Symbol.toStringTag]), $d0e8535850cb015b$var$Ao = (e)=>$d0e8535850cb015b$var$So(e) || $d0e8535850cb015b$var$Eo(e);\nfunction $d0e8535850cb015b$var$To(e) {\n    if (\"object\" != typeof (t = e) || null === t || \"[object Object]\" !== Object.prototype.toString.call(e)) return !1;\n    var t;\n    if (null === Object.getPrototypeOf(e)) return !0;\n    let n = e;\n    for(; null !== Object.getPrototypeOf(n);)n = Object.getPrototypeOf(n);\n    return Object.getPrototypeOf(e) === n;\n}\nconst $d0e8535850cb015b$var$Po = (e, t)=>{\n    if (e.byteLength !== t.length) return !1;\n    for(let n = 0; n < e.byteLength; n++)if (e[n] !== t[n]) return !1;\n    return !0;\n}, $d0e8535850cb015b$var$Ro = (e)=>{\n    const t = e.data[e.pos++];\n    if (128 & t) {\n        const n = 127 & t;\n        let o = 0;\n        for(let t = 0; t < n; t++)o = o << 8 | e.data[e.pos++];\n        return o;\n    }\n    return t;\n}, $d0e8535850cb015b$var$Io = (e, t, n)=>{\n    if (e.data[e.pos++] !== t) throw new Error(n);\n}, $d0e8535850cb015b$var$Oo = (e, t)=>{\n    const n = e.data.subarray(e.pos, e.pos + t);\n    return e.pos += t, n;\n};\nconst $d0e8535850cb015b$var$xo = (e)=>{\n    const t = ((e)=>{\n        $d0e8535850cb015b$var$Io(e, 6, \"Expected algorithm OID\");\n        const t = $d0e8535850cb015b$var$Ro(e);\n        return $d0e8535850cb015b$var$Oo(e, t);\n    })(e);\n    if ($d0e8535850cb015b$var$Po(t, [\n        43,\n        101,\n        110\n    ])) return \"X25519\";\n    if (!$d0e8535850cb015b$var$Po(t, [\n        42,\n        134,\n        72,\n        206,\n        61,\n        2,\n        1\n    ])) throw new Error(\"Unsupported key algorithm\");\n    $d0e8535850cb015b$var$Io(e, 6, \"Expected curve OID\");\n    const n = $d0e8535850cb015b$var$Ro(e), o = $d0e8535850cb015b$var$Oo(e, n);\n    for (const { name: e, oid: t } of [\n        {\n            name: \"P-256\",\n            oid: [\n                42,\n                134,\n                72,\n                206,\n                61,\n                3,\n                1,\n                7\n            ]\n        },\n        {\n            name: \"P-384\",\n            oid: [\n                43,\n                129,\n                4,\n                0,\n                34\n            ]\n        },\n        {\n            name: \"P-521\",\n            oid: [\n                43,\n                129,\n                4,\n                0,\n                35\n            ]\n        }\n    ])if ($d0e8535850cb015b$var$Po(o, t)) return e;\n    throw new Error(\"Unsupported named curve\");\n}, $d0e8535850cb015b$var$Co = async (e, t, n, o)=>{\n    var r;\n    let i, a;\n    const s = \"spki\" === e, c = ()=>s ? [\n            \"verify\"\n        ] : [\n            \"sign\"\n        ];\n    switch(n){\n        case \"PS256\":\n        case \"PS384\":\n        case \"PS512\":\n            i = {\n                name: \"RSA-PSS\",\n                hash: \"SHA-\".concat(n.slice(-3))\n            }, a = c();\n            break;\n        case \"RS256\":\n        case \"RS384\":\n        case \"RS512\":\n            i = {\n                name: \"RSASSA-PKCS1-v1_5\",\n                hash: \"SHA-\".concat(n.slice(-3))\n            }, a = c();\n            break;\n        case \"RSA-OAEP\":\n        case \"RSA-OAEP-256\":\n        case \"RSA-OAEP-384\":\n        case \"RSA-OAEP-512\":\n            i = {\n                name: \"RSA-OAEP\",\n                hash: \"SHA-\".concat(parseInt(n.slice(-3), 10) || 1)\n            }, a = s ? [\n                \"encrypt\",\n                \"wrapKey\"\n            ] : [\n                \"decrypt\",\n                \"unwrapKey\"\n            ];\n            break;\n        case \"ES256\":\n        case \"ES384\":\n        case \"ES512\":\n            i = {\n                name: \"ECDSA\",\n                namedCurve: ({\n                    ES256: \"P-256\",\n                    ES384: \"P-384\",\n                    ES512: \"P-521\"\n                })[n]\n            }, a = c();\n            break;\n        case \"ECDH-ES\":\n        case \"ECDH-ES+A128KW\":\n        case \"ECDH-ES+A192KW\":\n        case \"ECDH-ES+A256KW\":\n            try {\n                const e = o.getNamedCurve(t);\n                i = \"X25519\" === e ? {\n                    name: \"X25519\"\n                } : {\n                    name: \"ECDH\",\n                    namedCurve: e\n                };\n            } catch (e) {\n                throw new $d0e8535850cb015b$var$co(\"Invalid or unsupported key format\");\n            }\n            a = s ? [] : [\n                \"deriveBits\"\n            ];\n            break;\n        case \"Ed25519\":\n        case \"EdDSA\":\n            i = {\n                name: \"Ed25519\"\n            }, a = c();\n            break;\n        case \"ML-DSA-44\":\n        case \"ML-DSA-65\":\n        case \"ML-DSA-87\":\n            i = {\n                name: n\n            }, a = c();\n            break;\n        default:\n            throw new $d0e8535850cb015b$var$co('Invalid or unsupported \"alg\" (Algorithm) value');\n    }\n    return crypto.subtle.importKey(e, t, i, null !== (r = null == o ? void 0 : o.extractable) && void 0 !== r ? r : !!s, a);\n}, $d0e8535850cb015b$var$jo = (e, t, n)=>{\n    var o;\n    const r = ((e, t)=>$d0e8535850cb015b$var$no(e.replace(t, \"\")))(e, /(?:-----(?:BEGIN|END) PRIVATE KEY-----|\\s)/g);\n    let i = n;\n    return null != t && null !== (o = t.startsWith) && void 0 !== o && o.call(t, \"ECDH-ES\") && (i || (i = {}), i.getNamedCurve = (e)=>{\n        const t = {\n            data: e,\n            pos: 0\n        };\n        return function(e) {\n            $d0e8535850cb015b$var$Io(e, 48, \"Invalid PKCS#8 structure\"), $d0e8535850cb015b$var$Ro(e), $d0e8535850cb015b$var$Io(e, 2, \"Expected version field\");\n            const t = $d0e8535850cb015b$var$Ro(e);\n            e.pos += t, $d0e8535850cb015b$var$Io(e, 48, \"Expected algorithm identifier\");\n            const n = $d0e8535850cb015b$var$Ro(e);\n            e.pos;\n        }(t), $d0e8535850cb015b$var$xo(t);\n    }), $d0e8535850cb015b$var$Co(\"pkcs8\", r, t, i);\n};\nasync function $d0e8535850cb015b$var$Do(e) {\n    var t, n;\n    if (!e.alg) throw new TypeError('\"alg\" argument is required when \"jwk.alg\" is not present');\n    const { algorithm: o, keyUsages: r } = function(e) {\n        let t, n;\n        switch(e.kty){\n            case \"AKP\":\n                switch(e.alg){\n                    case \"ML-DSA-44\":\n                    case \"ML-DSA-65\":\n                    case \"ML-DSA-87\":\n                        t = {\n                            name: e.alg\n                        }, n = e.priv ? [\n                            \"sign\"\n                        ] : [\n                            \"verify\"\n                        ];\n                        break;\n                    default:\n                        throw new $d0e8535850cb015b$var$co('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n                }\n                break;\n            case \"RSA\":\n                switch(e.alg){\n                    case \"PS256\":\n                    case \"PS384\":\n                    case \"PS512\":\n                        t = {\n                            name: \"RSA-PSS\",\n                            hash: \"SHA-\".concat(e.alg.slice(-3))\n                        }, n = e.d ? [\n                            \"sign\"\n                        ] : [\n                            \"verify\"\n                        ];\n                        break;\n                    case \"RS256\":\n                    case \"RS384\":\n                    case \"RS512\":\n                        t = {\n                            name: \"RSASSA-PKCS1-v1_5\",\n                            hash: \"SHA-\".concat(e.alg.slice(-3))\n                        }, n = e.d ? [\n                            \"sign\"\n                        ] : [\n                            \"verify\"\n                        ];\n                        break;\n                    case \"RSA-OAEP\":\n                    case \"RSA-OAEP-256\":\n                    case \"RSA-OAEP-384\":\n                    case \"RSA-OAEP-512\":\n                        t = {\n                            name: \"RSA-OAEP\",\n                            hash: \"SHA-\".concat(parseInt(e.alg.slice(-3), 10) || 1)\n                        }, n = e.d ? [\n                            \"decrypt\",\n                            \"unwrapKey\"\n                        ] : [\n                            \"encrypt\",\n                            \"wrapKey\"\n                        ];\n                        break;\n                    default:\n                        throw new $d0e8535850cb015b$var$co('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n                }\n                break;\n            case \"EC\":\n                switch(e.alg){\n                    case \"ES256\":\n                        t = {\n                            name: \"ECDSA\",\n                            namedCurve: \"P-256\"\n                        }, n = e.d ? [\n                            \"sign\"\n                        ] : [\n                            \"verify\"\n                        ];\n                        break;\n                    case \"ES384\":\n                        t = {\n                            name: \"ECDSA\",\n                            namedCurve: \"P-384\"\n                        }, n = e.d ? [\n                            \"sign\"\n                        ] : [\n                            \"verify\"\n                        ];\n                        break;\n                    case \"ES512\":\n                        t = {\n                            name: \"ECDSA\",\n                            namedCurve: \"P-521\"\n                        }, n = e.d ? [\n                            \"sign\"\n                        ] : [\n                            \"verify\"\n                        ];\n                        break;\n                    case \"ECDH-ES\":\n                    case \"ECDH-ES+A128KW\":\n                    case \"ECDH-ES+A192KW\":\n                    case \"ECDH-ES+A256KW\":\n                        t = {\n                            name: \"ECDH\",\n                            namedCurve: e.crv\n                        }, n = e.d ? [\n                            \"deriveBits\"\n                        ] : [];\n                        break;\n                    default:\n                        throw new $d0e8535850cb015b$var$co('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n                }\n                break;\n            case \"OKP\":\n                switch(e.alg){\n                    case \"Ed25519\":\n                    case \"EdDSA\":\n                        t = {\n                            name: \"Ed25519\"\n                        }, n = e.d ? [\n                            \"sign\"\n                        ] : [\n                            \"verify\"\n                        ];\n                        break;\n                    case \"ECDH-ES\":\n                    case \"ECDH-ES+A128KW\":\n                    case \"ECDH-ES+A192KW\":\n                    case \"ECDH-ES+A256KW\":\n                        t = {\n                            name: e.crv\n                        }, n = e.d ? [\n                            \"deriveBits\"\n                        ] : [];\n                        break;\n                    default:\n                        throw new $d0e8535850cb015b$var$co('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n                }\n                break;\n            default:\n                throw new $d0e8535850cb015b$var$co('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value');\n        }\n        return {\n            algorithm: t,\n            keyUsages: n\n        };\n    }(e), i = $d0e8535850cb015b$var$ut({}, e);\n    return \"AKP\" !== i.kty && delete i.alg, delete i.use, crypto.subtle.importKey(\"jwk\", i, o, null !== (t = e.ext) && void 0 !== t ? t : !e.d && !e.priv, null !== (n = e.key_ops) && void 0 !== n ? n : r);\n}\nconst $d0e8535850cb015b$var$Ko = (e)=>$d0e8535850cb015b$var$To(e) && \"string\" == typeof e.kty;\nlet $d0e8535850cb015b$var$Lo;\nconst $d0e8535850cb015b$var$Uo = async function(e, t, n) {\n    let o = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];\n    $d0e8535850cb015b$var$Lo || ($d0e8535850cb015b$var$Lo = new WeakMap);\n    let r = $d0e8535850cb015b$var$Lo.get(e);\n    if (null != r && r[n]) return r[n];\n    const i = await $d0e8535850cb015b$var$Do($d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, t), {}, {\n        alg: n\n    }));\n    return o && Object.freeze(e), r ? r[n] = i : $d0e8535850cb015b$var$Lo.set(e, {\n        [n]: i\n    }), i;\n};\nasync function $d0e8535850cb015b$var$No(e, t) {\n    if (e instanceof Uint8Array) return e;\n    if ($d0e8535850cb015b$var$So(e)) return e;\n    if ($d0e8535850cb015b$var$Eo(e)) {\n        if (\"secret\" === e.type) return e.export();\n        if (\"toCryptoKey\" in e && \"function\" == typeof e.toCryptoKey) try {\n            return ((e, t)=>{\n                $d0e8535850cb015b$var$Lo || ($d0e8535850cb015b$var$Lo = new WeakMap);\n                let n = $d0e8535850cb015b$var$Lo.get(e);\n                if (null != n && n[t]) return n[t];\n                const o = \"public\" === e.type, r = !!o;\n                let i;\n                if (\"x25519\" === e.asymmetricKeyType) {\n                    switch(t){\n                        case \"ECDH-ES\":\n                        case \"ECDH-ES+A128KW\":\n                        case \"ECDH-ES+A192KW\":\n                        case \"ECDH-ES+A256KW\":\n                            break;\n                        default:\n                            throw new TypeError(\"given KeyObject instance cannot be used for this algorithm\");\n                    }\n                    i = e.toCryptoKey(e.asymmetricKeyType, r, o ? [] : [\n                        \"deriveBits\"\n                    ]);\n                }\n                if (\"ed25519\" === e.asymmetricKeyType) {\n                    if (\"EdDSA\" !== t && \"Ed25519\" !== t) throw new TypeError(\"given KeyObject instance cannot be used for this algorithm\");\n                    i = e.toCryptoKey(e.asymmetricKeyType, r, [\n                        o ? \"verify\" : \"sign\"\n                    ]);\n                }\n                switch(e.asymmetricKeyType){\n                    case \"ml-dsa-44\":\n                    case \"ml-dsa-65\":\n                    case \"ml-dsa-87\":\n                        if (t !== e.asymmetricKeyType.toUpperCase()) throw new TypeError(\"given KeyObject instance cannot be used for this algorithm\");\n                        i = e.toCryptoKey(e.asymmetricKeyType, r, [\n                            o ? \"verify\" : \"sign\"\n                        ]);\n                }\n                if (\"rsa\" === e.asymmetricKeyType) {\n                    let n;\n                    switch(t){\n                        case \"RSA-OAEP\":\n                            n = \"SHA-1\";\n                            break;\n                        case \"RS256\":\n                        case \"PS256\":\n                        case \"RSA-OAEP-256\":\n                            n = \"SHA-256\";\n                            break;\n                        case \"RS384\":\n                        case \"PS384\":\n                        case \"RSA-OAEP-384\":\n                            n = \"SHA-384\";\n                            break;\n                        case \"RS512\":\n                        case \"PS512\":\n                        case \"RSA-OAEP-512\":\n                            n = \"SHA-512\";\n                            break;\n                        default:\n                            throw new TypeError(\"given KeyObject instance cannot be used for this algorithm\");\n                    }\n                    if (t.startsWith(\"RSA-OAEP\")) return e.toCryptoKey({\n                        name: \"RSA-OAEP\",\n                        hash: n\n                    }, r, o ? [\n                        \"encrypt\"\n                    ] : [\n                        \"decrypt\"\n                    ]);\n                    i = e.toCryptoKey({\n                        name: t.startsWith(\"PS\") ? \"RSA-PSS\" : \"RSASSA-PKCS1-v1_5\",\n                        hash: n\n                    }, r, [\n                        o ? \"verify\" : \"sign\"\n                    ]);\n                }\n                if (\"ec\" === e.asymmetricKeyType) {\n                    var a;\n                    const n = new Map([\n                        [\n                            \"prime256v1\",\n                            \"P-256\"\n                        ],\n                        [\n                            \"secp384r1\",\n                            \"P-384\"\n                        ],\n                        [\n                            \"secp521r1\",\n                            \"P-521\"\n                        ]\n                    ]).get(null === (a = e.asymmetricKeyDetails) || void 0 === a ? void 0 : a.namedCurve);\n                    if (!n) throw new TypeError(\"given KeyObject instance cannot be used for this algorithm\");\n                    \"ES256\" === t && \"P-256\" === n && (i = e.toCryptoKey({\n                        name: \"ECDSA\",\n                        namedCurve: n\n                    }, r, [\n                        o ? \"verify\" : \"sign\"\n                    ])), \"ES384\" === t && \"P-384\" === n && (i = e.toCryptoKey({\n                        name: \"ECDSA\",\n                        namedCurve: n\n                    }, r, [\n                        o ? \"verify\" : \"sign\"\n                    ])), \"ES512\" === t && \"P-521\" === n && (i = e.toCryptoKey({\n                        name: \"ECDSA\",\n                        namedCurve: n\n                    }, r, [\n                        o ? \"verify\" : \"sign\"\n                    ])), t.startsWith(\"ECDH-ES\") && (i = e.toCryptoKey({\n                        name: \"ECDH\",\n                        namedCurve: n\n                    }, r, o ? [] : [\n                        \"deriveBits\"\n                    ]));\n                }\n                if (!i) throw new TypeError(\"given KeyObject instance cannot be used for this algorithm\");\n                return n ? n[t] = i : $d0e8535850cb015b$var$Lo.set(e, {\n                    [t]: i\n                }), i;\n            })(e, t);\n        } catch (e) {\n            if (e instanceof TypeError) throw e;\n        }\n        let n = e.export({\n            format: \"jwk\"\n        });\n        return $d0e8535850cb015b$var$Uo(e, n, t);\n    }\n    if ($d0e8535850cb015b$var$Ko(e)) return e.k ? $d0e8535850cb015b$var$oo(e.k) : $d0e8535850cb015b$var$Uo(e, e, t, !0);\n    throw new Error(\"unreachable\");\n}\nconst $d0e8535850cb015b$var$Wo = (e)=>null == e ? void 0 : e[Symbol.toStringTag], $d0e8535850cb015b$var$Ho = (e, t, n)=>{\n    if (void 0 !== t.use) {\n        let e;\n        switch(n){\n            case \"sign\":\n            case \"verify\":\n                e = \"sig\";\n                break;\n            case \"encrypt\":\n            case \"decrypt\":\n                e = \"enc\";\n        }\n        if (t.use !== e) throw new TypeError('Invalid key for this operation, its \"use\" must be \"'.concat(e, '\" when present'));\n    }\n    if (void 0 !== t.alg && t.alg !== e) throw new TypeError('Invalid key for this operation, its \"alg\" must be \"'.concat(e, '\" when present'));\n    if (Array.isArray(t.key_ops)) {\n        var o, r;\n        let i;\n        switch(!0){\n            case \"sign\" === n || \"verify\" === n:\n            case \"dir\" === e:\n            case e.includes(\"CBC-HS\"):\n                i = n;\n                break;\n            case e.startsWith(\"PBES2\"):\n                i = \"deriveBits\";\n                break;\n            case /^A\\d{3}(?:GCM)?(?:KW)?$/.test(e):\n                i = !e.includes(\"GCM\") && e.endsWith(\"KW\") ? \"encrypt\" === n ? \"wrapKey\" : \"unwrapKey\" : n;\n                break;\n            case \"encrypt\" === n && e.startsWith(\"RSA\"):\n                i = \"wrapKey\";\n                break;\n            case \"decrypt\" === n:\n                i = e.startsWith(\"RSA\") ? \"unwrapKey\" : \"deriveBits\";\n        }\n        if (i && !1 === (null === (o = t.key_ops) || void 0 === o || null === (r = o.includes) || void 0 === r ? void 0 : r.call(o, i))) throw new TypeError('Invalid key for this operation, its \"key_ops\" must include \"'.concat(i, '\" when present'));\n    }\n    return !0;\n};\nfunction $d0e8535850cb015b$var$zo(e, t, n) {\n    switch(e.substring(0, 2)){\n        case \"A1\":\n        case \"A2\":\n        case \"di\":\n        case \"HS\":\n        case \"PB\":\n            ((e, t, n)=>{\n                if (!(t instanceof Uint8Array)) {\n                    if ($d0e8535850cb015b$var$Ko(t)) {\n                        if (((e)=>\"oct\" === e.kty && \"string\" == typeof e.k)(t) && $d0e8535850cb015b$var$Ho(e, t, n)) return;\n                        throw new TypeError('JSON Web Key for symmetric algorithms must have JWK \"kty\" (Key Type) equal to \"oct\" and the JWK \"k\" (Key Value) present');\n                    }\n                    if (!$d0e8535850cb015b$var$Ao(t)) throw new TypeError($d0e8535850cb015b$var$ko(e, t, \"CryptoKey\", \"KeyObject\", \"JSON Web Key\", \"Uint8Array\"));\n                    if (\"secret\" !== t.type) throw new TypeError(\"\".concat($d0e8535850cb015b$var$Wo(t), ' instances for symmetric algorithms must be of type \"secret\"'));\n                }\n            })(e, t, n);\n            break;\n        default:\n            ((e, t, n)=>{\n                if ($d0e8535850cb015b$var$Ko(t)) switch(n){\n                    case \"decrypt\":\n                    case \"sign\":\n                        if (((e)=>\"oct\" !== e.kty && (\"AKP\" === e.kty && \"string\" == typeof e.priv || \"string\" == typeof e.d))(t) && $d0e8535850cb015b$var$Ho(e, t, n)) return;\n                        throw new TypeError(\"JSON Web Key for this operation must be a private JWK\");\n                    case \"encrypt\":\n                    case \"verify\":\n                        if (((e)=>\"oct\" !== e.kty && void 0 === e.d && void 0 === e.priv)(t) && $d0e8535850cb015b$var$Ho(e, t, n)) return;\n                        throw new TypeError(\"JSON Web Key for this operation must be a public JWK\");\n                }\n                if (!$d0e8535850cb015b$var$Ao(t)) throw new TypeError($d0e8535850cb015b$var$ko(e, t, \"CryptoKey\", \"KeyObject\", \"JSON Web Key\"));\n                if (\"secret\" === t.type) throw new TypeError(\"\".concat($d0e8535850cb015b$var$Wo(t), ' instances for asymmetric algorithms must not be of type \"secret\"'));\n                if (\"public\" === t.type) switch(n){\n                    case \"sign\":\n                        throw new TypeError(\"\".concat($d0e8535850cb015b$var$Wo(t), ' instances for asymmetric algorithm signing must be of type \"private\"'));\n                    case \"decrypt\":\n                        throw new TypeError(\"\".concat($d0e8535850cb015b$var$Wo(t), ' instances for asymmetric algorithm decryption must be of type \"private\"'));\n                }\n                if (\"private\" === t.type) switch(n){\n                    case \"verify\":\n                        throw new TypeError(\"\".concat($d0e8535850cb015b$var$Wo(t), ' instances for asymmetric algorithm verifying must be of type \"public\"'));\n                    case \"encrypt\":\n                        throw new TypeError(\"\".concat($d0e8535850cb015b$var$Wo(t), ' instances for asymmetric algorithm encryption must be of type \"public\"'));\n                }\n            })(e, t, n);\n    }\n}\nvar $d0e8535850cb015b$var$Jo, $d0e8535850cb015b$var$Mo;\nlet $d0e8535850cb015b$var$Vo, $d0e8535850cb015b$var$Go;\nif (\"undefined\" == typeof navigator || null === ($d0e8535850cb015b$var$Jo = navigator.userAgent) || void 0 === $d0e8535850cb015b$var$Jo || null === ($d0e8535850cb015b$var$Mo = $d0e8535850cb015b$var$Jo.startsWith) || void 0 === $d0e8535850cb015b$var$Mo || !$d0e8535850cb015b$var$Mo.call($d0e8535850cb015b$var$Jo, \"Mozilla/5.0 \")) {\n    const e = \"v6.8.1\";\n    $d0e8535850cb015b$var$Go = \"\".concat(\"openid-client\", \"/\").concat(e), $d0e8535850cb015b$var$Vo = {\n        \"user-agent\": $d0e8535850cb015b$var$Go\n    };\n}\nconst $d0e8535850cb015b$var$Fo = (e)=>$d0e8535850cb015b$var$Zo.get(e);\nlet $d0e8535850cb015b$var$Zo, $d0e8535850cb015b$var$qo;\nfunction $d0e8535850cb015b$var$Bo(e) {\n    return void 0 !== e ? $d0e8535850cb015b$var$Zt(e) : ($d0e8535850cb015b$var$qo || ($d0e8535850cb015b$var$qo = new WeakMap), (e, t, n, o)=>{\n        let r;\n        return (r = $d0e8535850cb015b$var$qo.get(t)) || (!function(e, t) {\n            if (\"string\" != typeof e) throw $d0e8535850cb015b$var$$o(\"\".concat(t, \" must be a string\"), $d0e8535850cb015b$var$Qo);\n            if (0 === e.length) throw $d0e8535850cb015b$var$$o(\"\".concat(t, \" must not be empty\"), $d0e8535850cb015b$var$Yo);\n        }(t.client_secret, '\"metadata.client_secret\"'), r = $d0e8535850cb015b$var$Zt(t.client_secret), $d0e8535850cb015b$var$qo.set(t, r)), r(e, t, n, o);\n    });\n}\nconst $d0e8535850cb015b$var$Xo = $d0e8535850cb015b$var$vt, $d0e8535850cb015b$var$Yo = \"ERR_INVALID_ARG_VALUE\", $d0e8535850cb015b$var$Qo = \"ERR_INVALID_ARG_TYPE\";\nfunction $d0e8535850cb015b$var$$o(e, t, n) {\n    const o = new TypeError(e, {\n        cause: n\n    });\n    return Object.assign(o, {\n        code: t\n    }), o;\n}\nfunction $d0e8535850cb015b$var$er(e) {\n    return async function(e) {\n        return $d0e8535850cb015b$var$Nt(e, \"codeVerifier\"), $d0e8535850cb015b$var$Pt(await crypto.subtle.digest(\"SHA-256\", $d0e8535850cb015b$var$Et(e)));\n    }(e);\n}\nfunction $d0e8535850cb015b$var$tr() {\n    return $d0e8535850cb015b$var$Ht();\n}\nclass $d0e8535850cb015b$var$nr extends Error {\n    constructor(e, t){\n        var n;\n        super(e, t), $d0e8535850cb015b$var$st(this, \"code\", void 0), this.name = this.constructor.name, this.code = null == t ? void 0 : t.code, null === (n = Error.captureStackTrace) || void 0 === n || n.call(Error, this, this.constructor);\n    }\n}\nfunction $d0e8535850cb015b$var$or(e, t, n) {\n    return new $d0e8535850cb015b$var$nr(e, {\n        cause: t,\n        code: n\n    });\n}\nfunction $d0e8535850cb015b$var$rr(e) {\n    if (e instanceof TypeError || e instanceof $d0e8535850cb015b$var$nr || e instanceof $d0e8535850cb015b$var$$t || e instanceof $d0e8535850cb015b$var$en || e instanceof $d0e8535850cb015b$var$tn) throw e;\n    if (e instanceof $d0e8535850cb015b$var$It) switch(e.code){\n        case $d0e8535850cb015b$var$Dn:\n            throw $d0e8535850cb015b$var$or(\"only requests to HTTPS are allowed\", e, e.code);\n        case $d0e8535850cb015b$var$Kn:\n            throw $d0e8535850cb015b$var$or(\"only requests to HTTP or HTTPS are allowed\", e, e.code);\n        case $d0e8535850cb015b$var$jn:\n            throw $d0e8535850cb015b$var$or(\"unexpected HTTP response status code\", e.cause, e.code);\n        case $d0e8535850cb015b$var$Cn:\n            throw $d0e8535850cb015b$var$or(\"unexpected response content-type\", e.cause, e.code);\n        case $d0e8535850cb015b$var$On:\n            throw $d0e8535850cb015b$var$or(\"parsing error occured\", e, e.code);\n        case $d0e8535850cb015b$var$xn:\n            throw $d0e8535850cb015b$var$or(\"invalid response encountered\", e, e.code);\n        case $d0e8535850cb015b$var$Un:\n            throw $d0e8535850cb015b$var$or(\"unexpected JWT claim value encountered\", e, e.code);\n        case $d0e8535850cb015b$var$Nn:\n            throw $d0e8535850cb015b$var$or(\"unexpected JSON attribute value encountered\", e, e.code);\n        case $d0e8535850cb015b$var$Ln:\n            throw $d0e8535850cb015b$var$or(\"JWT timestamp claim value failed validation\", e, e.code);\n        default:\n            throw $d0e8535850cb015b$var$or(e.message, e, e.code);\n    }\n    if (e instanceof $d0e8535850cb015b$var$Rt) throw $d0e8535850cb015b$var$or(\"unsupported operation\", e, e.code);\n    if (e instanceof DOMException) switch(e.name){\n        case \"OperationError\":\n            throw $d0e8535850cb015b$var$or(\"runtime operation error\", e, $d0e8535850cb015b$var$Rn);\n        case \"NotSupportedError\":\n            throw $d0e8535850cb015b$var$or(\"runtime unsupported operation\", e, $d0e8535850cb015b$var$Rn);\n        case \"TimeoutError\":\n            throw $d0e8535850cb015b$var$or(\"operation timed out\", e, \"OAUTH_TIMEOUT\");\n        case \"AbortError\":\n            throw $d0e8535850cb015b$var$or(\"operation aborted\", e, \"OAUTH_ABORT\");\n    }\n    throw new $d0e8535850cb015b$var$nr(\"something went wrong\", {\n        cause: e\n    });\n}\nasync function $d0e8535850cb015b$var$ir(e, t, n, o, r) {\n    const i = await async function(e, t) {\n        var n, o;\n        if (!(e instanceof URL)) throw $d0e8535850cb015b$var$$o('\"server\" must be an instance of URL', $d0e8535850cb015b$var$Qo);\n        const r = !e.href.includes(\"/.well-known/\"), i = null !== (n = null == t ? void 0 : t.timeout) && void 0 !== n ? n : 30, a = AbortSignal.timeout(1e3 * i), s = await (r ? $d0e8535850cb015b$var$Lt(e, {\n            algorithm: null == t ? void 0 : t.algorithm,\n            [$d0e8535850cb015b$var$vt]: null == t ? void 0 : t[$d0e8535850cb015b$var$Xo],\n            [$d0e8535850cb015b$var$yt]: null == t || null === (o = t.execute) || void 0 === o ? void 0 : o.includes($d0e8535850cb015b$var$pr),\n            signal: a,\n            headers: new Headers($d0e8535850cb015b$var$Vo)\n        }) : ((null == t ? void 0 : t[$d0e8535850cb015b$var$Xo]) || fetch)(($d0e8535850cb015b$var$Xt(e, null == t || null === (c = t.execute) || void 0 === c || !c.includes($d0e8535850cb015b$var$pr)), e.href), {\n            headers: Object.fromEntries(new Headers($d0e8535850cb015b$var$ut({\n                accept: \"application/json\"\n            }, $d0e8535850cb015b$var$Vo)).entries()),\n            body: void 0,\n            method: \"GET\",\n            redirect: \"manual\",\n            signal: a\n        })).then((e)=>(async function(e, t) {\n                const n = e;\n                if (!(n instanceof URL) && n !== $d0e8535850cb015b$var$Yn) throw $d0e8535850cb015b$var$mt('\"expectedIssuerIdentifier\" must be an instance of URL', \"ERR_INVALID_ARG_TYPE\");\n                if (!$d0e8535850cb015b$var$ft(t, Response)) throw $d0e8535850cb015b$var$mt('\"response\" must be an instance of Response', \"ERR_INVALID_ARG_TYPE\");\n                if (200 !== t.status) throw $d0e8535850cb015b$var$Ot('\"response\" is not a conform Authorization Server Metadata response (unexpected HTTP status code)', $d0e8535850cb015b$var$jn, t);\n                $d0e8535850cb015b$var$zn(t);\n                const o = await $d0e8535850cb015b$var$Xn(t);\n                if ($d0e8535850cb015b$var$Nt(o.issuer, '\"response\" body \"issuer\" property', $d0e8535850cb015b$var$xn, {\n                    body: o\n                }), n !== $d0e8535850cb015b$var$Yn && new URL(o.issuer).href !== n.href) throw $d0e8535850cb015b$var$Ot('\"response\" body \"issuer\" property does not match the expected value', $d0e8535850cb015b$var$Nn, {\n                    expected: n.href,\n                    body: o,\n                    attribute: \"issuer\"\n                });\n                return o;\n            })($d0e8535850cb015b$var$Yn, e)).catch($d0e8535850cb015b$var$rr);\n        var c;\n        r && new URL(s.issuer).href !== e.href && (function(e, t, n) {\n            return !(\"https://login.microsoftonline.com\" !== e.origin || null != n && n.algorithm && \"oidc\" !== n.algorithm || (t[$d0e8535850cb015b$var$ar] = !0, 0));\n        }(e, s, t) || function(e, t) {\n            return !(!e.hostname.endsWith(\".b2clogin.com\") || null != t && t.algorithm && \"oidc\" !== t.algorithm);\n        }(e, t) || (()=>{\n            throw new $d0e8535850cb015b$var$nr(\"discovered metadata issuer does not match the expected issuer\", {\n                code: $d0e8535850cb015b$var$Nn,\n                cause: {\n                    expected: e.href,\n                    body: s,\n                    attribute: \"issuer\"\n                }\n            });\n        })());\n        return s;\n    }(e, r), a = new $d0e8535850cb015b$var$sr(i, t, n, o);\n    let s = $d0e8535850cb015b$var$Fo(a);\n    if (null != r && r[$d0e8535850cb015b$var$Xo] && (s.fetch = r[$d0e8535850cb015b$var$Xo]), null != r && r.timeout && (s.timeout = r.timeout), null != r && r.execute) for (const e of r.execute)e(a);\n    return a;\n}\nnew TextDecoder;\nconst $d0e8535850cb015b$var$ar = Symbol();\nclass $d0e8535850cb015b$var$sr {\n    constructor(e, t, n, o){\n        var r, i, a, s, c;\n        if (\"string\" != typeof t || !t.length) throw $d0e8535850cb015b$var$$o('\"clientId\" must be a non-empty string', $d0e8535850cb015b$var$Qo);\n        if (\"string\" == typeof n && (n = {\n            client_secret: n\n        }), void 0 !== (null === (r = n) || void 0 === r ? void 0 : r.client_id) && t !== n.client_id) throw $d0e8535850cb015b$var$$o('\"clientId\" and \"metadata.client_id\" must be the same', $d0e8535850cb015b$var$Yo);\n        const u = $d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, structuredClone(n)), {}, {\n            client_id: t\n        });\n        let l;\n        u[$d0e8535850cb015b$var$wt] = null !== (i = null === (a = n) || void 0 === a ? void 0 : a[$d0e8535850cb015b$var$wt]) && void 0 !== i ? i : 0, u[$d0e8535850cb015b$var$gt] = null !== (s = null === (c = n) || void 0 === c ? void 0 : c[$d0e8535850cb015b$var$gt]) && void 0 !== s ? s : 30, l = o || (\"string\" == typeof u.client_secret && u.client_secret.length ? $d0e8535850cb015b$var$Bo(u.client_secret) : (e, t, n, o)=>{\n            n.set(\"client_id\", t.client_id);\n        });\n        let d = Object.freeze(u);\n        const h = structuredClone(e);\n        $d0e8535850cb015b$var$ar in e && (h[$d0e8535850cb015b$var$Qn] = (t)=>{\n            let { claims: { tid: n } } = t;\n            return e.issuer.replace(\"{tenantid}\", n);\n        });\n        let p = Object.freeze(h);\n        $d0e8535850cb015b$var$Zo || ($d0e8535850cb015b$var$Zo = new WeakMap), $d0e8535850cb015b$var$Zo.set(this, {\n            __proto__: null,\n            as: p,\n            c: d,\n            auth: l,\n            tlsOnly: !0,\n            jwksCache: {}\n        });\n    }\n    serverMetadata() {\n        const e = structuredClone($d0e8535850cb015b$var$Fo(this).as);\n        return function(e) {\n            Object.defineProperties(e, function(e) {\n                return {\n                    supportsPKCE: {\n                        __proto__: null,\n                        value () {\n                            var t;\n                            let n = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : \"S256\";\n                            return !0 === (null === (t = e.code_challenge_methods_supported) || void 0 === t ? void 0 : t.includes(n));\n                        }\n                    }\n                };\n            }(e));\n        }(e), e;\n    }\n    clientMetadata() {\n        return structuredClone($d0e8535850cb015b$var$Fo(this).c);\n    }\n    get timeout() {\n        return $d0e8535850cb015b$var$Fo(this).timeout;\n    }\n    set timeout(e) {\n        $d0e8535850cb015b$var$Fo(this).timeout = e;\n    }\n    get [$d0e8535850cb015b$var$Xo]() {\n        return $d0e8535850cb015b$var$Fo(this).fetch;\n    }\n    set [$d0e8535850cb015b$var$Xo](e) {\n        $d0e8535850cb015b$var$Fo(this).fetch = e;\n    }\n}\nfunction $d0e8535850cb015b$var$cr(e) {\n    Object.defineProperties(e, function(e) {\n        let t;\n        if (void 0 !== e.expires_in) {\n            const n = new Date;\n            n.setSeconds(n.getSeconds() + e.expires_in), t = n.getTime();\n        }\n        return {\n            expiresIn: {\n                __proto__: null,\n                value () {\n                    if (t) {\n                        const e = Date.now();\n                        return t > e ? Math.floor((t - e) / 1e3) : 0;\n                    }\n                }\n            },\n            claims: {\n                __proto__: null,\n                value () {\n                    try {\n                        return $d0e8535850cb015b$var$mn(this);\n                    } catch (e) {\n                        return;\n                    }\n                }\n            }\n        };\n    }(e));\n}\nasync function $d0e8535850cb015b$var$ur(e, t, n) {\n    var o;\n    let r = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];\n    const i = null === (o = e.headers.get(\"retry-after\")) || void 0 === o ? void 0 : o.trim();\n    if (void 0 === i) return;\n    let a;\n    if (/^\\d+$/.test(i)) a = parseInt(i, 10);\n    else {\n        const e = new Date(i);\n        if (Number.isFinite(e.getTime())) {\n            const t = new Date, n = e.getTime() - t.getTime();\n            n > 0 && (a = Math.ceil(n / 1e3));\n        }\n    }\n    if (r && !Number.isFinite(a)) throw new $d0e8535850cb015b$var$It(\"invalid Retry-After header value\", {\n        cause: e\n    });\n    a > t && await $d0e8535850cb015b$var$lr(a - t, n);\n}\nfunction $d0e8535850cb015b$var$lr(e, t) {\n    return new Promise((n, o)=>{\n        const r = (e)=>{\n            try {\n                t.throwIfAborted();\n            } catch (e) {\n                return void o(e);\n            }\n            if (e <= 0) return void n();\n            const i = Math.min(e, 5);\n            setTimeout(()=>r(e - i), 1e3 * i);\n        };\n        r(e);\n    });\n}\nasync function $d0e8535850cb015b$var$dr(e, t) {\n    $d0e8535850cb015b$var$vr(e);\n    const { as: n, c: o, auth: r, fetch: i, tlsOnly: a, timeout: s } = $d0e8535850cb015b$var$Fo(e);\n    return (async function(e, t, n, o, r) {\n        $d0e8535850cb015b$var$Gt(e), $d0e8535850cb015b$var$Ft(t);\n        const i = $d0e8535850cb015b$var$Qt(e, \"backchannel_authentication_endpoint\", t.use_mtls_endpoint_aliases, !0 !== (null == r ? void 0 : r[$d0e8535850cb015b$var$yt])), a = new URLSearchParams(o);\n        a.set(\"client_id\", t.client_id);\n        const s = $d0e8535850cb015b$var$jt(null == r ? void 0 : r.headers);\n        return s.set(\"accept\", \"application/json\"), $d0e8535850cb015b$var$dn(e, t, n, i, a, s, r);\n    })(n, o, r, t, {\n        [$d0e8535850cb015b$var$vt]: i,\n        [$d0e8535850cb015b$var$yt]: !a,\n        headers: new Headers($d0e8535850cb015b$var$Vo),\n        signal: $d0e8535850cb015b$var$br(s)\n    }).then((e)=>(async function(e, t, n) {\n            if ($d0e8535850cb015b$var$Gt(e), $d0e8535850cb015b$var$Ft(t), !$d0e8535850cb015b$var$ft(n, Response)) throw $d0e8535850cb015b$var$mt('\"response\" must be an instance of Response', \"ERR_INVALID_ARG_TYPE\");\n            await $d0e8535850cb015b$var$cn(n, 200, \"Backchannel Authentication Endpoint\"), $d0e8535850cb015b$var$zn(n);\n            const o = await $d0e8535850cb015b$var$Xn(n);\n            $d0e8535850cb015b$var$Nt(o.auth_req_id, '\"response\" body \"auth_req_id\" property', $d0e8535850cb015b$var$xn, {\n                body: o\n            });\n            let r = \"number\" != typeof o.expires_in ? parseFloat(o.expires_in) : o.expires_in;\n            return $d0e8535850cb015b$var$Ut(r, !0, '\"response\" body \"expires_in\" property', $d0e8535850cb015b$var$xn, {\n                body: o\n            }), o.expires_in = r, void 0 !== o.interval && $d0e8535850cb015b$var$Ut(o.interval, !1, '\"response\" body \"interval\" property', $d0e8535850cb015b$var$xn, {\n                body: o\n            }), o;\n        })(n, o, e)).catch($d0e8535850cb015b$var$rr);\n}\nasync function $d0e8535850cb015b$var$hr(e, t, n, o) {\n    var r, i;\n    $d0e8535850cb015b$var$vr(e), n = new URLSearchParams(n);\n    let a = null !== (r = t.interval) && void 0 !== r ? r : 5;\n    const s = null !== (i = null == o ? void 0 : o.signal) && void 0 !== i ? i : AbortSignal.timeout(1e3 * t.expires_in);\n    try {\n        await $d0e8535850cb015b$var$lr(a, s);\n    } catch (e) {\n        $d0e8535850cb015b$var$rr(e);\n    }\n    const { as: c, c: u, auth: l, fetch: d, tlsOnly: h, nonRepudiation: p, timeout: f, decrypt: m } = $d0e8535850cb015b$var$Fo(e), y = (r, i)=>$d0e8535850cb015b$var$hr(e, $d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, t), {}, {\n            interval: r\n        }), n, $d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, o), {}, {\n            signal: s,\n            flag: i\n        })), w = await (async function(e, t, n, o, r) {\n        $d0e8535850cb015b$var$Gt(e), $d0e8535850cb015b$var$Ft(t), $d0e8535850cb015b$var$Nt(o, '\"authReqId\"');\n        const i = new URLSearchParams(null == r ? void 0 : r.additionalParameters);\n        return i.set(\"auth_req_id\", o), $d0e8535850cb015b$var$hn(e, t, n, \"urn:openid:params:grant-type:ciba\", i, r);\n    })(c, u, l, t.auth_req_id, {\n        [$d0e8535850cb015b$var$vt]: d,\n        [$d0e8535850cb015b$var$yt]: !h,\n        additionalParameters: n,\n        DPoP: null == o ? void 0 : o.DPoP,\n        headers: new Headers($d0e8535850cb015b$var$Vo),\n        signal: s.aborted ? s : $d0e8535850cb015b$var$br(f)\n    }).catch($d0e8535850cb015b$var$rr);\n    var g;\n    if (503 === w.status && w.headers.has(\"retry-after\")) return await $d0e8535850cb015b$var$ur(w, a, s, !0), await (null === (g = w.body) || void 0 === g ? void 0 : g.cancel()), y(a);\n    const v = async function(e, t, n, o) {\n        return $d0e8535850cb015b$var$yn(e, t, n, void 0, null == o ? void 0 : o[$d0e8535850cb015b$var$_t], null == o ? void 0 : o.recognizedTokenTypes);\n    }(c, u, w, {\n        [$d0e8535850cb015b$var$_t]: m\n    });\n    let b;\n    try {\n        b = await v;\n    } catch (e) {\n        if ($d0e8535850cb015b$var$_r(e, o)) return y(a, $d0e8535850cb015b$var$kr);\n        if (e instanceof $d0e8535850cb015b$var$$t) switch(e.error){\n            case \"slow_down\":\n                a += 5;\n            case \"authorization_pending\":\n                return await $d0e8535850cb015b$var$ur(e.response, a, s), y(a);\n        }\n        $d0e8535850cb015b$var$rr(e);\n    }\n    return b.id_token && await (null == p ? void 0 : p(w)), $d0e8535850cb015b$var$cr(b), b;\n}\nfunction $d0e8535850cb015b$var$pr(e) {\n    $d0e8535850cb015b$var$Fo(e).tlsOnly = !1;\n}\nasync function $d0e8535850cb015b$var$fr(e, t, n, o, r) {\n    if ($d0e8535850cb015b$var$vr(e), !((null == r ? void 0 : r.flag) === $d0e8535850cb015b$var$kr || t instanceof URL || function(e, t) {\n        try {\n            return Object.getPrototypeOf(e)[Symbol.toStringTag] === t;\n        } catch (e) {\n            return !1;\n        }\n    }(t, \"Request\"))) throw $d0e8535850cb015b$var$$o('\"currentUrl\" must be an instance of URL, or Request', $d0e8535850cb015b$var$Qo);\n    let i, a;\n    const { as: s, c: c, auth: u, fetch: l, tlsOnly: d, jarm: h, hybrid: p, nonRepudiation: f, timeout: m, decrypt: y, implicit: w } = $d0e8535850cb015b$var$Fo(e);\n    if ((null == r ? void 0 : r.flag) === $d0e8535850cb015b$var$kr) i = r.authResponse, a = r.redirectUri;\n    else {\n        if (!(t instanceof URL)) {\n            const e = t;\n            switch(t = new URL(t.url), e.method){\n                case \"GET\":\n                    break;\n                case \"POST\":\n                    const n = new URLSearchParams(await $d0e8535850cb015b$var$Vn(e));\n                    if (p) t.hash = n.toString();\n                    else for (const [e, o] of n.entries())t.searchParams.append(e, o);\n                    break;\n                default:\n                    throw $d0e8535850cb015b$var$$o(\"unexpected Request HTTP method\", $d0e8535850cb015b$var$Yo);\n            }\n        }\n        switch(a = function(e) {\n            return (e = new URL(e)).search = \"\", e.hash = \"\", e.href;\n        }(t), !0){\n            case !!h:\n                i = await h(t, null == n ? void 0 : n.expectedState);\n                break;\n            case !!p:\n                i = await p(t, null == n ? void 0 : n.expectedNonce, null == n ? void 0 : n.expectedState, null == n ? void 0 : n.maxAge);\n                break;\n            case !!w:\n                throw new TypeError(\"authorizationCodeGrant() cannot be used by response_type=id_token clients\");\n            default:\n                try {\n                    i = $d0e8535850cb015b$var$Bn(s, c, t.searchParams, null == n ? void 0 : n.expectedState);\n                } catch (e) {\n                    $d0e8535850cb015b$var$rr(e);\n                }\n        }\n    }\n    const g = await (async function(e, t, n, o, r, i, a) {\n        if ($d0e8535850cb015b$var$Gt(e), $d0e8535850cb015b$var$Ft(t), !$d0e8535850cb015b$var$vn.has(o)) throw $d0e8535850cb015b$var$mt('\"callbackParameters\" must be an instance of URLSearchParams obtained from \"validateAuthResponse()\", or \"validateJwtAuthResponse()', \"ERR_INVALID_ARG_VALUE\");\n        $d0e8535850cb015b$var$Nt(r, '\"redirectUri\"');\n        const s = $d0e8535850cb015b$var$Fn(o, \"code\");\n        if (!s) throw $d0e8535850cb015b$var$Ot('no authorization code in \"callbackParameters\"', $d0e8535850cb015b$var$xn);\n        const c = new URLSearchParams(null == a ? void 0 : a.additionalParameters);\n        return c.set(\"redirect_uri\", r), c.set(\"code\", s), i !== $d0e8535850cb015b$var$bn && ($d0e8535850cb015b$var$Nt(i, '\"codeVerifier\"'), c.set(\"code_verifier\", i)), $d0e8535850cb015b$var$hn(e, t, n, \"authorization_code\", c, a);\n    })(s, c, u, i, a, (null == n ? void 0 : n.pkceCodeVerifier) || $d0e8535850cb015b$var$bn, {\n        additionalParameters: o,\n        [$d0e8535850cb015b$var$vt]: l,\n        [$d0e8535850cb015b$var$yt]: !d,\n        DPoP: null == r ? void 0 : r.DPoP,\n        headers: new Headers($d0e8535850cb015b$var$Vo),\n        signal: $d0e8535850cb015b$var$br(m)\n    }).catch($d0e8535850cb015b$var$rr);\n    \"string\" != typeof (null == n ? void 0 : n.expectedNonce) && \"number\" != typeof (null == n ? void 0 : n.maxAge) || (n.idTokenExpected = !0);\n    const v = $d0e8535850cb015b$var$An(s, c, g, {\n        expectedNonce: null == n ? void 0 : n.expectedNonce,\n        maxAge: null == n ? void 0 : n.maxAge,\n        requireIdToken: null == n ? void 0 : n.idTokenExpected,\n        [$d0e8535850cb015b$var$_t]: y\n    });\n    let b;\n    try {\n        b = await v;\n    } catch (t) {\n        if ($d0e8535850cb015b$var$_r(t, r)) return $d0e8535850cb015b$var$fr(e, void 0, n, o, $d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, r), {}, {\n            flag: $d0e8535850cb015b$var$kr,\n            authResponse: i,\n            redirectUri: a\n        }));\n        $d0e8535850cb015b$var$rr(t);\n    }\n    return b.id_token && await (null == f ? void 0 : f(g)), $d0e8535850cb015b$var$cr(b), b;\n}\nasync function $d0e8535850cb015b$var$mr(e, t, n, o) {\n    $d0e8535850cb015b$var$vr(e), n = new URLSearchParams(n);\n    const { as: r, c: i, auth: a, fetch: s, tlsOnly: c, nonRepudiation: u, timeout: l, decrypt: d } = $d0e8535850cb015b$var$Fo(e), h = await (async function(e, t, n, o, r) {\n        $d0e8535850cb015b$var$Gt(e), $d0e8535850cb015b$var$Ft(t), $d0e8535850cb015b$var$Nt(o, '\"refreshToken\"');\n        const i = new URLSearchParams(null == r ? void 0 : r.additionalParameters);\n        return i.set(\"refresh_token\", o), $d0e8535850cb015b$var$hn(e, t, n, \"refresh_token\", i, r);\n    })(r, i, a, t, {\n        [$d0e8535850cb015b$var$vt]: s,\n        [$d0e8535850cb015b$var$yt]: !c,\n        additionalParameters: n,\n        DPoP: null == o ? void 0 : o.DPoP,\n        headers: new Headers($d0e8535850cb015b$var$Vo),\n        signal: $d0e8535850cb015b$var$br(l)\n    }).catch($d0e8535850cb015b$var$rr), p = async function(e, t, n, o) {\n        return $d0e8535850cb015b$var$yn(e, t, n, void 0, null == o ? void 0 : o[$d0e8535850cb015b$var$_t], null == o ? void 0 : o.recognizedTokenTypes);\n    }(r, i, h, {\n        [$d0e8535850cb015b$var$_t]: d\n    });\n    let f;\n    try {\n        f = await p;\n    } catch (r) {\n        if ($d0e8535850cb015b$var$_r(r, o)) return $d0e8535850cb015b$var$mr(e, t, n, $d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, o), {}, {\n            flag: $d0e8535850cb015b$var$kr\n        }));\n        $d0e8535850cb015b$var$rr(r);\n    }\n    return f.id_token && await (null == u ? void 0 : u(h)), $d0e8535850cb015b$var$cr(f), f;\n}\nasync function $d0e8535850cb015b$var$yr(e, t, n) {\n    $d0e8535850cb015b$var$vr(e), t = new URLSearchParams(t);\n    const { as: o, c: r, auth: i, fetch: a, tlsOnly: s, timeout: c } = $d0e8535850cb015b$var$Fo(e), u = await (async function(e, t, n, o, r) {\n        return $d0e8535850cb015b$var$Gt(e), $d0e8535850cb015b$var$Ft(t), $d0e8535850cb015b$var$hn(e, t, n, \"client_credentials\", new URLSearchParams(o), r);\n    })(o, r, i, t, {\n        [$d0e8535850cb015b$var$vt]: a,\n        [$d0e8535850cb015b$var$yt]: !s,\n        DPoP: null == n ? void 0 : n.DPoP,\n        headers: new Headers($d0e8535850cb015b$var$Vo),\n        signal: $d0e8535850cb015b$var$br(c)\n    }).catch($d0e8535850cb015b$var$rr), l = async function(e, t, n, o) {\n        return $d0e8535850cb015b$var$yn(e, t, n, void 0, null == o ? void 0 : o[$d0e8535850cb015b$var$_t], null == o ? void 0 : o.recognizedTokenTypes);\n    }(o, r, u);\n    let d;\n    try {\n        d = await l;\n    } catch (o) {\n        if ($d0e8535850cb015b$var$_r(o, n)) return $d0e8535850cb015b$var$yr(e, t, $d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, n), {}, {\n            flag: $d0e8535850cb015b$var$kr\n        }));\n        $d0e8535850cb015b$var$rr(o);\n    }\n    return $d0e8535850cb015b$var$cr(d), d;\n}\nfunction $d0e8535850cb015b$var$wr(e, t) {\n    $d0e8535850cb015b$var$vr(e);\n    const { as: n, c: o, tlsOnly: r, hybrid: i, jarm: a, implicit: s } = $d0e8535850cb015b$var$Fo(e), c = $d0e8535850cb015b$var$Qt(n, \"authorization_endpoint\", !1, r);\n    if ((t = new URLSearchParams(t)).has(\"client_id\") || t.set(\"client_id\", o.client_id), !t.has(\"request_uri\") && !t.has(\"request\")) {\n        if (t.has(\"response_type\") || t.set(\"response_type\", i ? \"code id_token\" : s ? \"id_token\" : \"code\"), s && !t.has(\"nonce\")) throw $d0e8535850cb015b$var$$o(\"response_type=id_token clients must provide a nonce parameter in their authorization request parameters\", $d0e8535850cb015b$var$Yo);\n        a && t.set(\"response_mode\", \"jwt\");\n    }\n    for (const [e, n] of t.entries())c.searchParams.append(e, n);\n    return c;\n}\nasync function $d0e8535850cb015b$var$gr(e, t, n) {\n    $d0e8535850cb015b$var$vr(e);\n    const o = $d0e8535850cb015b$var$wr(e, t), { as: r, c: i, auth: a, fetch: s, tlsOnly: c, timeout: u } = $d0e8535850cb015b$var$Fo(e), l = await (async function(e, t, n, o, r) {\n        var i;\n        $d0e8535850cb015b$var$Gt(e), $d0e8535850cb015b$var$Ft(t);\n        const a = $d0e8535850cb015b$var$Qt(e, \"pushed_authorization_request_endpoint\", t.use_mtls_endpoint_aliases, !0 !== (null == r ? void 0 : r[$d0e8535850cb015b$var$yt])), s = new URLSearchParams(o);\n        s.set(\"client_id\", t.client_id);\n        const c = $d0e8535850cb015b$var$jt(null == r ? void 0 : r.headers);\n        c.set(\"accept\", \"application/json\"), void 0 !== (null == r ? void 0 : r.DPoP) && ($d0e8535850cb015b$var$un(r.DPoP), await r.DPoP.addProof(a, c, \"POST\"));\n        const u = await $d0e8535850cb015b$var$dn(e, t, n, a, s, c, r);\n        return null == r || null === (i = r.DPoP) || void 0 === i || i.cacheNonce(u, a), u;\n    })(r, i, a, o.searchParams, {\n        [$d0e8535850cb015b$var$vt]: s,\n        [$d0e8535850cb015b$var$yt]: !c,\n        DPoP: null == n ? void 0 : n.DPoP,\n        headers: new Headers($d0e8535850cb015b$var$Vo),\n        signal: $d0e8535850cb015b$var$br(u)\n    }).catch($d0e8535850cb015b$var$rr), d = async function(e, t, n) {\n        if ($d0e8535850cb015b$var$Gt(e), $d0e8535850cb015b$var$Ft(t), !$d0e8535850cb015b$var$ft(n, Response)) throw $d0e8535850cb015b$var$mt('\"response\" must be an instance of Response', \"ERR_INVALID_ARG_TYPE\");\n        await $d0e8535850cb015b$var$cn(n, 201, \"Pushed Authorization Request Endpoint\"), $d0e8535850cb015b$var$zn(n);\n        const o = await $d0e8535850cb015b$var$Xn(n);\n        $d0e8535850cb015b$var$Nt(o.request_uri, '\"response\" body \"request_uri\" property', $d0e8535850cb015b$var$xn, {\n            body: o\n        });\n        let r = \"number\" != typeof o.expires_in ? parseFloat(o.expires_in) : o.expires_in;\n        return $d0e8535850cb015b$var$Ut(r, !0, '\"response\" body \"expires_in\" property', $d0e8535850cb015b$var$xn, {\n            body: o\n        }), o.expires_in = r, o;\n    }(r, i, l);\n    let h;\n    try {\n        h = await d;\n    } catch (o) {\n        if ($d0e8535850cb015b$var$_r(o, n)) return $d0e8535850cb015b$var$gr(e, t, $d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, n), {}, {\n            flag: $d0e8535850cb015b$var$kr\n        }));\n        $d0e8535850cb015b$var$rr(o);\n    }\n    return $d0e8535850cb015b$var$wr(e, {\n        request_uri: h.request_uri\n    });\n}\nfunction $d0e8535850cb015b$var$vr(e) {\n    if (!(e instanceof $d0e8535850cb015b$var$sr)) throw $d0e8535850cb015b$var$$o('\"config\" must be an instance of Configuration', $d0e8535850cb015b$var$Qo);\n    if (Object.getPrototypeOf(e) !== $d0e8535850cb015b$var$sr.prototype) throw $d0e8535850cb015b$var$$o(\"subclassing Configuration is not allowed\", $d0e8535850cb015b$var$Yo);\n}\nfunction $d0e8535850cb015b$var$br(e) {\n    return e ? AbortSignal.timeout(1e3 * e) : void 0;\n}\nfunction $d0e8535850cb015b$var$_r(e, t) {\n    return !(null == t || !t.DPoP || t.flag === $d0e8535850cb015b$var$kr) && function(e) {\n        if (e instanceof $d0e8535850cb015b$var$tn) {\n            const { 0: t, length: n } = e.cause;\n            return 1 === n && \"dpop\" === t.scheme && \"use_dpop_nonce\" === t.parameters.error;\n        }\n        return e instanceof $d0e8535850cb015b$var$$t && \"use_dpop_nonce\" === e.error;\n    }(e);\n}\nObject.freeze($d0e8535850cb015b$var$sr.prototype);\nconst $d0e8535850cb015b$var$kr = Symbol();\nasync function $d0e8535850cb015b$var$Sr(e, t, n, o) {\n    $d0e8535850cb015b$var$vr(e);\n    const { as: r, c: i, auth: a, fetch: s, tlsOnly: c, timeout: u, decrypt: l } = $d0e8535850cb015b$var$Fo(e), d = await (async function(e, t, n, o, r, i) {\n        return $d0e8535850cb015b$var$Gt(e), $d0e8535850cb015b$var$Ft(t), $d0e8535850cb015b$var$Nt(o, '\"grantType\"'), $d0e8535850cb015b$var$hn(e, t, n, o, new URLSearchParams(r), i);\n    })(r, i, a, t, new URLSearchParams(n), {\n        [$d0e8535850cb015b$var$vt]: s,\n        [$d0e8535850cb015b$var$yt]: !c,\n        DPoP: null == o ? void 0 : o.DPoP,\n        headers: new Headers($d0e8535850cb015b$var$Vo),\n        signal: $d0e8535850cb015b$var$br(u)\n    }).then((e)=>{\n        let n;\n        return \"urn:ietf:params:oauth:grant-type:token-exchange\" === t && (n = {\n            n_a: ()=>{}\n        }), async function(e, t, n, o) {\n            return $d0e8535850cb015b$var$yn(e, t, n, void 0, null == o ? void 0 : o[$d0e8535850cb015b$var$_t], null == o ? void 0 : o.recognizedTokenTypes);\n        }(r, i, e, {\n            [$d0e8535850cb015b$var$_t]: l,\n            recognizedTokenTypes: n\n        });\n    }).catch($d0e8535850cb015b$var$rr);\n    return $d0e8535850cb015b$var$cr(d), d;\n}\nasync function $d0e8535850cb015b$var$Er(e, t, n) {\n    if (t instanceof Uint8Array) {\n        if (!e.startsWith(\"HS\")) throw new TypeError(function(e) {\n            for(var t = arguments.length, n = new Array(t > 1 ? t - 1 : 0), o = 1; o < t; o++)n[o - 1] = arguments[o];\n            return $d0e8535850cb015b$var$_o(\"Key must be \", e, ...n);\n        }(t, \"CryptoKey\", \"KeyObject\", \"JSON Web Key\"));\n        return crypto.subtle.importKey(\"raw\", t, {\n            hash: \"SHA-\".concat(e.slice(-3)),\n            name: \"HMAC\"\n        }, !1, [\n            n\n        ]);\n    }\n    return $d0e8535850cb015b$var$bo(t, e, n), t;\n}\nasync function $d0e8535850cb015b$var$Ar(e, t, n, o) {\n    const r = await $d0e8535850cb015b$var$Er(e, t, \"verify\");\n    !function(e, t) {\n        if (e.startsWith(\"RS\") || e.startsWith(\"PS\")) {\n            const { modulusLength: n } = t.algorithm;\n            if (\"number\" != typeof n || n < 2048) throw new TypeError(\"\".concat(e, \" requires key modulusLength to be 2048 bits or larger\"));\n        }\n    }(e, r);\n    const i = function(e, t) {\n        const n = \"SHA-\".concat(e.slice(-3));\n        switch(e){\n            case \"HS256\":\n            case \"HS384\":\n            case \"HS512\":\n                return {\n                    hash: n,\n                    name: \"HMAC\"\n                };\n            case \"PS256\":\n            case \"PS384\":\n            case \"PS512\":\n                return {\n                    hash: n,\n                    name: \"RSA-PSS\",\n                    saltLength: parseInt(e.slice(-3), 10) >> 3\n                };\n            case \"RS256\":\n            case \"RS384\":\n            case \"RS512\":\n                return {\n                    hash: n,\n                    name: \"RSASSA-PKCS1-v1_5\"\n                };\n            case \"ES256\":\n            case \"ES384\":\n            case \"ES512\":\n                return {\n                    hash: n,\n                    name: \"ECDSA\",\n                    namedCurve: t.namedCurve\n                };\n            case \"Ed25519\":\n            case \"EdDSA\":\n                return {\n                    name: \"Ed25519\"\n                };\n            case \"ML-DSA-44\":\n            case \"ML-DSA-65\":\n            case \"ML-DSA-87\":\n                return {\n                    name: e\n                };\n            default:\n                throw new $d0e8535850cb015b$var$co(\"alg \".concat(e, \" is not supported either by JOSE or your javascript runtime\"));\n        }\n    }(e, r.algorithm);\n    try {\n        return await crypto.subtle.verify(i, r, n, o);\n    } catch (e) {\n        return !1;\n    }\n}\nasync function $d0e8535850cb015b$var$Tr(e, t, n) {\n    if (!$d0e8535850cb015b$var$To(e)) throw new $d0e8535850cb015b$var$uo(\"Flattened JWS must be an object\");\n    if (void 0 === e.protected && void 0 === e.header) throw new $d0e8535850cb015b$var$uo('Flattened JWS must have either of the \"protected\" or \"header\" members');\n    if (void 0 !== e.protected && \"string\" != typeof e.protected) throw new $d0e8535850cb015b$var$uo(\"JWS Protected Header incorrect type\");\n    if (void 0 === e.payload) throw new $d0e8535850cb015b$var$uo(\"JWS Payload missing\");\n    if (\"string\" != typeof e.signature) throw new $d0e8535850cb015b$var$uo(\"JWS Signature missing or incorrect type\");\n    if (void 0 !== e.header && !$d0e8535850cb015b$var$To(e.header)) throw new $d0e8535850cb015b$var$uo(\"JWS Unprotected Header incorrect type\");\n    let o = {};\n    if (e.protected) try {\n        const t = $d0e8535850cb015b$var$oo(e.protected);\n        o = JSON.parse($d0e8535850cb015b$var$eo.decode(t));\n    } catch (e) {\n        throw new $d0e8535850cb015b$var$uo(\"JWS Protected Header is invalid\");\n    }\n    if (!function() {\n        for(var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n];\n        const o = t.filter(Boolean);\n        if (0 === o.length || 1 === o.length) return !0;\n        let r;\n        for (const e of o){\n            const t = Object.keys(e);\n            if (r && 0 !== r.size) for (const e of t){\n                if (r.has(e)) return !1;\n                r.add(e);\n            }\n            else r = new Set(t);\n        }\n        return !0;\n    }(o, e.header)) throw new $d0e8535850cb015b$var$uo(\"JWS Protected and JWS Unprotected Header Parameter names must be disjoint\");\n    const r = $d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, o), e.header), i = function(e, t, n, o, r) {\n        if (void 0 !== r.crit && void 0 === (null == o ? void 0 : o.crit)) throw new e('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n        if (!o || void 0 === o.crit) return new Set;\n        if (!Array.isArray(o.crit) || 0 === o.crit.length || o.crit.some((e)=>\"string\" != typeof e || 0 === e.length)) throw new e('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n        let i;\n        i = void 0 !== n ? new Map([\n            ...Object.entries(n),\n            ...t.entries()\n        ]) : t;\n        for (const t of o.crit){\n            if (!i.has(t)) throw new $d0e8535850cb015b$var$co('Extension Header Parameter \"'.concat(t, '\" is not recognized'));\n            if (void 0 === r[t]) throw new e('Extension Header Parameter \"'.concat(t, '\" is missing'));\n            if (i.get(t) && void 0 === o[t]) throw new e('Extension Header Parameter \"'.concat(t, '\" MUST be integrity protected'));\n        }\n        return new Set(o.crit);\n    }($d0e8535850cb015b$var$uo, new Map([\n        [\n            \"b64\",\n            !0\n        ]\n    ]), null == n ? void 0 : n.crit, o, r);\n    let a = !0;\n    if (i.has(\"b64\") && (a = o.b64, \"boolean\" != typeof a)) throw new $d0e8535850cb015b$var$uo('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n    const { alg: s } = r;\n    if (\"string\" != typeof s || !s) throw new $d0e8535850cb015b$var$uo('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n    const c = n && function(e, t) {\n        if (void 0 !== t && (!Array.isArray(t) || t.some((e)=>\"string\" != typeof e))) throw new TypeError('\"'.concat(e, '\" option must be an array of strings'));\n        if (t) return new Set(t);\n    }(\"algorithms\", n.algorithms);\n    if (c && !c.has(s)) throw new $d0e8535850cb015b$var$so('\"alg\" (Algorithm) Header Parameter value not allowed');\n    if (a) {\n        if (\"string\" != typeof e.payload) throw new $d0e8535850cb015b$var$uo(\"JWS Payload must be a string\");\n    } else if (\"string\" != typeof e.payload && !(e.payload instanceof Uint8Array)) throw new $d0e8535850cb015b$var$uo(\"JWS Payload must be a string or an Uint8Array instance\");\n    let u = !1;\n    \"function\" == typeof t && (t = await t(o, e), u = !0), $d0e8535850cb015b$var$zo(s, t, \"verify\");\n    const l = function() {\n        for(var e = arguments.length, t = new Array(e), n = 0; n < e; n++)t[n] = arguments[n];\n        const o = t.reduce((e, t)=>{\n            let { length: n } = t;\n            return e + n;\n        }, 0), r = new Uint8Array(o);\n        let i = 0;\n        for (const e of t)r.set(e, i), i += e.length;\n        return r;\n    }(void 0 !== e.protected ? $d0e8535850cb015b$var$to(e.protected) : new Uint8Array, $d0e8535850cb015b$var$to(\".\"), \"string\" == typeof e.payload ? a ? $d0e8535850cb015b$var$to(e.payload) : $d0e8535850cb015b$var$$n.encode(e.payload) : e.payload);\n    let d;\n    try {\n        d = $d0e8535850cb015b$var$oo(e.signature);\n    } catch (e) {\n        throw new $d0e8535850cb015b$var$uo(\"Failed to base64url decode the signature\");\n    }\n    const h = await $d0e8535850cb015b$var$No(t, s);\n    if (!await $d0e8535850cb015b$var$Ar(s, h, d, l)) throw new $d0e8535850cb015b$var$yo;\n    let p;\n    if (a) try {\n        p = $d0e8535850cb015b$var$oo(e.payload);\n    } catch (e) {\n        throw new $d0e8535850cb015b$var$uo(\"Failed to base64url decode the payload\");\n    }\n    else p = \"string\" == typeof e.payload ? $d0e8535850cb015b$var$$n.encode(e.payload) : e.payload;\n    const f = {\n        payload: p\n    };\n    return void 0 !== e.protected && (f.protectedHeader = o), void 0 !== e.header && (f.unprotectedHeader = e.header), u ? $d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, f), {}, {\n        key: h\n    }) : f;\n}\nconst $d0e8535850cb015b$var$Pr = (e)=>Math.floor(e.getTime() / 1e3), $d0e8535850cb015b$var$Rr = /^(\\+|\\-)? ?(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;\nfunction $d0e8535850cb015b$var$Ir(e) {\n    const t = $d0e8535850cb015b$var$Rr.exec(e);\n    if (!t || t[4] && t[1]) throw new TypeError(\"Invalid time period format\");\n    const n = parseFloat(t[2]);\n    let o;\n    switch(t[3].toLowerCase()){\n        case \"sec\":\n        case \"secs\":\n        case \"second\":\n        case \"seconds\":\n        case \"s\":\n            o = Math.round(n);\n            break;\n        case \"minute\":\n        case \"minutes\":\n        case \"min\":\n        case \"mins\":\n        case \"m\":\n            o = Math.round(60 * n);\n            break;\n        case \"hour\":\n        case \"hours\":\n        case \"hr\":\n        case \"hrs\":\n        case \"h\":\n            o = Math.round(3600 * n);\n            break;\n        case \"day\":\n        case \"days\":\n        case \"d\":\n            o = Math.round(86400 * n);\n            break;\n        case \"week\":\n        case \"weeks\":\n        case \"w\":\n            o = Math.round(604800 * n);\n            break;\n        default:\n            o = Math.round(31557600 * n);\n    }\n    return \"-\" === t[1] || \"ago\" === t[4] ? -o : o;\n}\nconst $d0e8535850cb015b$var$Or = (e)=>e.includes(\"/\") ? e.toLowerCase() : \"application/\".concat(e.toLowerCase()), $d0e8535850cb015b$var$xr = (e, t)=>\"string\" == typeof e ? t.includes(e) : !!Array.isArray(e) && t.some(Set.prototype.has.bind(new Set(e)));\nasync function $d0e8535850cb015b$var$Cr(e, t, n) {\n    var o;\n    const r = await async function(e, t, n) {\n        if (e instanceof Uint8Array && (e = $d0e8535850cb015b$var$eo.decode(e)), \"string\" != typeof e) throw new $d0e8535850cb015b$var$uo(\"Compact JWS must be a string or Uint8Array\");\n        const { 0: o, 1: r, 2: i, length: a } = e.split(\".\");\n        if (3 !== a) throw new $d0e8535850cb015b$var$uo(\"Invalid Compact JWS\");\n        const s = await $d0e8535850cb015b$var$Tr({\n            payload: r,\n            protected: o,\n            signature: i\n        }, t, n), c = {\n            payload: s.payload,\n            protectedHeader: s.protectedHeader\n        };\n        return \"function\" == typeof t ? $d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, c), {}, {\n            key: s.key\n        }) : c;\n    }(e, t, n);\n    if (null !== (o = r.protectedHeader.crit) && void 0 !== o && o.includes(\"b64\") && !1 === r.protectedHeader.b64) throw new $d0e8535850cb015b$var$lo(\"JWTs MUST NOT use unencoded payload\");\n    const i = function(e, t) {\n        let n, o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};\n        try {\n            n = JSON.parse($d0e8535850cb015b$var$eo.decode(t));\n        } catch (e) {}\n        if (!$d0e8535850cb015b$var$To(n)) throw new $d0e8535850cb015b$var$lo(\"JWT Claims Set must be a top-level JSON object\");\n        const { typ: r } = o;\n        if (r && (\"string\" != typeof e.typ || $d0e8535850cb015b$var$Or(e.typ) !== $d0e8535850cb015b$var$Or(r))) throw new $d0e8535850cb015b$var$io('unexpected \"typ\" JWT header value', n, \"typ\", \"check_failed\");\n        const { requiredClaims: i = [], issuer: a, subject: s, audience: c, maxTokenAge: u } = o, l = [\n            ...i\n        ];\n        void 0 !== u && l.push(\"iat\"), void 0 !== c && l.push(\"aud\"), void 0 !== s && l.push(\"sub\"), void 0 !== a && l.push(\"iss\");\n        for (const e of new Set(l.reverse()))if (!(e in n)) throw new $d0e8535850cb015b$var$io('missing required \"'.concat(e, '\" claim'), n, e, \"missing\");\n        if (a && !(Array.isArray(a) ? a : [\n            a\n        ]).includes(n.iss)) throw new $d0e8535850cb015b$var$io('unexpected \"iss\" claim value', n, \"iss\", \"check_failed\");\n        if (s && n.sub !== s) throw new $d0e8535850cb015b$var$io('unexpected \"sub\" claim value', n, \"sub\", \"check_failed\");\n        if (c && !$d0e8535850cb015b$var$xr(n.aud, \"string\" == typeof c ? [\n            c\n        ] : c)) throw new $d0e8535850cb015b$var$io('unexpected \"aud\" claim value', n, \"aud\", \"check_failed\");\n        let d;\n        switch(typeof o.clockTolerance){\n            case \"string\":\n                d = $d0e8535850cb015b$var$Ir(o.clockTolerance);\n                break;\n            case \"number\":\n                d = o.clockTolerance;\n                break;\n            case \"undefined\":\n                d = 0;\n                break;\n            default:\n                throw new TypeError(\"Invalid clockTolerance option type\");\n        }\n        const { currentDate: h } = o, p = $d0e8535850cb015b$var$Pr(h || new Date);\n        if ((void 0 !== n.iat || u) && \"number\" != typeof n.iat) throw new $d0e8535850cb015b$var$io('\"iat\" claim must be a number', n, \"iat\", \"invalid\");\n        if (void 0 !== n.nbf) {\n            if (\"number\" != typeof n.nbf) throw new $d0e8535850cb015b$var$io('\"nbf\" claim must be a number', n, \"nbf\", \"invalid\");\n            if (n.nbf > p + d) throw new $d0e8535850cb015b$var$io('\"nbf\" claim timestamp check failed', n, \"nbf\", \"check_failed\");\n        }\n        if (void 0 !== n.exp) {\n            if (\"number\" != typeof n.exp) throw new $d0e8535850cb015b$var$io('\"exp\" claim must be a number', n, \"exp\", \"invalid\");\n            if (n.exp <= p - d) throw new $d0e8535850cb015b$var$ao('\"exp\" claim timestamp check failed', n, \"exp\", \"check_failed\");\n        }\n        if (u) {\n            const e = p - n.iat;\n            if (e - d > (\"number\" == typeof u ? u : $d0e8535850cb015b$var$Ir(u))) throw new $d0e8535850cb015b$var$ao('\"iat\" claim timestamp check failed (too far in the past)', n, \"iat\", \"check_failed\");\n            if (e < 0 - d) throw new $d0e8535850cb015b$var$io('\"iat\" claim timestamp check failed (it should be in the past)', n, \"iat\", \"check_failed\");\n        }\n        return n;\n    }(r.protectedHeader, r.payload, n), a = {\n        payload: i,\n        protectedHeader: r.protectedHeader\n    };\n    return \"function\" == typeof t ? $d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, a), {}, {\n        key: r.key\n    }) : a;\n}\nfunction $d0e8535850cb015b$var$jr(e) {\n    return $d0e8535850cb015b$var$To(e);\n}\nvar $d0e8535850cb015b$var$Dr, $d0e8535850cb015b$var$Kr, $d0e8535850cb015b$var$Lr = new WeakMap, $d0e8535850cb015b$var$Ur = new WeakMap;\nclass $d0e8535850cb015b$var$Nr {\n    constructor(e){\n        if ($d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$Lr, void 0), $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$Ur, new WeakMap), !function(e) {\n            return e && \"object\" == typeof e && Array.isArray(e.keys) && e.keys.every($d0e8535850cb015b$var$jr);\n        }(e)) throw new $d0e8535850cb015b$var$ho(\"JSON Web Key Set malformed\");\n        $d0e8535850cb015b$var$at($d0e8535850cb015b$var$Lr, this, structuredClone(e));\n    }\n    jwks() {\n        return $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Lr, this);\n    }\n    async getKey(e, t) {\n        const { alg: n, kid: o } = $d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, e), null == t ? void 0 : t.header), r = function(e) {\n            switch(\"string\" == typeof e && e.slice(0, 2)){\n                case \"RS\":\n                case \"PS\":\n                    return \"RSA\";\n                case \"ES\":\n                    return \"EC\";\n                case \"Ed\":\n                    return \"OKP\";\n                case \"ML\":\n                    return \"AKP\";\n                default:\n                    throw new $d0e8535850cb015b$var$co('Unsupported \"alg\" value for a JSON Web Key Set');\n            }\n        }(n), i = $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Lr, this).keys.filter((e)=>{\n            let t = r === e.kty;\n            if (t && \"string\" == typeof o && (t = o === e.kid), !t || \"string\" != typeof e.alg && \"AKP\" !== r || (t = n === e.alg), t && \"string\" == typeof e.use && (t = \"sig\" === e.use), t && Array.isArray(e.key_ops) && (t = e.key_ops.includes(\"verify\")), t) switch(n){\n                case \"ES256\":\n                    t = \"P-256\" === e.crv;\n                    break;\n                case \"ES384\":\n                    t = \"P-384\" === e.crv;\n                    break;\n                case \"ES512\":\n                    t = \"P-521\" === e.crv;\n                    break;\n                case \"Ed25519\":\n                case \"EdDSA\":\n                    t = \"Ed25519\" === e.crv;\n            }\n            return t;\n        }), { 0: a, length: s } = i;\n        if (0 === s) throw new $d0e8535850cb015b$var$po;\n        if (1 !== s) {\n            const e = new $d0e8535850cb015b$var$fo, t = $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Ur, this);\n            throw e[Symbol.asyncIterator] = $d0e8535850cb015b$var$dt(function*() {\n                for (const e of i)try {\n                    yield yield $d0e8535850cb015b$var$nt($d0e8535850cb015b$var$Wr(t, e, n));\n                } catch (e) {}\n            }), e;\n        }\n        return $d0e8535850cb015b$var$Wr($d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Ur, this), a, n);\n    }\n}\nasync function $d0e8535850cb015b$var$Wr(e, t, n) {\n    const o = e.get(t) || e.set(t, {}).get(t);\n    if (void 0 === o[n]) {\n        const e = await async function(e, t, n) {\n            var o;\n            if (!$d0e8535850cb015b$var$To(e)) throw new TypeError(\"JWK must be an object\");\n            let r;\n            switch(null != t || (t = e.alg), null != r || (r = null !== (o = null == n ? void 0 : n.extractable) && void 0 !== o ? o : e.ext), e.kty){\n                case \"oct\":\n                    if (\"string\" != typeof e.k || !e.k) throw new TypeError('missing \"k\" (Key Value) Parameter value');\n                    return $d0e8535850cb015b$var$oo(e.k);\n                case \"RSA\":\n                    if (\"oth\" in e && void 0 !== e.oth) throw new $d0e8535850cb015b$var$co('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');\n                    return $d0e8535850cb015b$var$Do($d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, e), {}, {\n                        alg: t,\n                        ext: r\n                    }));\n                case \"AKP\":\n                    if (\"string\" != typeof e.alg || !e.alg) throw new TypeError('missing \"alg\" (Algorithm) Parameter value');\n                    if (void 0 !== t && t !== e.alg) throw new TypeError(\"JWK alg and alg option value mismatch\");\n                    return $d0e8535850cb015b$var$Do($d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, e), {}, {\n                        ext: r\n                    }));\n                case \"EC\":\n                case \"OKP\":\n                    return $d0e8535850cb015b$var$Do($d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, e), {}, {\n                        alg: t,\n                        ext: r\n                    }));\n                default:\n                    throw new $d0e8535850cb015b$var$co('Unsupported \"kty\" (Key Type) Parameter value');\n            }\n        }($d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, t), {}, {\n            ext: !0\n        }), n);\n        if (e instanceof Uint8Array || \"public\" !== e.type) throw new $d0e8535850cb015b$var$ho(\"JSON Web Key Set members must be public keys\");\n        o[n] = e;\n    }\n    return o[n];\n}\nfunction $d0e8535850cb015b$var$Hr(e) {\n    const t = new $d0e8535850cb015b$var$Nr(e), n = async (e, n)=>t.getKey(e, n);\n    return Object.defineProperties(n, {\n        jwks: {\n            value: ()=>structuredClone(t.jwks()),\n            enumerable: !1,\n            configurable: !1,\n            writable: !1\n        }\n    }), n;\n}\nlet $d0e8535850cb015b$var$zr;\nif (\"undefined\" == typeof navigator || null === ($d0e8535850cb015b$var$Dr = navigator.userAgent) || void 0 === $d0e8535850cb015b$var$Dr || null === ($d0e8535850cb015b$var$Kr = $d0e8535850cb015b$var$Dr.startsWith) || void 0 === $d0e8535850cb015b$var$Kr || !$d0e8535850cb015b$var$Kr.call($d0e8535850cb015b$var$Dr, \"Mozilla/5.0 \")) {\n    const e = \"v6.1.3\";\n    $d0e8535850cb015b$var$zr = \"\".concat(\"jose\", \"/\").concat(e);\n}\nconst $d0e8535850cb015b$var$Jr = Symbol();\nconst $d0e8535850cb015b$var$Mr = Symbol();\nvar $d0e8535850cb015b$var$Vr = new WeakMap, $d0e8535850cb015b$var$Gr = new WeakMap, $d0e8535850cb015b$var$Fr = new WeakMap, $d0e8535850cb015b$var$Zr = new WeakMap, $d0e8535850cb015b$var$qr = new WeakMap, $d0e8535850cb015b$var$Br = new WeakMap, $d0e8535850cb015b$var$Xr = new WeakMap, $d0e8535850cb015b$var$Yr = new WeakMap, $d0e8535850cb015b$var$Qr = new WeakMap, $d0e8535850cb015b$var$$r = new WeakMap;\nclass $d0e8535850cb015b$var$ei {\n    constructor(e, t){\n        if ($d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$Vr, void 0), $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$Gr, void 0), $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$Fr, void 0), $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$Zr, void 0), $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$qr, void 0), $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$Br, void 0), $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$Xr, void 0), $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$Yr, void 0), $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$Qr, void 0), $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$$r, void 0), !(e instanceof URL)) throw new TypeError(\"url must be an instance of URL\");\n        var n, o;\n        $d0e8535850cb015b$var$at($d0e8535850cb015b$var$Vr, this, new URL(e.href)), $d0e8535850cb015b$var$at($d0e8535850cb015b$var$Gr, this, \"number\" == typeof (null == t ? void 0 : t.timeoutDuration) ? null == t ? void 0 : t.timeoutDuration : 5e3), $d0e8535850cb015b$var$at($d0e8535850cb015b$var$Fr, this, \"number\" == typeof (null == t ? void 0 : t.cooldownDuration) ? null == t ? void 0 : t.cooldownDuration : 3e4), $d0e8535850cb015b$var$at($d0e8535850cb015b$var$Zr, this, \"number\" == typeof (null == t ? void 0 : t.cacheMaxAge) ? null == t ? void 0 : t.cacheMaxAge : 6e5), $d0e8535850cb015b$var$at($d0e8535850cb015b$var$Xr, this, new Headers(null == t ? void 0 : t.headers)), $d0e8535850cb015b$var$zr && !$d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Xr, this).has(\"User-Agent\") && $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Xr, this).set(\"User-Agent\", $d0e8535850cb015b$var$zr), $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Xr, this).has(\"accept\") || ($d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Xr, this).set(\"accept\", \"application/json\"), $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Xr, this).append(\"accept\", \"application/jwk-set+json\")), $d0e8535850cb015b$var$at($d0e8535850cb015b$var$Yr, this, null == t ? void 0 : t[$d0e8535850cb015b$var$Jr]), void 0 !== (null == t ? void 0 : t[$d0e8535850cb015b$var$Mr]) && ($d0e8535850cb015b$var$at($d0e8535850cb015b$var$$r, this, null == t ? void 0 : t[$d0e8535850cb015b$var$Mr]), n = null == t ? void 0 : t[$d0e8535850cb015b$var$Mr], o = $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Zr, this), \"object\" == typeof n && null !== n && \"uat\" in n && \"number\" == typeof n.uat && !(Date.now() - n.uat >= o) && \"jwks\" in n && $d0e8535850cb015b$var$To(n.jwks) && Array.isArray(n.jwks.keys) && Array.prototype.every.call(n.jwks.keys, $d0e8535850cb015b$var$To) && ($d0e8535850cb015b$var$at($d0e8535850cb015b$var$qr, this, $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$$r, this).uat), $d0e8535850cb015b$var$at($d0e8535850cb015b$var$Qr, this, $d0e8535850cb015b$var$Hr($d0e8535850cb015b$var$rt($d0e8535850cb015b$var$$r, this).jwks))));\n    }\n    pendingFetch() {\n        return !!$d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Br, this);\n    }\n    coolingDown() {\n        return \"number\" == typeof $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$qr, this) && Date.now() < $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$qr, this) + $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Fr, this);\n    }\n    fresh() {\n        return \"number\" == typeof $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$qr, this) && Date.now() < $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$qr, this) + $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Zr, this);\n    }\n    jwks() {\n        var e;\n        return null === (e = $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Qr, this)) || void 0 === e ? void 0 : e.jwks();\n    }\n    async getKey(e, t) {\n        $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Qr, this) && this.fresh() || await this.reload();\n        try {\n            return await $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Qr, this).call(this, e, t);\n        } catch (n) {\n            if (n instanceof $d0e8535850cb015b$var$po && !1 === this.coolingDown()) return await this.reload(), $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Qr, this).call(this, e, t);\n            throw n;\n        }\n    }\n    async reload() {\n        $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Br, this) && (\"undefined\" != typeof WebSocketPair || \"undefined\" != typeof navigator && \"Cloudflare-Workers\" === navigator.userAgent || \"undefined\" != typeof EdgeRuntime && \"vercel\" === EdgeRuntime) && $d0e8535850cb015b$var$at($d0e8535850cb015b$var$Br, this, void 0), $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Br, this) || $d0e8535850cb015b$var$at($d0e8535850cb015b$var$Br, this, (async function(e, t, n) {\n            let o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : fetch;\n            const r = await o(e, {\n                method: \"GET\",\n                signal: n,\n                redirect: \"manual\",\n                headers: t\n            }).catch((e)=>{\n                if (\"TimeoutError\" === e.name) throw new $d0e8535850cb015b$var$mo;\n                throw e;\n            });\n            if (200 !== r.status) throw new $d0e8535850cb015b$var$ro(\"Expected 200 OK from the JSON Web Key Set HTTP response\");\n            try {\n                return await r.json();\n            } catch (e) {\n                throw new $d0e8535850cb015b$var$ro(\"Failed to parse the JSON Web Key Set HTTP response as JSON\");\n            }\n        })($d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Vr, this).href, $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Xr, this), AbortSignal.timeout($d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Gr, this)), $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Yr, this)).then((e)=>{\n            $d0e8535850cb015b$var$at($d0e8535850cb015b$var$Qr, this, $d0e8535850cb015b$var$Hr(e)), $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$$r, this) && ($d0e8535850cb015b$var$rt($d0e8535850cb015b$var$$r, this).uat = Date.now(), $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$$r, this).jwks = e), $d0e8535850cb015b$var$at($d0e8535850cb015b$var$qr, this, Date.now()), $d0e8535850cb015b$var$at($d0e8535850cb015b$var$Br, this, void 0);\n        }).catch((e)=>{\n            throw $d0e8535850cb015b$var$at($d0e8535850cb015b$var$Br, this, void 0), e;\n        })), await $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$Br, this);\n    }\n}\nconst $d0e8535850cb015b$var$ti = [\n    \"mfaToken\"\n], $d0e8535850cb015b$var$ni = [\n    \"mfaToken\"\n];\nvar $d0e8535850cb015b$var$oi, $d0e8535850cb015b$var$ri, $d0e8535850cb015b$var$ii, $d0e8535850cb015b$var$ai, $d0e8535850cb015b$var$si, $d0e8535850cb015b$var$ci, $d0e8535850cb015b$var$ui, $d0e8535850cb015b$var$li, $d0e8535850cb015b$var$di = class extends Error {\n    constructor(e, t){\n        super(t), $d0e8535850cb015b$var$st(this, \"code\", void 0), this.name = \"NotSupportedError\", this.code = e;\n    }\n}, $d0e8535850cb015b$var$hi = class extends Error {\n    constructor(e, t, n){\n        super(t), $d0e8535850cb015b$var$st(this, \"cause\", void 0), $d0e8535850cb015b$var$st(this, \"code\", void 0), this.code = e, this.cause = n && {\n            error: n.error,\n            error_description: n.error_description,\n            message: n.message\n        };\n    }\n}, $d0e8535850cb015b$var$pi = class extends $d0e8535850cb015b$var$hi {\n    constructor(e, t){\n        super(\"token_by_code_error\", e, t), this.name = \"TokenByCodeError\";\n    }\n}, $d0e8535850cb015b$var$fi = class extends $d0e8535850cb015b$var$hi {\n    constructor(e, t){\n        super(\"token_by_client_credentials_error\", e, t), this.name = \"TokenByClientCredentialsError\";\n    }\n}, $d0e8535850cb015b$var$mi = class extends $d0e8535850cb015b$var$hi {\n    constructor(e, t){\n        super(\"token_by_refresh_token_error\", e, t), this.name = \"TokenByRefreshTokenError\";\n    }\n}, $d0e8535850cb015b$var$yi = class extends $d0e8535850cb015b$var$hi {\n    constructor(e, t){\n        super(\"token_for_connection_error\", e, t), this.name = \"TokenForConnectionErrorCode\";\n    }\n}, $d0e8535850cb015b$var$wi = class extends $d0e8535850cb015b$var$hi {\n    constructor(e, t){\n        super(\"token_exchange_error\", e, t), this.name = \"TokenExchangeError\";\n    }\n}, $d0e8535850cb015b$var$gi = class extends Error {\n    constructor(e){\n        super(e), $d0e8535850cb015b$var$st(this, \"code\", \"verify_logout_token_error\"), this.name = \"VerifyLogoutTokenError\";\n    }\n}, $d0e8535850cb015b$var$vi = class extends $d0e8535850cb015b$var$hi {\n    constructor(e){\n        super(\"backchannel_authentication_error\", \"There was an error when trying to use Client-Initiated Backchannel Authentication.\", e), $d0e8535850cb015b$var$st(this, \"code\", \"backchannel_authentication_error\"), this.name = \"BackchannelAuthenticationError\";\n    }\n}, $d0e8535850cb015b$var$bi = class extends $d0e8535850cb015b$var$hi {\n    constructor(e){\n        super(\"build_authorization_url_error\", \"There was an error when trying to build the authorization URL.\", e), this.name = \"BuildAuthorizationUrlError\";\n    }\n}, $d0e8535850cb015b$var$_i = class extends $d0e8535850cb015b$var$hi {\n    constructor(e){\n        super(\"build_link_user_url_error\", \"There was an error when trying to build the Link User URL.\", e), this.name = \"BuildLinkUserUrlError\";\n    }\n}, $d0e8535850cb015b$var$ki = class extends $d0e8535850cb015b$var$hi {\n    constructor(e){\n        super(\"build_unlink_user_url_error\", \"There was an error when trying to build the Unlink User URL.\", e), this.name = \"BuildUnlinkUserUrlError\";\n    }\n}, $d0e8535850cb015b$var$Si = class extends Error {\n    constructor(){\n        super(\"The client secret or client assertion signing key must be provided.\"), $d0e8535850cb015b$var$st(this, \"code\", \"missing_client_auth_error\"), this.name = \"MissingClientAuthError\";\n    }\n};\nfunction $d0e8535850cb015b$var$Ei(e) {\n    return Object.entries(e).filter((e)=>{\n        let [, t] = e;\n        return void 0 !== t;\n    }).reduce((e, t)=>$d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, e), {}, {\n            [t[0]]: t[1]\n        }), {});\n}\nvar $d0e8535850cb015b$var$Ai = class extends Error {\n    constructor(e, t, n){\n        super(t), $d0e8535850cb015b$var$st(this, \"cause\", void 0), $d0e8535850cb015b$var$st(this, \"code\", void 0), this.code = e, this.cause = n && {\n            error: n.error,\n            error_description: n.error_description,\n            message: n.message\n        };\n    }\n}, $d0e8535850cb015b$var$Ti = class extends $d0e8535850cb015b$var$Ai {\n    constructor(e, t){\n        super(\"mfa_list_authenticators_error\", e, t), this.name = \"MfaListAuthenticatorsError\";\n    }\n}, $d0e8535850cb015b$var$Pi = class extends $d0e8535850cb015b$var$Ai {\n    constructor(e, t){\n        super(\"mfa_enrollment_error\", e, t), this.name = \"MfaEnrollmentError\";\n    }\n}, $d0e8535850cb015b$var$Ri = class extends $d0e8535850cb015b$var$Ai {\n    constructor(e, t){\n        super(\"mfa_delete_authenticator_error\", e, t), this.name = \"MfaDeleteAuthenticatorError\";\n    }\n}, $d0e8535850cb015b$var$Ii = class extends $d0e8535850cb015b$var$Ai {\n    constructor(e, t){\n        super(\"mfa_challenge_error\", e, t), this.name = \"MfaChallengeError\";\n    }\n};\nfunction $d0e8535850cb015b$var$Oi(e) {\n    return {\n        id: e.id,\n        authenticatorType: e.authenticator_type,\n        active: e.active,\n        name: e.name,\n        oobChannels: e.oob_channels,\n        type: e.type\n    };\n}\nvar $d0e8535850cb015b$var$xi = ($d0e8535850cb015b$var$oi = new WeakMap, $d0e8535850cb015b$var$ri = new WeakMap, $d0e8535850cb015b$var$ii = new WeakMap, class {\n    constructor(e){\n        var t;\n        $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$oi, void 0), $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$ri, void 0), $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$ii, void 0), $d0e8535850cb015b$var$at($d0e8535850cb015b$var$oi, this, \"https://\".concat(e.domain)), $d0e8535850cb015b$var$at($d0e8535850cb015b$var$ri, this, e.clientId), $d0e8535850cb015b$var$at($d0e8535850cb015b$var$ii, this, null !== (t = e.customFetch) && void 0 !== t ? t : function() {\n            return fetch(...arguments);\n        });\n    }\n    async listAuthenticators(e) {\n        const t = \"\".concat($d0e8535850cb015b$var$rt($d0e8535850cb015b$var$oi, this), \"/mfa/authenticators\"), { mfaToken: n } = e, o = await $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ii, this).call(this, t, {\n            method: \"GET\",\n            headers: {\n                Authorization: \"Bearer \".concat(n),\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        if (!o.ok) {\n            const e = await o.json();\n            throw new $d0e8535850cb015b$var$Ti(e.error_description || \"Failed to list authenticators\", e);\n        }\n        return (await o.json()).map($d0e8535850cb015b$var$Oi);\n    }\n    async enrollAuthenticator(e) {\n        const t = \"\".concat($d0e8535850cb015b$var$rt($d0e8535850cb015b$var$oi, this), \"/mfa/associate\"), { mfaToken: n } = e, o = $d0e8535850cb015b$var$lt(e, $d0e8535850cb015b$var$ti), r = {\n            authenticator_types: o.authenticatorTypes\n        };\n        \"oobChannels\" in o && (r.oob_channels = o.oobChannels), \"phoneNumber\" in o && o.phoneNumber && (r.phone_number = o.phoneNumber), \"email\" in o && o.email && (r.email = o.email);\n        const i = await $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ii, this).call(this, t, {\n            method: \"POST\",\n            headers: {\n                Authorization: \"Bearer \".concat(n),\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(r)\n        });\n        if (!i.ok) {\n            const e = await i.json();\n            throw new $d0e8535850cb015b$var$Pi(e.error_description || \"Failed to enroll authenticator\", e);\n        }\n        return function(e) {\n            if (\"otp\" === e.authenticator_type) return {\n                authenticatorType: \"otp\",\n                secret: e.secret,\n                barcodeUri: e.barcode_uri,\n                recoveryCodes: e.recovery_codes,\n                id: e.id\n            };\n            if (\"oob\" === e.authenticator_type) return {\n                authenticatorType: \"oob\",\n                oobChannel: e.oob_channel,\n                oobCode: e.oob_code,\n                bindingMethod: e.binding_method,\n                id: e.id\n            };\n            throw new Error(\"Unexpected authenticator type: \".concat(e.authenticator_type));\n        }(await i.json());\n    }\n    async deleteAuthenticator(e) {\n        const { authenticatorId: t, mfaToken: n } = e, o = \"\".concat($d0e8535850cb015b$var$rt($d0e8535850cb015b$var$oi, this), \"/mfa/authenticators/\").concat(encodeURIComponent(t)), r = await $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ii, this).call(this, o, {\n            method: \"DELETE\",\n            headers: {\n                Authorization: \"Bearer \".concat(n),\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        if (!r.ok) {\n            const e = await r.json();\n            throw new $d0e8535850cb015b$var$Ri(e.error_description || \"Failed to delete authenticator\", e);\n        }\n    }\n    async challengeAuthenticator(e) {\n        const t = \"\".concat($d0e8535850cb015b$var$rt($d0e8535850cb015b$var$oi, this), \"/mfa/challenge\"), { mfaToken: n } = e, o = $d0e8535850cb015b$var$lt(e, $d0e8535850cb015b$var$ni), r = {\n            mfa_token: n,\n            client_id: $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ri, this),\n            challenge_type: o.challengeType\n        };\n        o.authenticatorId && (r.authenticator_id = o.authenticatorId);\n        const i = await $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ii, this).call(this, t, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(r)\n        });\n        if (!i.ok) {\n            const e = await i.json();\n            throw new $d0e8535850cb015b$var$Ii(e.error_description || \"Failed to challenge authenticator\", e);\n        }\n        return function(e) {\n            const t = {\n                challengeType: e.challenge_type\n            };\n            return void 0 !== e.oob_code && (t.oobCode = e.oob_code), void 0 !== e.binding_method && (t.bindingMethod = e.binding_method), t;\n        }(await i.json());\n    }\n}), $d0e8535850cb015b$var$Ci = class e {\n    constructor(e, t, n, o, r, i, a){\n        $d0e8535850cb015b$var$st(this, \"accessToken\", void 0), $d0e8535850cb015b$var$st(this, \"idToken\", void 0), $d0e8535850cb015b$var$st(this, \"refreshToken\", void 0), $d0e8535850cb015b$var$st(this, \"expiresAt\", void 0), $d0e8535850cb015b$var$st(this, \"scope\", void 0), $d0e8535850cb015b$var$st(this, \"claims\", void 0), $d0e8535850cb015b$var$st(this, \"authorizationDetails\", void 0), $d0e8535850cb015b$var$st(this, \"tokenType\", void 0), $d0e8535850cb015b$var$st(this, \"issuedTokenType\", void 0), this.accessToken = e, this.idToken = n, this.refreshToken = o, this.expiresAt = t, this.scope = r, this.claims = i, this.authorizationDetails = a;\n    }\n    static fromTokenEndpointResponse(t) {\n        const n = t.id_token ? t.claims() : void 0, o = new e(t.access_token, Math.floor(Date.now() / 1e3) + Number(t.expires_in), t.id_token, t.refresh_token, t.scope, n, t.authorization_details);\n        return o.tokenType = t.token_type, o.issuedTokenType = t.issued_token_type, o;\n    }\n}, $d0e8535850cb015b$var$ji = \"openid profile email offline_access\", $d0e8535850cb015b$var$Di = Object.freeze(new Set([\n    \"grant_type\",\n    \"client_id\",\n    \"client_secret\",\n    \"client_assertion\",\n    \"client_assertion_type\",\n    \"subject_token\",\n    \"subject_token_type\",\n    \"requested_token_type\",\n    \"actor_token\",\n    \"actor_token_type\",\n    \"audience\",\n    \"aud\",\n    \"resource\",\n    \"resources\",\n    \"resource_indicator\",\n    \"scope\",\n    \"connection\",\n    \"login_hint\",\n    \"organization\",\n    \"assertion\"\n]));\nfunction $d0e8535850cb015b$var$Ki(e) {\n    if (null == e) throw new $d0e8535850cb015b$var$wi(\"subject_token is required\");\n    if (\"string\" != typeof e) throw new $d0e8535850cb015b$var$wi(\"subject_token must be a string\");\n    if (0 === e.trim().length) throw new $d0e8535850cb015b$var$wi(\"subject_token cannot be blank or whitespace\");\n    if (e !== e.trim()) throw new $d0e8535850cb015b$var$wi(\"subject_token must not include leading or trailing whitespace\");\n    if (/^bearer\\s+/i.test(e)) throw new $d0e8535850cb015b$var$wi(\"subject_token must not include the 'Bearer ' prefix\");\n}\nfunction $d0e8535850cb015b$var$Li(e, t) {\n    if (t) {\n        for (const [n, o] of Object.entries(t))if (!$d0e8535850cb015b$var$Di.has(n)) {\n            if (Array.isArray(o)) {\n                if (o.length > 20) throw new $d0e8535850cb015b$var$wi(\"Parameter '\".concat(n, \"' exceeds maximum array size of \").concat(20));\n                o.forEach((t)=>{\n                    e.append(n, t);\n                });\n            } else e.append(n, o);\n        }\n    }\n}\nvar $d0e8535850cb015b$var$Ui = ($d0e8535850cb015b$var$ai = new WeakMap, $d0e8535850cb015b$var$si = new WeakMap, $d0e8535850cb015b$var$ci = new WeakMap, $d0e8535850cb015b$var$ui = new WeakMap, $d0e8535850cb015b$var$li = new WeakSet, class {\n    constructor(e){\n        if (function(e, t) {\n            $d0e8535850cb015b$var$ot(e, t), t.add(e);\n        }(this, $d0e8535850cb015b$var$li), $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$ai, void 0), $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$si, void 0), $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$ci, void 0), $d0e8535850cb015b$var$it(this, $d0e8535850cb015b$var$ui, void 0), $d0e8535850cb015b$var$st(this, \"mfa\", void 0), $d0e8535850cb015b$var$at($d0e8535850cb015b$var$ci, this, e), e.useMtls && !e.customFetch) throw new $d0e8535850cb015b$var$di(\"mtls_without_custom_fetch_not_supported\", \"Using mTLS without a custom fetch implementation is not supported\");\n        this.mfa = new $d0e8535850cb015b$var$xi({\n            domain: $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).domain,\n            clientId: $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).clientId,\n            customFetch: $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).customFetch\n        });\n    }\n    async buildAuthorizationUrl(e) {\n        const { serverMetadata: t } = await $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Ni).call(this);\n        if (null != e && e.pushedAuthorizationRequests && !t.pushed_authorization_request_endpoint) throw new $d0e8535850cb015b$var$di(\"par_not_supported_error\", \"The Auth0 tenant does not have pushed authorization requests enabled. Learn how to enable it here: https://auth0.com/docs/get-started/applications/configure-par\");\n        try {\n            return await $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Ji).call(this, e);\n        } catch (e) {\n            throw new $d0e8535850cb015b$var$bi(e);\n        }\n    }\n    async buildLinkUserUrl(e) {\n        try {\n            const t = await $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Ji).call(this, {\n                authorizationParams: $d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, e.authorizationParams), {}, {\n                    requested_connection: e.connection,\n                    requested_connection_scope: e.connectionScope,\n                    scope: \"openid link_account offline_access\",\n                    id_token_hint: e.idToken\n                })\n            });\n            return {\n                linkUserUrl: t.authorizationUrl,\n                codeVerifier: t.codeVerifier\n            };\n        } catch (e) {\n            throw new $d0e8535850cb015b$var$_i(e);\n        }\n    }\n    async buildUnlinkUserUrl(e) {\n        try {\n            const t = await $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Ji).call(this, {\n                authorizationParams: $d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, e.authorizationParams), {}, {\n                    requested_connection: e.connection,\n                    scope: \"openid unlink_account\",\n                    id_token_hint: e.idToken\n                })\n            });\n            return {\n                unlinkUserUrl: t.authorizationUrl,\n                codeVerifier: t.codeVerifier\n            };\n        } catch (e) {\n            throw new $d0e8535850cb015b$var$ki(e);\n        }\n    }\n    async backchannelAuthentication(e) {\n        const { configuration: t, serverMetadata: n } = await $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Ni).call(this), o = $d0e8535850cb015b$var$Ei($d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).authorizationParams), null == e ? void 0 : e.authorizationParams)), r = new URLSearchParams($d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({\n            scope: $d0e8535850cb015b$var$ji\n        }, o), {}, {\n            client_id: $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).clientId,\n            binding_message: e.bindingMessage,\n            login_hint: JSON.stringify({\n                format: \"iss_sub\",\n                iss: n.issuer,\n                sub: e.loginHint.sub\n            })\n        }));\n        e.requestedExpiry && r.append(\"requested_expiry\", e.requestedExpiry.toString()), e.authorizationDetails && r.append(\"authorization_details\", JSON.stringify(e.authorizationDetails));\n        try {\n            const e = await $d0e8535850cb015b$var$dr(t, r), n = await $d0e8535850cb015b$var$hr(t, e);\n            return $d0e8535850cb015b$var$Ci.fromTokenEndpointResponse(n);\n        } catch (e) {\n            throw new $d0e8535850cb015b$var$vi(e);\n        }\n    }\n    async initiateBackchannelAuthentication(e) {\n        const { configuration: t, serverMetadata: n } = await $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Ni).call(this), o = $d0e8535850cb015b$var$Ei($d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).authorizationParams), null == e ? void 0 : e.authorizationParams)), r = new URLSearchParams($d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({\n            scope: $d0e8535850cb015b$var$ji\n        }, o), {}, {\n            client_id: $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).clientId,\n            binding_message: e.bindingMessage,\n            login_hint: JSON.stringify({\n                format: \"iss_sub\",\n                iss: n.issuer,\n                sub: e.loginHint.sub\n            })\n        }));\n        e.requestedExpiry && r.append(\"requested_expiry\", e.requestedExpiry.toString()), e.authorizationDetails && r.append(\"authorization_details\", JSON.stringify(e.authorizationDetails));\n        try {\n            const e = await $d0e8535850cb015b$var$dr(t, r);\n            return {\n                authReqId: e.auth_req_id,\n                expiresIn: e.expires_in,\n                interval: e.interval\n            };\n        } catch (e) {\n            throw new $d0e8535850cb015b$var$vi(e);\n        }\n    }\n    async backchannelAuthenticationGrant(e) {\n        let { authReqId: t } = e;\n        const { configuration: n } = await $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Ni).call(this), o = new URLSearchParams({\n            auth_req_id: t\n        });\n        try {\n            const e = await $d0e8535850cb015b$var$Sr(n, \"urn:openid:params:grant-type:ciba\", o);\n            return $d0e8535850cb015b$var$Ci.fromTokenEndpointResponse(e);\n        } catch (e) {\n            throw new $d0e8535850cb015b$var$vi(e);\n        }\n    }\n    async getTokenForConnection(e) {\n        var t;\n        if (e.refreshToken && e.accessToken) throw new $d0e8535850cb015b$var$yi(\"Either a refresh or access token should be specified, but not both.\");\n        const n = null !== (t = e.accessToken) && void 0 !== t ? t : e.refreshToken;\n        if (!n) throw new $d0e8535850cb015b$var$yi(\"Either a refresh or access token must be specified.\");\n        try {\n            return await this.exchangeToken({\n                connection: e.connection,\n                subjectToken: n,\n                subjectTokenType: e.accessToken ? \"urn:ietf:params:oauth:token-type:access_token\" : \"urn:ietf:params:oauth:token-type:refresh_token\",\n                loginHint: e.loginHint\n            });\n        } catch (e) {\n            if (e instanceof $d0e8535850cb015b$var$wi) throw new $d0e8535850cb015b$var$yi(e.message, e.cause);\n            throw e;\n        }\n    }\n    async exchangeToken(e) {\n        return \"connection\" in e ? $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Wi).call(this, e) : $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Hi).call(this, e);\n    }\n    async getTokenByCode(e, t) {\n        const { configuration: n } = await $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Ni).call(this);\n        try {\n            const o = await $d0e8535850cb015b$var$fr(n, e, {\n                pkceCodeVerifier: t.codeVerifier\n            });\n            return $d0e8535850cb015b$var$Ci.fromTokenEndpointResponse(o);\n        } catch (e) {\n            throw new $d0e8535850cb015b$var$pi(\"There was an error while trying to request a token.\", e);\n        }\n    }\n    async getTokenByRefreshToken(e) {\n        const { configuration: t } = await $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Ni).call(this);\n        try {\n            const n = await $d0e8535850cb015b$var$mr(t, e.refreshToken);\n            return $d0e8535850cb015b$var$Ci.fromTokenEndpointResponse(n);\n        } catch (e) {\n            throw new $d0e8535850cb015b$var$mi(\"The access token has expired and there was an error while trying to refresh it.\", e);\n        }\n    }\n    async getTokenByClientCredentials(e) {\n        const { configuration: t } = await $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Ni).call(this);\n        try {\n            const n = new URLSearchParams({\n                audience: e.audience\n            });\n            e.organization && n.append(\"organization\", e.organization);\n            const o = await $d0e8535850cb015b$var$yr(t, n);\n            return $d0e8535850cb015b$var$Ci.fromTokenEndpointResponse(o);\n        } catch (e) {\n            throw new $d0e8535850cb015b$var$fi(\"There was an error while trying to request a token.\", e);\n        }\n    }\n    async buildLogoutUrl(e) {\n        const { configuration: t, serverMetadata: n } = await $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Ni).call(this);\n        if (!n.end_session_endpoint) {\n            const t = new URL(\"https://\".concat($d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).domain, \"/v2/logout\"));\n            return t.searchParams.set(\"returnTo\", e.returnTo), t.searchParams.set(\"client_id\", $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).clientId), t;\n        }\n        return function(e, t) {\n            $d0e8535850cb015b$var$vr(e);\n            const { as: n, c: o, tlsOnly: r } = $d0e8535850cb015b$var$Fo(e), i = $d0e8535850cb015b$var$Qt(n, \"end_session_endpoint\", !1, r);\n            (t = new URLSearchParams(t)).has(\"client_id\") || t.set(\"client_id\", o.client_id);\n            for (const [e, n] of t.entries())i.searchParams.append(e, n);\n            return i;\n        }(t, {\n            post_logout_redirect_uri: e.returnTo\n        });\n    }\n    async verifyLogoutToken(e) {\n        const { serverMetadata: t } = await $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Ni).call(this);\n        $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ui, this) || $d0e8535850cb015b$var$at($d0e8535850cb015b$var$ui, this, function(e, t) {\n            const n = new $d0e8535850cb015b$var$ei(e, t), o = async (e, t)=>n.getKey(e, t);\n            return Object.defineProperties(o, {\n                coolingDown: {\n                    get: ()=>n.coolingDown(),\n                    enumerable: !0,\n                    configurable: !1\n                },\n                fresh: {\n                    get: ()=>n.fresh(),\n                    enumerable: !0,\n                    configurable: !1\n                },\n                reload: {\n                    value: ()=>n.reload(),\n                    enumerable: !0,\n                    configurable: !1,\n                    writable: !1\n                },\n                reloading: {\n                    get: ()=>n.pendingFetch(),\n                    enumerable: !0,\n                    configurable: !1\n                },\n                jwks: {\n                    value: ()=>n.jwks(),\n                    enumerable: !0,\n                    configurable: !1,\n                    writable: !1\n                }\n            }), o;\n        }(new URL(t.jwks_uri), {\n            [$d0e8535850cb015b$var$Jr]: $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).customFetch\n        }));\n        const { payload: n } = await $d0e8535850cb015b$var$Cr(e.logoutToken, $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ui, this), {\n            issuer: t.issuer,\n            audience: $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).clientId,\n            algorithms: [\n                \"RS256\"\n            ],\n            requiredClaims: [\n                \"iat\"\n            ]\n        });\n        if (!(\"sid\" in n) && !(\"sub\" in n)) throw new $d0e8535850cb015b$var$gi('either \"sid\" or \"sub\" (or both) claims must be present');\n        if (\"sid\" in n && \"string\" != typeof n.sid) throw new $d0e8535850cb015b$var$gi('\"sid\" claim must be a string');\n        if (\"sub\" in n && \"string\" != typeof n.sub) throw new $d0e8535850cb015b$var$gi('\"sub\" claim must be a string');\n        if (\"nonce\" in n) throw new $d0e8535850cb015b$var$gi('\"nonce\" claim is prohibited');\n        if (!(\"events\" in n)) throw new $d0e8535850cb015b$var$gi('\"events\" claim is missing');\n        if (\"object\" != typeof n.events || null === n.events) throw new $d0e8535850cb015b$var$gi('\"events\" claim must be an object');\n        if (!(\"http://schemas.openid.net/event/backchannel-logout\" in n.events)) throw new $d0e8535850cb015b$var$gi('\"http://schemas.openid.net/event/backchannel-logout\" member is missing in the \"events\" claim');\n        if (\"object\" != typeof n.events[\"http://schemas.openid.net/event/backchannel-logout\"]) throw new $d0e8535850cb015b$var$gi('\"http://schemas.openid.net/event/backchannel-logout\" member in the \"events\" claim must be an object');\n        return {\n            sid: n.sid,\n            sub: n.sub\n        };\n    }\n});\nasync function $d0e8535850cb015b$var$Ni() {\n    if ($d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ai, this) && $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$si, this)) return {\n        configuration: $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ai, this),\n        serverMetadata: $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$si, this)\n    };\n    const e = await $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$zi).call(this);\n    return $d0e8535850cb015b$var$at($d0e8535850cb015b$var$ai, this, await $d0e8535850cb015b$var$ir(new URL(\"https://\".concat($d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).domain)), $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).clientId, {\n        use_mtls_endpoint_aliases: $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).useMtls\n    }, e, {\n        [$d0e8535850cb015b$var$Xo]: $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).customFetch\n    })), $d0e8535850cb015b$var$at($d0e8535850cb015b$var$si, this, $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ai, this).serverMetadata()), $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ai, this)[$d0e8535850cb015b$var$Xo] = $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).customFetch || fetch, {\n        configuration: $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ai, this),\n        serverMetadata: $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$si, this)\n    };\n}\nasync function $d0e8535850cb015b$var$Wi(e) {\n    var t, n;\n    const { configuration: o } = await $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Ni).call(this);\n    if (\"audience\" in e || \"resource\" in e) throw new $d0e8535850cb015b$var$wi(\"audience and resource parameters are not supported for Token Vault exchanges\");\n    $d0e8535850cb015b$var$Ki(e.subjectToken);\n    const r = new URLSearchParams({\n        connection: e.connection,\n        subject_token: e.subjectToken,\n        subject_token_type: null !== (t = e.subjectTokenType) && void 0 !== t ? t : \"urn:ietf:params:oauth:token-type:access_token\",\n        requested_token_type: null !== (n = e.requestedTokenType) && void 0 !== n ? n : \"http://auth0.com/oauth/token-type/federated-connection-access-token\"\n    });\n    e.loginHint && r.append(\"login_hint\", e.loginHint), e.scope && r.append(\"scope\", e.scope), $d0e8535850cb015b$var$Li(r, e.extra);\n    try {\n        const e = await $d0e8535850cb015b$var$Sr(o, \"urn:auth0:params:oauth:grant-type:token-exchange:federated-connection-access-token\", r);\n        return $d0e8535850cb015b$var$Ci.fromTokenEndpointResponse(e);\n    } catch (t) {\n        throw new $d0e8535850cb015b$var$wi(\"Failed to exchange token for connection '\".concat(e.connection, \"'.\"), t);\n    }\n}\nasync function $d0e8535850cb015b$var$Hi(e) {\n    const { configuration: t } = await $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Ni).call(this);\n    $d0e8535850cb015b$var$Ki(e.subjectToken);\n    const n = new URLSearchParams({\n        subject_token_type: e.subjectTokenType,\n        subject_token: e.subjectToken\n    });\n    e.audience && n.append(\"audience\", e.audience), e.scope && n.append(\"scope\", e.scope), e.requestedTokenType && n.append(\"requested_token_type\", e.requestedTokenType), e.organization && n.append(\"organization\", e.organization), $d0e8535850cb015b$var$Li(n, e.extra);\n    try {\n        const e = await $d0e8535850cb015b$var$Sr(t, \"urn:ietf:params:oauth:grant-type:token-exchange\", n);\n        return $d0e8535850cb015b$var$Ci.fromTokenEndpointResponse(e);\n    } catch (t) {\n        throw new $d0e8535850cb015b$var$wi(\"Failed to exchange token of type '\".concat(e.subjectTokenType, \"'\").concat(e.audience ? \" for audience '\".concat(e.audience, \"'\") : \"\", \".\"), t);\n    }\n}\nasync function $d0e8535850cb015b$var$zi() {\n    if (!$d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).clientSecret && !$d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).clientAssertionSigningKey && !$d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).useMtls) throw new $d0e8535850cb015b$var$Si;\n    if ($d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).useMtls) return (e, t, n, o)=>{\n        n.set(\"client_id\", t.client_id);\n    };\n    let e = $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).clientAssertionSigningKey;\n    return !e || e instanceof CryptoKey || (e = await async function(e, t, n) {\n        if (\"string\" != typeof e || 0 !== e.indexOf(\"-----BEGIN PRIVATE KEY-----\")) throw new TypeError('\"pkcs8\" must be PKCS#8 formatted string');\n        return $d0e8535850cb015b$var$jo(e, t, n);\n    }(e, $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).clientAssertionSigningAlg || \"RS256\")), e ? function(e, t) {\n        return $d0e8535850cb015b$var$qt(e, t);\n    }(e) : $d0e8535850cb015b$var$Bo($d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).clientSecret);\n}\nasync function $d0e8535850cb015b$var$Ji(e) {\n    const { configuration: t } = await $d0e8535850cb015b$var$tt($d0e8535850cb015b$var$li, this, $d0e8535850cb015b$var$Ni).call(this), n = $d0e8535850cb015b$var$tr(), o = await $d0e8535850cb015b$var$er(n), r = $d0e8535850cb015b$var$Ei($d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({}, $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).authorizationParams), null == e ? void 0 : e.authorizationParams)), i = new URLSearchParams($d0e8535850cb015b$var$ut($d0e8535850cb015b$var$ut({\n        scope: $d0e8535850cb015b$var$ji\n    }, r), {}, {\n        client_id: $d0e8535850cb015b$var$rt($d0e8535850cb015b$var$ci, this).clientId,\n        code_challenge: o,\n        code_challenge_method: \"S256\"\n    }));\n    return {\n        authorizationUrl: null != e && e.pushedAuthorizationRequests ? await $d0e8535850cb015b$var$gr(t, i) : await $d0e8535850cb015b$var$wr(t, i),\n        codeVerifier: n\n    };\n}\nconst $d0e8535850cb015b$var$Mi = new $d0e8535850cb015b$var$p;\nclass $d0e8535850cb015b$export$b50978e389d6e1d5 {\n    constructor(e){\n        let t, n;\n        if (this.userCache = (new $d0e8535850cb015b$export$467265324939f47f).enclosedCache, this.activeLockKeys = new Set, this.defaultOptions = {\n            authorizationParams: {\n                scope: \"openid profile email\"\n            },\n            useRefreshTokensFallback: !1,\n            useFormData: !0\n        }, this._releaseLockOnPageHide = async ()=>{\n            const e = Array.from(this.activeLockKeys);\n            for (const t of e)await $d0e8535850cb015b$var$Mi.releaseLock(t);\n            this.activeLockKeys.clear(), window.removeEventListener(\"pagehide\", this._releaseLockOnPageHide);\n        }, this.options = Object.assign(Object.assign(Object.assign({}, this.defaultOptions), e), {\n            authorizationParams: Object.assign(Object.assign({}, this.defaultOptions.authorizationParams), e.authorizationParams)\n        }), \"undefined\" != typeof window && (()=>{\n            if (!$d0e8535850cb015b$var$I()) throw new Error(\"For security reasons, `window.crypto` is required to run `auth0-spa-js`.\");\n            if (void 0 === $d0e8535850cb015b$var$I().subtle) throw new Error(\"\\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\\n    \");\n        })(), e.cache && e.cacheLocation && console.warn(\"Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`.\"), e.cache) n = e.cache;\n        else {\n            if (t = e.cacheLocation || \"memory\", !$d0e8535850cb015b$var$Je(t)) throw new Error('Invalid cache location \"'.concat(t, '\"'));\n            n = $d0e8535850cb015b$var$Je(t)();\n        }\n        var o;\n        this.httpTimeoutMs = e.httpTimeoutInSeconds ? 1e3 * e.httpTimeoutInSeconds : 1e4, this.cookieStorage = !1 === e.legacySameSiteCookie ? $d0e8535850cb015b$var$Pe : $d0e8535850cb015b$var$Re, this.orgHintCookieName = (o = this.options.clientId, \"auth0.\".concat(o, \".organization_hint\")), this.isAuthenticatedCookieName = ((e)=>\"auth0.\".concat(e, \".is.authenticated\"))(this.options.clientId), this.sessionCheckExpiryDays = e.sessionCheckExpiryDays || 1;\n        const r = e.useCookiesForTransactions ? this.cookieStorage : $d0e8535850cb015b$var$Ie;\n        var i;\n        this.scope = function(e, t) {\n            for(var n = arguments.length, o = new Array(n > 2 ? n - 2 : 0), r = 2; r < n; r++)o[r - 2] = arguments[r];\n            if (\"object\" != typeof e) return {\n                default: $d0e8535850cb015b$var$ue(t, e, ...o)\n            };\n            let i = {\n                default: $d0e8535850cb015b$var$ue(t, ...o)\n            };\n            return Object.keys(e).forEach((n)=>{\n                const r = e[n];\n                i[n] = $d0e8535850cb015b$var$ue(t, r, ...o);\n            }), i;\n        }(this.options.authorizationParams.scope, \"openid\", this.options.useRefreshTokens ? \"offline_access\" : \"\"), this.transactionManager = new $d0e8535850cb015b$var$me(r, this.options.clientId, this.options.cookieDomain), this.nowProvider = this.options.nowProvider || $d0e8535850cb015b$var$y, this.cacheManager = new $d0e8535850cb015b$var$fe(n, n.allKeys ? void 0 : new $d0e8535850cb015b$var$He(n, this.options.clientId), this.nowProvider), this.dpop = this.options.useDpop ? new $d0e8535850cb015b$var$Ze(this.options.clientId) : void 0, this.domainUrl = (i = this.options.domain, /^https?:\\/\\//.test(i) ? i : \"https://\".concat(i)), this.tokenIssuer = ((e, t)=>e ? e.startsWith(\"https://\") ? e : \"https://\".concat(e, \"/\") : \"\".concat(t, \"/\"))(this.options.issuer, this.domainUrl);\n        const a = \"\".concat(this.domainUrl, \"/me/\"), s = this.createFetcher(Object.assign(Object.assign({}, this.options.useDpop && {\n            dpopNonceId: \"__auth0_my_account_api__\"\n        }), {\n            getAccessToken: ()=>this.getTokenSilently({\n                    authorizationParams: {\n                        scope: \"create:me:connected_accounts\",\n                        audience: a\n                    },\n                    detailedResponse: !0\n                })\n        }));\n        this.myAccountApi = new $d0e8535850cb015b$var$Qe(s, a), this.authJsClient = new $d0e8535850cb015b$var$Ui({\n            domain: this.options.domain,\n            clientId: this.options.clientId\n        }), \"undefined\" != typeof window && window.Worker && this.options.useRefreshTokens && \"memory\" === t && (this.options.workerUrl ? this.worker = new Worker(this.options.workerUrl) : this.worker = new $d0e8535850cb015b$var$Ue);\n    }\n    getConfiguration() {\n        return Object.freeze({\n            domain: this.options.domain,\n            clientId: this.options.clientId\n        });\n    }\n    _url(e) {\n        const t = encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client || $d0e8535850cb015b$var$m)));\n        return \"\".concat(this.domainUrl).concat(e, \"&auth0Client=\").concat(t);\n    }\n    _authorizeUrl(e) {\n        return this._url(\"/authorize?\".concat($d0e8535850cb015b$var$D(e)));\n    }\n    async _verifyIdToken(e, t, n) {\n        const o = await this.nowProvider();\n        var r;\n        return $d0e8535850cb015b$var$ge({\n            iss: this.tokenIssuer,\n            aud: this.options.clientId,\n            id_token: e,\n            nonce: t,\n            organization: n,\n            leeway: this.options.leeway,\n            max_age: (r = this.options.authorizationParams.max_age, \"string\" != typeof r ? r : parseInt(r, 10) || void 0),\n            now: o\n        });\n    }\n    _processOrgHint(e) {\n        e ? this.cookieStorage.save(this.orgHintCookieName, e, {\n            daysUntilExpire: this.sessionCheckExpiryDays,\n            cookieDomain: this.options.cookieDomain\n        }) : this.cookieStorage.remove(this.orgHintCookieName, {\n            cookieDomain: this.options.cookieDomain\n        });\n    }\n    async _prepareAuthorizeUrl(e, t, n) {\n        var o;\n        const r = $d0e8535850cb015b$var$x($d0e8535850cb015b$var$O()), i = $d0e8535850cb015b$var$x($d0e8535850cb015b$var$O()), a = $d0e8535850cb015b$var$O(), s = await $d0e8535850cb015b$var$K(a), c = $d0e8535850cb015b$var$U(s), u = await (null === (o = this.dpop) || void 0 === o ? void 0 : o.calculateThumbprint()), l = ((e, t, n, o, r, i, a, s, c)=>Object.assign(Object.assign(Object.assign({\n                client_id: e.clientId\n            }, e.authorizationParams), n), {\n                scope: $d0e8535850cb015b$var$le(t, n.scope, n.audience),\n                response_type: \"code\",\n                response_mode: s || \"query\",\n                state: o,\n                nonce: r,\n                redirect_uri: a || e.authorizationParams.redirect_uri,\n                code_challenge: i,\n                code_challenge_method: \"S256\",\n                dpop_jkt: c\n            }))(this.options, this.scope, e, r, i, c, e.redirect_uri || this.options.authorizationParams.redirect_uri || n, null == t ? void 0 : t.response_mode, u), d = this._authorizeUrl(l);\n        return {\n            nonce: i,\n            code_verifier: a,\n            scope: l.scope,\n            audience: l.audience || \"default\",\n            redirect_uri: l.redirect_uri,\n            state: r,\n            url: d\n        };\n    }\n    async loginWithPopup(e, t) {\n        var n;\n        if (e = e || {}, !(t = t || {}).popup && (t.popup = ((e)=>{\n            const t = window.screenX + (window.innerWidth - 400) / 2, n = window.screenY + (window.innerHeight - 600) / 2;\n            return window.open(e, \"auth0:authorize:popup\", \"left=\".concat(t, \",top=\").concat(n, \",width=\").concat(400, \",height=\").concat(600, \",resizable,scrollbars=yes,status=1\"));\n        })(\"\"), !t.popup)) throw new $d0e8535850cb015b$export$d52312082b7f6392;\n        const o = await this._prepareAuthorizeUrl(e.authorizationParams || {}, {\n            response_mode: \"web_message\"\n        }, window.location.origin);\n        t.popup.location.href = o.url;\n        const r = await ((e)=>new Promise((t, n)=>{\n                let o;\n                const r = setInterval(()=>{\n                    e.popup && e.popup.closed && (clearInterval(r), clearTimeout(i), window.removeEventListener(\"message\", o, !1), n(new $d0e8535850cb015b$export$f1f681f0fb26bb55(e.popup)));\n                }, 1e3), i = setTimeout(()=>{\n                    clearInterval(r), n(new $d0e8535850cb015b$export$ebbb83fe03f719a4(e.popup)), window.removeEventListener(\"message\", o, !1);\n                }, 1e3 * (e.timeoutInSeconds || 60));\n                o = function(a) {\n                    if (a.data && \"authorization_response\" === a.data.type) {\n                        if (clearTimeout(i), clearInterval(r), window.removeEventListener(\"message\", o, !1), !1 !== e.closePopup && e.popup.close(), a.data.response.error) return n($d0e8535850cb015b$export$7d465be8efa67280.fromPayload(a.data.response));\n                        t(a.data.response);\n                    }\n                }, window.addEventListener(\"message\", o);\n            }))(Object.assign(Object.assign({}, t), {\n            timeoutInSeconds: t.timeoutInSeconds || this.options.authorizeTimeoutInSeconds || 60\n        }));\n        if (o.state !== r.state) throw new $d0e8535850cb015b$export$7d465be8efa67280(\"state_mismatch\", \"Invalid state\");\n        const i = (null === (n = e.authorizationParams) || void 0 === n ? void 0 : n.organization) || this.options.authorizationParams.organization;\n        await this._requestToken({\n            audience: o.audience,\n            scope: o.scope,\n            code_verifier: o.code_verifier,\n            grant_type: \"authorization_code\",\n            code: r.code,\n            redirect_uri: o.redirect_uri\n        }, {\n            nonceIn: o.nonce,\n            organization: i\n        });\n    }\n    async getUser() {\n        var e;\n        const t = await this._getIdTokenFromCache();\n        return null === (e = null == t ? void 0 : t.decodedToken) || void 0 === e ? void 0 : e.user;\n    }\n    async getIdTokenClaims() {\n        var e;\n        const t = await this._getIdTokenFromCache();\n        return null === (e = null == t ? void 0 : t.decodedToken) || void 0 === e ? void 0 : e.claims;\n    }\n    async loginWithRedirect() {\n        var t;\n        const n = $d0e8535850cb015b$var$Me(arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}), { openUrl: o, fragment: r, appState: i } = n, a = $d0e8535850cb015b$var$e(n, [\n            \"openUrl\",\n            \"fragment\",\n            \"appState\"\n        ]), s = (null === (t = a.authorizationParams) || void 0 === t ? void 0 : t.organization) || this.options.authorizationParams.organization, c = await this._prepareAuthorizeUrl(a.authorizationParams || {}), { url: u } = c, l = $d0e8535850cb015b$var$e(c, [\n            \"url\"\n        ]);\n        this.transactionManager.create(Object.assign(Object.assign(Object.assign({}, l), {\n            appState: i,\n            response_type: $d0e8535850cb015b$export$7390b1e457b4cb6f.Code\n        }), s && {\n            organization: s\n        }));\n        const d = r ? \"\".concat(u, \"#\").concat(r) : u;\n        o ? await o(d) : window.location.assign(d);\n    }\n    async handleRedirectCallback() {\n        const e = (arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : window.location.href).split(\"?\").slice(1);\n        if (0 === e.length) throw new Error(\"There are no query params available for parsing.\");\n        const t = this.transactionManager.get();\n        if (!t) throw new $d0e8535850cb015b$export$7d465be8efa67280(\"missing_transaction\", \"Invalid state\");\n        this.transactionManager.remove();\n        const n = ((e)=>{\n            e.indexOf(\"#\") > -1 && (e = e.substring(0, e.indexOf(\"#\")));\n            const t = new URLSearchParams(e);\n            return {\n                state: t.get(\"state\"),\n                code: t.get(\"code\") || void 0,\n                connect_code: t.get(\"connect_code\") || void 0,\n                error: t.get(\"error\") || void 0,\n                error_description: t.get(\"error_description\") || void 0\n            };\n        })(e.join(\"\"));\n        return t.response_type === $d0e8535850cb015b$export$7390b1e457b4cb6f.ConnectCode ? this._handleConnectAccountRedirectCallback(n, t) : this._handleLoginRedirectCallback(n, t);\n    }\n    async _handleLoginRedirectCallback(e, t) {\n        const { code: n, state: o, error: r, error_description: i } = e;\n        if (r) throw new $d0e8535850cb015b$export$cf0c46b07324e9c5(r, i || r, o, t.appState);\n        if (!t.code_verifier || t.state && t.state !== o) throw new $d0e8535850cb015b$export$7d465be8efa67280(\"state_mismatch\", \"Invalid state\");\n        const a = t.organization, s = t.nonce, c = t.redirect_uri;\n        return await this._requestToken(Object.assign({\n            audience: t.audience,\n            scope: t.scope,\n            code_verifier: t.code_verifier,\n            grant_type: \"authorization_code\",\n            code: n\n        }, c ? {\n            redirect_uri: c\n        } : {}), {\n            nonceIn: s,\n            organization: a\n        }), {\n            appState: t.appState,\n            response_type: $d0e8535850cb015b$export$7390b1e457b4cb6f.Code\n        };\n    }\n    async _handleConnectAccountRedirectCallback(e, t) {\n        const { connect_code: n, state: o, error: r, error_description: i } = e;\n        if (r) throw new $d0e8535850cb015b$export$aaa3fc6bdea78d4d(r, i || r, t.connection, o, t.appState);\n        if (!n) throw new $d0e8535850cb015b$export$7d465be8efa67280(\"missing_connect_code\", \"Missing connect code\");\n        if (!(t.code_verifier && t.state && t.auth_session && t.redirect_uri && t.state === o)) throw new $d0e8535850cb015b$export$7d465be8efa67280(\"state_mismatch\", \"Invalid state\");\n        const a = await this.myAccountApi.completeAccount({\n            auth_session: t.auth_session,\n            connect_code: n,\n            redirect_uri: t.redirect_uri,\n            code_verifier: t.code_verifier\n        });\n        return Object.assign(Object.assign({}, a), {\n            appState: t.appState,\n            response_type: $d0e8535850cb015b$export$7390b1e457b4cb6f.ConnectCode\n        });\n    }\n    async checkSession(e) {\n        if (!this.cookieStorage.get(this.isAuthenticatedCookieName)) {\n            if (!this.cookieStorage.get(\"auth0.is.authenticated\")) return;\n            this.cookieStorage.save(this.isAuthenticatedCookieName, !0, {\n                daysUntilExpire: this.sessionCheckExpiryDays,\n                cookieDomain: this.options.cookieDomain\n            }), this.cookieStorage.remove(\"auth0.is.authenticated\");\n        }\n        try {\n            await this.getTokenSilently(e);\n        } catch (e) {}\n    }\n    async getTokenSilently() {\n        let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n        var t, n;\n        const o = Object.assign(Object.assign({\n            cacheMode: \"on\"\n        }, e), {\n            authorizationParams: Object.assign(Object.assign(Object.assign({}, this.options.authorizationParams), e.authorizationParams), {\n                scope: $d0e8535850cb015b$var$le(this.scope, null === (t = e.authorizationParams) || void 0 === t ? void 0 : t.scope, (null === (n = e.authorizationParams) || void 0 === n ? void 0 : n.audience) || this.options.authorizationParams.audience)\n            })\n        }), r = await ((e, t)=>{\n            let n = $d0e8535850cb015b$var$Ne[t];\n            return n || (n = e().finally(()=>{\n                delete $d0e8535850cb015b$var$Ne[t], n = null;\n            }), $d0e8535850cb015b$var$Ne[t] = n), n;\n        })(()=>this._getTokenSilently(o), \"\".concat(this.options.clientId, \"::\").concat(o.authorizationParams.audience, \"::\").concat(o.authorizationParams.scope));\n        return e.detailedResponse ? r : null == r ? void 0 : r.access_token;\n    }\n    async _getTokenSilently(t) {\n        const { cacheMode: n } = t, o = $d0e8535850cb015b$var$e(t, [\n            \"cacheMode\"\n        ]);\n        if (\"off\" !== n) {\n            const e = await this._getEntryFromCache({\n                scope: o.authorizationParams.scope,\n                audience: o.authorizationParams.audience || \"default\",\n                clientId: this.options.clientId,\n                cacheMode: n\n            });\n            if (e) return e;\n        }\n        if (\"cache-only\" === n) return;\n        const r = (i = this.options.clientId, a = o.authorizationParams.audience || \"default\", \"\".concat(\"auth0.lock.getTokenSilently\", \".\").concat(i, \".\").concat(a));\n        var i, a;\n        if (!await $d0e8535850cb015b$var$We(()=>$d0e8535850cb015b$var$Mi.acquireLock(r, 5e3), 10)) throw new $d0e8535850cb015b$export$66d311bf29d5c89c;\n        this.activeLockKeys.add(r), 1 === this.activeLockKeys.size && window.addEventListener(\"pagehide\", this._releaseLockOnPageHide);\n        try {\n            if (\"off\" !== n) {\n                const e = await this._getEntryFromCache({\n                    scope: o.authorizationParams.scope,\n                    audience: o.authorizationParams.audience || \"default\",\n                    clientId: this.options.clientId\n                });\n                if (e) return e;\n            }\n            const e = this.options.useRefreshTokens ? await this._getTokenUsingRefreshToken(o) : await this._getTokenFromIFrame(o), { id_token: t, token_type: i, access_token: a, oauthTokenScope: s, expires_in: c } = e;\n            return Object.assign(Object.assign({\n                id_token: t,\n                token_type: i,\n                access_token: a\n            }, s ? {\n                scope: s\n            } : null), {\n                expires_in: c\n            });\n        } finally{\n            await $d0e8535850cb015b$var$Mi.releaseLock(r), this.activeLockKeys.delete(r), 0 === this.activeLockKeys.size && window.removeEventListener(\"pagehide\", this._releaseLockOnPageHide);\n        }\n    }\n    async getTokenWithPopup() {\n        let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\n        var n, o;\n        const r = Object.assign(Object.assign({}, e), {\n            authorizationParams: Object.assign(Object.assign(Object.assign({}, this.options.authorizationParams), e.authorizationParams), {\n                scope: $d0e8535850cb015b$var$le(this.scope, null === (n = e.authorizationParams) || void 0 === n ? void 0 : n.scope, (null === (o = e.authorizationParams) || void 0 === o ? void 0 : o.audience) || this.options.authorizationParams.audience)\n            })\n        });\n        t = Object.assign(Object.assign({}, $d0e8535850cb015b$var$f), t), await this.loginWithPopup(r, t);\n        return (await this.cacheManager.get(new $d0e8535850cb015b$export$2cb47d384c8dd787({\n            scope: r.authorizationParams.scope,\n            audience: r.authorizationParams.audience || \"default\",\n            clientId: this.options.clientId\n        }), void 0, this.options.useMrrt)).access_token;\n    }\n    async isAuthenticated() {\n        return !!await this.getUser();\n    }\n    _buildLogoutUrl(t) {\n        null !== t.clientId ? t.clientId = t.clientId || this.options.clientId : delete t.clientId;\n        const n = t.logoutParams || {}, { federated: o } = n, r = $d0e8535850cb015b$var$e(n, [\n            \"federated\"\n        ]), i = o ? \"&federated\" : \"\";\n        return this._url(\"/v2/logout?\".concat($d0e8535850cb015b$var$D(Object.assign({\n            clientId: t.clientId\n        }, r)))) + i;\n    }\n    async logout() {\n        let t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n        var n;\n        const o = $d0e8535850cb015b$var$Me(t), { openUrl: r } = o, i = $d0e8535850cb015b$var$e(o, [\n            \"openUrl\"\n        ]);\n        null === t.clientId ? await this.cacheManager.clear() : await this.cacheManager.clear(t.clientId || this.options.clientId), this.cookieStorage.remove(this.orgHintCookieName, {\n            cookieDomain: this.options.cookieDomain\n        }), this.cookieStorage.remove(this.isAuthenticatedCookieName, {\n            cookieDomain: this.options.cookieDomain\n        }), this.userCache.remove(\"@@user@@\"), await (null === (n = this.dpop) || void 0 === n ? void 0 : n.clear());\n        const a = this._buildLogoutUrl(i);\n        r ? await r(a) : !1 !== r && window.location.assign(a);\n    }\n    async _getTokenFromIFrame(e) {\n        const t = (n = this.options.clientId, \"\".concat(\"auth0.lock.getTokenFromIFrame\", \".\").concat(n));\n        var n;\n        if (!await $d0e8535850cb015b$var$We(()=>$d0e8535850cb015b$var$Mi.acquireLock(t, 5e3), 10)) throw new $d0e8535850cb015b$export$66d311bf29d5c89c;\n        try {\n            const n = Object.assign(Object.assign({}, e.authorizationParams), {\n                prompt: \"none\"\n            }), o = this.cookieStorage.get(this.orgHintCookieName);\n            o && !n.organization && (n.organization = o);\n            const { url: r, state: i, nonce: a, code_verifier: s, redirect_uri: c, scope: u, audience: l } = await this._prepareAuthorizeUrl(n, {\n                response_mode: \"web_message\"\n            }, window.location.origin);\n            if (window.crossOriginIsolated) throw new $d0e8535850cb015b$export$7d465be8efa67280(\"login_required\", \"The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.\");\n            const d = e.timeoutInSeconds || this.options.authorizeTimeoutInSeconds;\n            let h;\n            try {\n                h = new URL(this.domainUrl).origin;\n            } catch (e) {\n                h = this.domainUrl;\n            }\n            const p = await function(e, t) {\n                let n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 60;\n                return new Promise((o, r)=>{\n                    const i = window.document.createElement(\"iframe\");\n                    i.setAttribute(\"width\", \"0\"), i.setAttribute(\"height\", \"0\"), i.style.display = \"none\";\n                    const a = ()=>{\n                        window.document.body.contains(i) && (window.document.body.removeChild(i), window.removeEventListener(\"message\", s, !1));\n                    };\n                    let s;\n                    const c = setTimeout(()=>{\n                        r(new $d0e8535850cb015b$export$66d311bf29d5c89c), a();\n                    }, 1e3 * n);\n                    s = function(e) {\n                        if (e.origin != t) return;\n                        if (!e.data || \"authorization_response\" !== e.data.type) return;\n                        const n = e.source;\n                        n && n.close(), e.data.response.error ? r($d0e8535850cb015b$export$7d465be8efa67280.fromPayload(e.data.response)) : o(e.data.response), clearTimeout(c), window.removeEventListener(\"message\", s, !1), setTimeout(a, 2e3);\n                    }, window.addEventListener(\"message\", s, !1), window.document.body.appendChild(i), i.setAttribute(\"src\", e);\n                });\n            }(r, h, d);\n            if (i !== p.state) throw new $d0e8535850cb015b$export$7d465be8efa67280(\"state_mismatch\", \"Invalid state\");\n            const f = await this._requestToken(Object.assign(Object.assign({}, e.authorizationParams), {\n                code_verifier: s,\n                code: p.code,\n                grant_type: \"authorization_code\",\n                redirect_uri: c,\n                timeout: e.authorizationParams.timeout || this.httpTimeoutMs\n            }), {\n                nonceIn: a,\n                organization: n.organization\n            });\n            return Object.assign(Object.assign({}, f), {\n                scope: u,\n                oauthTokenScope: f.scope,\n                audience: l\n            });\n        } catch (e) {\n            throw \"login_required\" === e.error && this.logout({\n                openUrl: !1\n            }), e;\n        } finally{\n            await $d0e8535850cb015b$var$Mi.releaseLock(t);\n        }\n    }\n    async _getTokenUsingRefreshToken(e) {\n        const t = await this.cacheManager.get(new $d0e8535850cb015b$export$2cb47d384c8dd787({\n            scope: e.authorizationParams.scope,\n            audience: e.authorizationParams.audience || \"default\",\n            clientId: this.options.clientId\n        }), void 0, this.options.useMrrt);\n        if (!(t && t.refresh_token || this.worker)) {\n            if (this.options.useRefreshTokensFallback) return await this._getTokenFromIFrame(e);\n            throw new $d0e8535850cb015b$export$ac1d2a00f8e0a046(e.authorizationParams.audience || \"default\", e.authorizationParams.scope);\n        }\n        const n = e.authorizationParams.redirect_uri || this.options.authorizationParams.redirect_uri || window.location.origin, o = \"number\" == typeof e.timeoutInSeconds ? 1e3 * e.timeoutInSeconds : null, r = ((e, t, n, o)=>{\n            var r;\n            if (e && n && o) {\n                if (t.audience !== n) return t.scope;\n                const e = o.split(\" \"), i = (null === (r = t.scope) || void 0 === r ? void 0 : r.split(\" \")) || [], a = i.every((t)=>e.includes(t));\n                return e.length >= i.length && a ? o : t.scope;\n            }\n            return t.scope;\n        })(this.options.useMrrt, e.authorizationParams, null == t ? void 0 : t.audience, null == t ? void 0 : t.scope);\n        try {\n            const u = await this._requestToken(Object.assign(Object.assign(Object.assign({}, e.authorizationParams), {\n                grant_type: \"refresh_token\",\n                refresh_token: t && t.refresh_token,\n                redirect_uri: n\n            }), o && {\n                timeout: o\n            }), {\n                scopesToRequest: r\n            });\n            if (u.refresh_token && (null == t ? void 0 : t.refresh_token) && await this.cacheManager.updateEntry(t.refresh_token, u.refresh_token), this.options.useMrrt) {\n                if (i = null == t ? void 0 : t.audience, a = null == t ? void 0 : t.scope, s = e.authorizationParams.audience, c = e.authorizationParams.scope, i !== s || !$d0e8535850cb015b$var$Ve(c, a)) {\n                    if (!$d0e8535850cb015b$var$Ve(r, u.scope)) {\n                        if (this.options.useRefreshTokensFallback) return await this._getTokenFromIFrame(e);\n                        await this.cacheManager.remove(this.options.clientId, e.authorizationParams.audience, e.authorizationParams.scope);\n                        const t = ((e, t)=>{\n                            const n = (null == e ? void 0 : e.split(\" \")) || [], o = (null == t ? void 0 : t.split(\" \")) || [];\n                            return n.filter((e)=>-1 == o.indexOf(e)).join(\",\");\n                        })(r, u.scope);\n                        throw new $d0e8535850cb015b$var$T(e.authorizationParams.audience || \"default\", t);\n                    }\n                }\n            }\n            return Object.assign(Object.assign({}, u), {\n                scope: e.authorizationParams.scope,\n                oauthTokenScope: u.scope,\n                audience: e.authorizationParams.audience || \"default\"\n            });\n        } catch (t) {\n            if ((t.message.indexOf(\"Missing Refresh Token\") > -1 || t.message && t.message.indexOf(\"invalid refresh token\") > -1) && this.options.useRefreshTokensFallback) return await this._getTokenFromIFrame(e);\n            throw t;\n        }\n        var i, a, s, c;\n    }\n    async _saveEntryInCache(t) {\n        const { id_token: n, decodedToken: o } = t, r = $d0e8535850cb015b$var$e(t, [\n            \"id_token\",\n            \"decodedToken\"\n        ]);\n        this.userCache.set(\"@@user@@\", {\n            id_token: n,\n            decodedToken: o\n        }), await this.cacheManager.setIdToken(this.options.clientId, t.id_token, t.decodedToken), await this.cacheManager.set(r);\n    }\n    async _getIdTokenFromCache() {\n        const e = this.options.authorizationParams.audience || \"default\", t = this.scope[e], n = await this.cacheManager.getIdToken(new $d0e8535850cb015b$export$2cb47d384c8dd787({\n            clientId: this.options.clientId,\n            audience: e,\n            scope: t\n        })), o = this.userCache.get(\"@@user@@\");\n        return n && n.id_token === (null == o ? void 0 : o.id_token) ? o : (this.userCache.set(\"@@user@@\", n), n);\n    }\n    async _getEntryFromCache(e) {\n        let { scope: t, audience: n, clientId: o, cacheMode: r } = e;\n        const i = await this.cacheManager.get(new $d0e8535850cb015b$export$2cb47d384c8dd787({\n            scope: t,\n            audience: n,\n            clientId: o\n        }), 60, this.options.useMrrt, r);\n        if (i && i.access_token) {\n            const { token_type: e, access_token: t, oauthTokenScope: n, expires_in: o } = i, r = await this._getIdTokenFromCache();\n            return r && Object.assign(Object.assign({\n                id_token: r.id_token,\n                token_type: e || \"Bearer\",\n                access_token: t\n            }, n ? {\n                scope: n\n            } : null), {\n                expires_in: o\n            });\n        }\n    }\n    async _requestToken(e, t) {\n        var n, o;\n        const { nonceIn: r, organization: i, scopesToRequest: a } = t || {}, s = await $d0e8535850cb015b$var$se(Object.assign(Object.assign({\n            baseUrl: this.domainUrl,\n            client_id: this.options.clientId,\n            auth0Client: this.options.auth0Client,\n            useFormData: this.options.useFormData,\n            timeout: this.httpTimeoutMs,\n            useMrrt: this.options.useMrrt,\n            dpop: this.dpop\n        }, e), {\n            scope: a || e.scope\n        }), this.worker), c = await this._verifyIdToken(s.id_token, r, i);\n        if (\"authorization_code\" === e.grant_type) {\n            const e = await this._getIdTokenFromCache();\n            (null === (o = null === (n = null == e ? void 0 : e.decodedToken) || void 0 === n ? void 0 : n.claims) || void 0 === o ? void 0 : o.sub) && e.decodedToken.claims.sub !== c.claims.sub && (await this.cacheManager.clear(this.options.clientId), this.userCache.remove(\"@@user@@\"));\n        }\n        return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({}, s), {\n            decodedToken: c,\n            scope: e.scope,\n            audience: e.audience || \"default\"\n        }), s.scope ? {\n            oauthTokenScope: s.scope\n        } : null), {\n            client_id: this.options.clientId\n        })), this.cookieStorage.save(this.isAuthenticatedCookieName, !0, {\n            daysUntilExpire: this.sessionCheckExpiryDays,\n            cookieDomain: this.options.cookieDomain\n        }), this._processOrgHint(i || c.claims.org_id), Object.assign(Object.assign({}, s), {\n            decodedToken: c\n        });\n    }\n    async exchangeToken(e) {\n        return this._requestToken({\n            grant_type: \"urn:ietf:params:oauth:grant-type:token-exchange\",\n            subject_token: e.subject_token,\n            subject_token_type: e.subject_token_type,\n            scope: $d0e8535850cb015b$var$le(this.scope, e.scope, e.audience || this.options.authorizationParams.audience),\n            audience: e.audience || this.options.authorizationParams.audience,\n            organization: e.organization || this.options.authorizationParams.organization\n        });\n    }\n    _assertDpop(e) {\n        if (!e) throw new Error(\"`useDpop` option must be enabled before using DPoP.\");\n    }\n    getDpopNonce(e) {\n        return this._assertDpop(this.dpop), this.dpop.getNonce(e);\n    }\n    setDpopNonce(e, t) {\n        return this._assertDpop(this.dpop), this.dpop.setNonce(e, t);\n    }\n    generateDpopProof(e) {\n        return this._assertDpop(this.dpop), this.dpop.generateProof(e);\n    }\n    createFetcher() {\n        let e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\n        return new $d0e8535850cb015b$var$Ye(e, {\n            isDpopEnabled: ()=>!!this.options.useDpop,\n            getAccessToken: (e)=>{\n                var t;\n                return this.getTokenSilently({\n                    authorizationParams: {\n                        scope: null === (t = null == e ? void 0 : e.scope) || void 0 === t ? void 0 : t.join(\" \"),\n                        audience: null == e ? void 0 : e.audience\n                    },\n                    detailedResponse: !0\n                });\n            },\n            getDpopNonce: ()=>this.getDpopNonce(e.dpopNonceId),\n            setDpopNonce: (t)=>this.setDpopNonce(t, e.dpopNonceId),\n            generateDpopProof: (e)=>this.generateDpopProof(e)\n        });\n    }\n    async connectAccountWithRedirect(e) {\n        const { openUrl: t, appState: n, connection: o, scopes: r, authorization_params: i, redirectUri: a = this.options.authorizationParams.redirect_uri || window.location.origin } = e;\n        if (!o) throw new Error(\"connection is required\");\n        const s = $d0e8535850cb015b$var$x($d0e8535850cb015b$var$O()), c = $d0e8535850cb015b$var$O(), u = await $d0e8535850cb015b$var$K(c), l = $d0e8535850cb015b$var$U(u), { connect_uri: d, connect_params: h, auth_session: p } = await this.myAccountApi.connectAccount({\n            connection: o,\n            scopes: r,\n            redirect_uri: a,\n            state: s,\n            code_challenge: l,\n            code_challenge_method: \"S256\",\n            authorization_params: i\n        });\n        this.transactionManager.create({\n            state: s,\n            code_verifier: c,\n            auth_session: p,\n            redirect_uri: a,\n            appState: n,\n            connection: o,\n            response_type: $d0e8535850cb015b$export$7390b1e457b4cb6f.ConnectCode\n        });\n        const f = new URL(d);\n        f.searchParams.set(\"ticket\", h.ticket), t ? await t(f.toString()) : window.location.assign(f);\n    }\n}\nasync function $d0e8535850cb015b$export$9fa2cfec0168886e(e) {\n    const t = new $d0e8535850cb015b$export$b50978e389d6e1d5(e);\n    return await t.checkSession(), t;\n}\n\n\nwindow.env = {\n    APP_URL: \"http://localhost:38500\",\n    API_URL: \"http://localhost:35500\",\n    AUTH0_DOMAIN: \"part1.au.auth0.com\",\n    CLIENT_ID: \"AQxeCQYm6zi4F46dQM3pfp7Lb4kcEY6i\"\n};\nconst $f26517654c6661cc$var$domain = window.env.AUTH0_DOMAIN;\nconst $f26517654c6661cc$var$clientId = window.env.CLIENT_ID;\nconst $f26517654c6661cc$var$redirect_uri = window.env.APP_URL;\nwindow.auth0Client = await $d0e8535850cb015b$export$9fa2cfec0168886e({\n    domain: $f26517654c6661cc$var$domain,\n    clientId: $f26517654c6661cc$var$clientId,\n    authorizationParams: {\n        redirect_uri: $f26517654c6661cc$var$redirect_uri\n    }\n});\n(async function() {\n    //  Replace this with client creation \n    // handle user navigation\n    window.addEventListener(\"hashchange\", ()=>{\n        (0, $cae7093453c2f59e$export$2e2bcd8739ae039)();\n    });\n    window.addEventListener(\"load\", ()=>{\n        // avoid calling router twice when handling redirect callback upon sign in\n        if (!sessionStorage.getItem(\"reload\")) {\n            (0, $cae7093453c2f59e$export$2e2bcd8739ae039)();\n            sessionStorage.setItem(\"reload\", \"true\");\n        }\n    });\n    //handle user reload of browser\n    if (sessionStorage.getItem(\"reload\")) {\n        sessionStorage.setItem(\"reload\", \"true\");\n        await (0, $cae7093453c2f59e$export$2e2bcd8739ae039)();\n    }\n})();\n\n\n//# sourceMappingURL=spa-app.fd9a8bb8.js.map\n","import router from \"./router\";\nimport * as auth0 from \"@auth0/auth0-spa-js\";\n\nwindow.env = {\n  APP_URL: \"http://localhost:38500\",\n  API_URL: \"http://localhost:35500\",\n  AUTH0_DOMAIN: \"part1.au.auth0.com\",\n  CLIENT_ID: \"AQxeCQYm6zi4F46dQM3pfp7Lb4kcEY6i\",\n};\n\nconst domain = window.env.AUTH0_DOMAIN;\nconst clientId = window.env.CLIENT_ID;\nconst redirect_uri = window.env.APP_URL;\n\nwindow.auth0Client = await auth0.createAuth0Client({\n  domain,\n  clientId,\n  authorizationParams: {\n    redirect_uri,\n  },\n});\n\n(async function () {\n  //  Replace this with client creation \n\n  // handle user navigation\n  window.addEventListener(\"hashchange\", () => {\n    router();\n  });\n  window.addEventListener(\"load\", () => {\n    // avoid calling router twice when handling redirect callback upon sign in\n    if (!sessionStorage.getItem(\"reload\")) {\n      router();\n      sessionStorage.setItem(\"reload\", \"true\");\n    }\n  });\n\n  //handle user reload of browser\n  if (sessionStorage.getItem(\"reload\")) {\n    sessionStorage.setItem(\"reload\", \"true\");\n    await router();\n  }\n})();\n","import Error404 from \"./views/pages/Error404\";\nimport Home from \"./views/pages/Home\";\nimport Expenses from \"./views/pages/Expenses\";\nimport Navbar from \"./views/components/Navbar\";\n\nconst routes = {\n  \"/\": Home,\n  expenses: Expenses,\n};\n\nconst navbar = document.getElementById(\"navbar\");\nconst content = document.getElementById(\"content\");\n\nconst router = async () => {\n  if (new URLSearchParams(window.location.search).has(\"code\")) {\n    await window.auth0Client.handleRedirectCallback();\n    window.history.replaceState({}, document.title, \"/\");\n  }\n\n  //  Replace this with user profile handler \n\n  const request = location.hash.slice(1).toLowerCase() || \"/\";\n  const page = routes[request] || Error404;\n\n  if (await page.allowAccess()) {\n    content.innerHTML = await page.render();\n    await page.postRender();\n  } else {\n    window.history.replaceState({}, document.title, \"/\");\n  }\n  navbar.innerHTML = await Navbar.render();\n  await Navbar.postRender();\n};\n\nexport default router;\n","const Error404 = {\n  allowAccess: async () => true,\n  render: async () => {\n    const view = /*html*/ `\n      <h1>Not Found</h1>\n    `;\n    return view;\n  },\n  postRender: async () => {},\n};\n\nexport default Error404;\n","import expensesApi from \"../../services/expensesApi.js\";\n\nconst Home = {\n  allowAccess: async () => true,\n  render: async () => {\n    const summary = await expensesApi.getTotals();\n    const view = /*html*/ `\n    <h1>Home Page</h1>\n    <p id=\"user-greet\">Hello, ${window.user.name}</p>\n    <p>So far, this app has been used to manage:</p>\n    <div id=\"summary\">\n    <ul>\n      <li><strong id=\"expenses-count\">${summary.count}</strong> expenses</li>\n      <li>$<strong id=\"expenses-total\">\n      ${summary.total.toFixed(2)}\n      </strong> dollars</li>\n    </ul>\n    </div>    \n    `;\n    return view;\n  },\n  postRender: async () => {},\n};\n\nexport default Home;\n","const expensesApi = {\n  getTotals: async () => {\n    try {\n      const options = {\n        method: \"GET\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n      };\n\n      const res = await fetch(`${window.env.API_URL}/total`, options);\n      const json = await res.json();\n      return json;\n    } catch (err) {\n      console.log(\"Error getting total\", err);\n    }\n  },\n  getReports: async () => {\n    try {\n      //  Replace this with call to API \n      return [\n        {\n          date: new Date(),\n          description: \"Pizza for a Coding Dojo session.\",\n          value: 102,\n        },\n        {\n          date: new Date(),\n          description: \"Coffee for a Coding Dojo session.\",\n          value: 42,\n        },\n      ];\n      //  Replace this with call to API \n    } catch (err) {\n      console.log(\"Error getting reports\", err);\n    }\n  },\n};\n\nexport default expensesApi;\n","import expensesApi from \"../../services/expensesApi.js\";\nimport Table from \"../components/Table.js\";\n\nconst Expenses = {\n  allowAccess: async () => false, //  Replace this with isAuthenticated check\n  render: async () => {\n    const expenses = await expensesApi.getReports();\n    const view = /*html*/ `\n    <h1>Expense Report</h1>\n    <p id=\"user-greet\">Hello, ${window.user.name}</p>\n    <p>These are your expenses:</p>\n    ${await Table.render(expenses)}\n    `;\n    return view;\n  },\n  postRender: async () => {},\n};\n\nexport default Expenses;\n","const format = (data) => {\n  if (typeof data === \"number\") return `$${data.toFixed(2)}`;\n  if (data instanceof Date) return data.toLocaleDateString(\"en-US\");\n  return data;\n};\n\nconst Data = (data) => /*html*/ `<td>${format(data)}</td>`;\n\nconst Body = (data) =>\n  data\n    .map(\n      (data) => /*html*/ `<tr>\n   ${Object.keys(data)\n     .map((k) => Data(data[k]))\n     .join(\"\\n \")}\n  </tr>`\n    )\n    .join(\"\\n \");\n\nconst Header = (labels) => /*html*/ `\n<tr>\n  ${labels.map((l) => /*html*/ `<th><strong>${l}</strong></th>`).join(\"\\n \")}\n</tr>\n`;\n\nconst Table = {\n  render: async (data) => /*html*/ `\n  <table border=\"1\">\n    ${Header(Object.keys(data[0]))}\n    ${Body(data)}\n  </table>\n  `,\n  postRender: async () => {},\n};\n\nexport default Table;\n","import logo from \"../../images/auth0.png\";\nimport profile from \"../../images/profile.png\";\n\n// default user\nwindow.user = {\n  name: \"Anonymous\",\n  picture: profile,\n};\n\nconst Navbar = {\n  render: async () => {\n    const isAuthenticated = false; //  Replace this with isAuthenticated check\n    const view = /*html*/ `\n    <li class=\"logo\">\n      <a href=\"#\">\n        <img src=\"${logo}\" alt=\"Auth0\" />\n      </a>\n    </li>\n    <li>\n      <a id=\"home-link\" href=\"#\">Home</a>\n    </li>\n    <li>\n      <a id=\"expenses-link\" href=\"#expenses\">Expenses</a>\n    </li>\n    <li class=\"spacer\" />\n    <li id=\"log-out\" style=\"display: ${isAuthenticated ? \"block\" : \"none\"}\">\n      <a href=\"#\"> Logout</a>\n    </li>\n    <li id=\"log-in\" style=\"display: ${isAuthenticated ? \"none\" : \"block\"}\">\n      <a href=\"#\"> Login</a>\n    </li>\n    <li class=\"profile\">\n      <img src=\"${window.user.picture}\" />\n    </li>\n    `;\n\n    return view;\n  },\n  postRender: async () => {\n    document.getElementById(\"log-in\").addEventListener(\"click\", async (e) => {\n      e.preventDefault();\n      //  Replace this with login call \n    });\n\n    document.getElementById(\"log-out\").addEventListener(\"click\", (e) => {\n      e.preventDefault();\n      //  Replace this with logout call \n    });\n  },\n};\n\nexport default Navbar;\n","function e(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}\"function\"==typeof SuppressedError&&SuppressedError;var t=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{},n={},o={};Object.defineProperty(o,\"__esModule\",{value:!0});var r=function(){function e(){var e=this;this.locked=new Map,this.addToLocked=function(t,n){var o=e.locked.get(t);void 0===o?void 0===n?e.locked.set(t,[]):e.locked.set(t,[n]):void 0!==n&&(o.unshift(n),e.locked.set(t,o))},this.isLocked=function(t){return e.locked.has(t)},this.lock=function(t){return new Promise((function(n,o){e.isLocked(t)?e.addToLocked(t,n):(e.addToLocked(t),n())}))},this.unlock=function(t){var n=e.locked.get(t);if(void 0!==n&&0!==n.length){var o=n.pop();e.locked.set(t,n),void 0!==o&&setTimeout(o,0)}else e.locked.delete(t)}}return e.getInstance=function(){return void 0===e.instance&&(e.instance=new e),e.instance},e}();o.default=function(){return r.getInstance()};var i=t&&t.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(e){i(e)}}function s(e){try{c(o.throw(e))}catch(e){i(e)}}function c(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,s)}c((o=o.apply(e,t||[])).next())}))},a=t&&t.__generator||function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},s=t;Object.defineProperty(n,\"__esModule\",{value:!0});var c=o,u={key:function(e){return i(s,void 0,void 0,(function(){return a(this,(function(e){throw new Error(\"Unsupported\")}))}))},getItem:function(e){return i(s,void 0,void 0,(function(){return a(this,(function(e){throw new Error(\"Unsupported\")}))}))},clear:function(){return i(s,void 0,void 0,(function(){return a(this,(function(e){return[2,window.localStorage.clear()]}))}))},removeItem:function(e){return i(s,void 0,void 0,(function(){return a(this,(function(e){throw new Error(\"Unsupported\")}))}))},setItem:function(e,t){return i(s,void 0,void 0,(function(){return a(this,(function(e){throw new Error(\"Unsupported\")}))}))},keySync:function(e){return window.localStorage.key(e)},getItemSync:function(e){return window.localStorage.getItem(e)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(e){return window.localStorage.removeItem(e)},setItemSync:function(e,t){return window.localStorage.setItem(e,t)}};function l(e){return new Promise((function(t){return setTimeout(t,e)}))}function d(e){for(var t=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz\",n=\"\",o=0;o<e;o++){n+=t[Math.floor(Math.random()*t.length)]}return n}var h=function(){function e(t){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+d(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=t,void 0===e.waiters&&(e.waiters=[])}return e.prototype.acquireLock=function(t,n){return void 0===n&&(n=5e3),i(this,void 0,void 0,(function(){var o,r,i,s,c,h,p;return a(this,(function(a){switch(a.label){case 0:o=Date.now()+d(4),r=Date.now()+n,i=\"browser-tabs-lock-key-\"+t,s=void 0===this.storageHandler?u:this.storageHandler,a.label=1;case 1:return Date.now()<r?[4,l(30)]:[3,8];case 2:return a.sent(),null!==s.getItemSync(i)?[3,5]:(c=this.id+\"-\"+t+\"-\"+o,[4,l(Math.floor(25*Math.random()))]);case 3:return a.sent(),s.setItemSync(i,JSON.stringify({id:this.id,iat:o,timeoutKey:c,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,l(30)];case 4:return a.sent(),null!==(h=s.getItemSync(i))&&(p=JSON.parse(h)).id===this.id&&p.iat===o?(this.acquiredIatSet.add(o),this.refreshLockWhileAcquired(i,o),[2,!0]):[3,7];case 5:return e.lockCorrector(void 0===this.storageHandler?u:this.storageHandler),[4,this.waitForSomethingToChange(r)];case 6:a.sent(),a.label=7;case 7:return o=Date.now()+d(4),[3,1];case 8:return[2,!1]}}))}))},e.prototype.refreshLockWhileAcquired=function(e,t){return i(this,void 0,void 0,(function(){var n=this;return a(this,(function(o){return setTimeout((function(){return i(n,void 0,void 0,(function(){var n,o,r;return a(this,(function(i){switch(i.label){case 0:return[4,c.default().lock(t)];case 1:return i.sent(),this.acquiredIatSet.has(t)?(n=void 0===this.storageHandler?u:this.storageHandler,null===(o=n.getItemSync(e))?(c.default().unlock(t),[2]):((r=JSON.parse(o)).timeRefreshed=Date.now(),n.setItemSync(e,JSON.stringify(r)),c.default().unlock(t),this.refreshLockWhileAcquired(e,t),[2])):(c.default().unlock(t),[2])}}))}))}),1e3),[2]}))}))},e.prototype.waitForSomethingToChange=function(t){return i(this,void 0,void 0,(function(){return a(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var o=!1,r=Date.now(),i=!1;function a(){if(i||(window.removeEventListener(\"storage\",a),e.removeFromWaiting(a),clearTimeout(s),i=!0),!o){o=!0;var t=50-(Date.now()-r);t>0?setTimeout(n,t):n(null)}}window.addEventListener(\"storage\",a),e.addToWaiting(a);var s=setTimeout(a,Math.max(0,t-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},e.addToWaiting=function(t){this.removeFromWaiting(t),void 0!==e.waiters&&e.waiters.push(t)},e.removeFromWaiting=function(t){void 0!==e.waiters&&(e.waiters=e.waiters.filter((function(e){return e!==t})))},e.notifyWaiters=function(){void 0!==e.waiters&&e.waiters.slice().forEach((function(e){return e()}))},e.prototype.releaseLock=function(e){return i(this,void 0,void 0,(function(){return a(this,(function(t){switch(t.label){case 0:return[4,this.releaseLock__private__(e)];case 1:return[2,t.sent()]}}))}))},e.prototype.releaseLock__private__=function(t){return i(this,void 0,void 0,(function(){var n,o,r,i;return a(this,(function(a){switch(a.label){case 0:return n=void 0===this.storageHandler?u:this.storageHandler,o=\"browser-tabs-lock-key-\"+t,null===(r=n.getItemSync(o))?[2]:(i=JSON.parse(r)).id!==this.id?[3,2]:[4,c.default().lock(i.iat)];case 1:a.sent(),this.acquiredIatSet.delete(i.iat),n.removeItemSync(o),c.default().unlock(i.iat),e.notifyWaiters(),a.label=2;case 2:return[2]}}))}))},e.lockCorrector=function(t){for(var n=Date.now()-5e3,o=t,r=[],i=0;;){var a=o.keySync(i);if(null===a)break;r.push(a),i++}for(var s=!1,c=0;c<r.length;c++){var u=r[c];if(u.includes(\"browser-tabs-lock-key\")){var l=o.getItemSync(u);if(null!==l){var d=JSON.parse(l);(void 0===d.timeRefreshed&&d.timeAcquired<n||void 0!==d.timeRefreshed&&d.timeRefreshed<n)&&(o.removeItemSync(u),s=!0)}}}s&&e.notifyWaiters()},e.waiters=void 0,e}(),p=n.default=h;const f={timeoutInSeconds:60},m={name:\"auth0-spa-js\",version:\"2.12.0\"},y=()=>Date.now();class w extends Error{constructor(e,t){super(t),this.error=e,this.error_description=t,Object.setPrototypeOf(this,w.prototype)}static fromPayload(e){let{error:t,error_description:n}=e;return new w(t,n)}}class g extends w{constructor(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super(e,t),this.state=n,this.appState=o,Object.setPrototypeOf(this,g.prototype)}}class v extends w{constructor(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;super(e,t),this.connection=n,this.state=o,this.appState=r,Object.setPrototypeOf(this,v.prototype)}}class b extends w{constructor(){super(\"timeout\",\"Timeout\"),Object.setPrototypeOf(this,b.prototype)}}class _ extends b{constructor(e){super(),this.popup=e,Object.setPrototypeOf(this,_.prototype)}}class k extends w{constructor(e){super(\"cancelled\",\"Popup closed\"),this.popup=e,Object.setPrototypeOf(this,k.prototype)}}class S extends w{constructor(){super(\"popup_open\",\"Unable to open a popup for loginWithPopup - window.open returned `null`\"),Object.setPrototypeOf(this,S.prototype)}}class E extends w{constructor(e,t,n){super(e,t),this.mfa_token=n,Object.setPrototypeOf(this,E.prototype)}}class A extends w{constructor(e,t){super(\"missing_refresh_token\",\"Missing Refresh Token (audience: '\".concat(R(e,[\"default\"]),\"', scope: '\").concat(R(t),\"')\")),this.audience=e,this.scope=t,Object.setPrototypeOf(this,A.prototype)}}class T extends w{constructor(e,t){super(\"missing_scopes\",\"Missing requested scopes after refresh (audience: '\".concat(R(e,[\"default\"]),\"', missing scope: '\").concat(R(t),\"')\")),this.audience=e,this.scope=t,Object.setPrototypeOf(this,T.prototype)}}class P extends w{constructor(e){super(\"use_dpop_nonce\",\"Server rejected DPoP proof: wrong nonce\"),this.newDpopNonce=e,Object.setPrototypeOf(this,P.prototype)}}function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e&&!t.includes(e)?e:\"\"}const I=()=>window.crypto,O=()=>{const e=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.\";let t=\"\";return Array.from(I().getRandomValues(new Uint8Array(43))).forEach((n=>t+=e[n%e.length])),t},x=e=>btoa(e),C=[{key:\"name\",type:[\"string\"]},{key:\"version\",type:[\"string\",\"number\"]},{key:\"env\",type:[\"object\"]}],j=e=>Object.keys(e).reduce(((t,n)=>{const o=C.find((e=>e.key===n));return o&&o.type.includes(typeof e[n])&&(t[n]=e[n]),t}),{}),D=t=>{var{clientId:n}=t,o=e(t,[\"clientId\"]);return new URLSearchParams((e=>Object.keys(e).filter((t=>void 0!==e[t])).reduce(((t,n)=>Object.assign(Object.assign({},t),{[n]:e[n]})),{}))(Object.assign({client_id:n},o))).toString()},K=async e=>{const t=I().subtle.digest({name:\"SHA-256\"},(new TextEncoder).encode(e));return await t},L=e=>(e=>decodeURIComponent(atob(e).split(\"\").map((e=>\"%\"+(\"00\"+e.charCodeAt(0).toString(16)).slice(-2))).join(\"\")))(e.replace(/_/g,\"/\").replace(/-/g,\"+\")),U=e=>{const t=new Uint8Array(e);return(e=>{const t={\"+\":\"-\",\"/\":\"_\",\"=\":\"\"};return e.replace(/[+/=]/g,(e=>t[e]))})(window.btoa(String.fromCharCode(...Array.from(t))))},N=new TextEncoder,W=new TextDecoder;function H(e){return\"string\"==typeof e?N.encode(e):W.decode(e)}function z(e){if(\"number\"!=typeof e.modulusLength||e.modulusLength<2048)throw new F(`${e.name} modulusLength must be at least 2048 bits`)}async function J(e,t,n){if(!1===n.usages.includes(\"sign\"))throw new TypeError('private CryptoKey instances used for signing assertions must include \"sign\" in their \"usages\"');const o=`${V(H(JSON.stringify(e)))}.${V(H(JSON.stringify(t)))}`;return`${o}.${V(await crypto.subtle.sign(function(e){switch(e.algorithm.name){case\"ECDSA\":return{name:e.algorithm.name,hash:\"SHA-256\"};case\"RSA-PSS\":return z(e.algorithm),{name:e.algorithm.name,saltLength:32};case\"RSASSA-PKCS1-v1_5\":return z(e.algorithm),{name:e.algorithm.name};case\"Ed25519\":return{name:e.algorithm.name}}throw new G}(n),n,H(o)))}`}let M;if(Uint8Array.prototype.toBase64)M=e=>(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e.toBase64({alphabet:\"base64url\",omitPadding:!0}));else{const e=32768;M=t=>{t instanceof ArrayBuffer&&(t=new Uint8Array(t));const n=[];for(let o=0;o<t.byteLength;o+=e)n.push(String.fromCharCode.apply(null,t.subarray(o,o+e)));return btoa(n.join(\"\")).replace(/=/g,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}}function V(e){return M(e)}class G extends Error{constructor(e){var t;super(null!=e?e:\"operation not supported\"),this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}class F extends Error{constructor(e){var t;super(e),this.name=this.constructor.name,null===(t=Error.captureStackTrace)||void 0===t||t.call(Error,this,this.constructor)}}function Z(e){switch(e.algorithm.name){case\"RSA-PSS\":return function(e){if(\"SHA-256\"===e.algorithm.hash.name)return\"PS256\";throw new G(\"unsupported RsaHashedKeyAlgorithm hash name\")}(e);case\"RSASSA-PKCS1-v1_5\":return function(e){if(\"SHA-256\"===e.algorithm.hash.name)return\"RS256\";throw new G(\"unsupported RsaHashedKeyAlgorithm hash name\")}(e);case\"ECDSA\":return function(e){if(\"P-256\"===e.algorithm.namedCurve)return\"ES256\";throw new G(\"unsupported EcKeyAlgorithm namedCurve\")}(e);case\"Ed25519\":return\"Ed25519\";default:throw new G(\"unsupported CryptoKey algorithm name\")}}function q(e){return e instanceof CryptoKey}function B(e){return q(e)&&\"public\"===e.type}async function X(e,t,n,o,r,i){const a=null==e?void 0:e.privateKey,s=null==e?void 0:e.publicKey;if(!q(c=a)||\"private\"!==c.type)throw new TypeError('\"keypair.privateKey\" must be a private CryptoKey');var c;if(!B(s))throw new TypeError('\"keypair.publicKey\" must be a public CryptoKey');if(!0!==s.extractable)throw new TypeError('\"keypair.publicKey.extractable\" must be true');if(\"string\"!=typeof t)throw new TypeError('\"htu\" must be a string');if(\"string\"!=typeof n)throw new TypeError('\"htm\" must be a string');if(void 0!==o&&\"string\"!=typeof o)throw new TypeError('\"nonce\" must be a string or undefined');if(void 0!==r&&\"string\"!=typeof r)throw new TypeError('\"accessToken\" must be a string or undefined');if(void 0!==i&&(\"object\"!=typeof i||null===i||Array.isArray(i)))throw new TypeError('\"additional\" must be an object');return J({alg:Z(a),typ:\"dpop+jwt\",jwk:await Y(s)},Object.assign(Object.assign({},i),{iat:Math.floor(Date.now()/1e3),jti:crypto.randomUUID(),htm:n,nonce:o,htu:t,ath:r?V(await crypto.subtle.digest(\"SHA-256\",H(r))):void 0}),a)}async function Y(e){const{kty:t,e:n,n:o,x:r,y:i,crv:a}=await crypto.subtle.exportKey(\"jwk\",e);return{kty:t,crv:a,e:n,n:o,x:r,y:i}}const Q=[\"authorization_code\",\"refresh_token\",\"urn:ietf:params:oauth:grant-type:token-exchange\"];function $(){return async function(e,t){var n;let o;if(\"string\"!=typeof e||0===e.length)throw new TypeError('\"alg\" must be a non-empty string');switch(e){case\"PS256\":o={name:\"RSA-PSS\",hash:\"SHA-256\",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case\"RS256\":o={name:\"RSASSA-PKCS1-v1_5\",hash:\"SHA-256\",modulusLength:2048,publicExponent:new Uint8Array([1,0,1])};break;case\"ES256\":o={name:\"ECDSA\",namedCurve:\"P-256\"};break;case\"Ed25519\":o={name:\"Ed25519\"};break;default:throw new G}return crypto.subtle.generateKey(o,null!==(n=null==t?void 0:t.extractable)&&void 0!==n&&n,[\"sign\",\"verify\"])}(\"ES256\",{extractable:!1})}function ee(e){return async function(e){if(!B(e))throw new TypeError('\"publicKey\" must be a public CryptoKey');if(!0!==e.extractable)throw new TypeError('\"publicKey.extractable\" must be true');const t=await Y(e);let n;switch(t.kty){case\"EC\":n={crv:t.crv,kty:t.kty,x:t.x,y:t.y};break;case\"OKP\":n={crv:t.crv,kty:t.kty,x:t.x};break;case\"RSA\":n={e:t.e,kty:t.kty,n:t.n};break;default:throw new G(\"unsupported JWK kty\")}return V(await crypto.subtle.digest({name:\"SHA-256\"},H(JSON.stringify(n))))}(e.publicKey)}function te(e){let{keyPair:t,url:n,method:o,nonce:r,accessToken:i}=e;const a=function(e){const t=new URL(e);return t.search=\"\",t.hash=\"\",t.href}(n);return X(t,a,o,r,i)}const ne=async(e,t)=>{const n=await fetch(e,t);return{ok:n.ok,json:await n.json(),headers:(o=n.headers,[...o].reduce(((e,t)=>{let[n,o]=t;return e[n]=o,e}),{}))};var o},oe=async(e,t,n)=>{const o=new AbortController;let r;return t.signal=o.signal,Promise.race([ne(e,t),new Promise(((e,t)=>{r=setTimeout((()=>{o.abort(),t(new Error(\"Timeout when executing 'fetch'\"))}),n)}))]).finally((()=>{clearTimeout(r)}))},re=async(e,t,n,o,r,i,a,s)=>((e,t)=>new Promise((function(n,o){const r=new MessageChannel;r.port1.onmessage=function(e){e.data.error?o(new Error(e.data.error)):n(e.data),r.port1.close()},t.postMessage(e,[r.port2])})))({auth:{audience:t,scope:n},timeout:r,fetchUrl:e,fetchOptions:o,useFormData:a,useMrrt:s},i),ie=async function(e,t,n,o,r,i){let a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1e4,s=arguments.length>7?arguments[7]:void 0;return r?re(e,t,n,o,a,r,i,s):oe(e,o,a)};async function ae(t,n,o,r,i,a,s,c,u,l){if(u){const e=await u.generateProof({url:t,method:i.method||\"GET\",nonce:await u.getNonce()});i.headers=Object.assign(Object.assign({},i.headers),{dpop:e})}let d,h=null;for(let e=0;e<3;e++)try{d=await ie(t,o,r,i,a,s,n,c),h=null;break}catch(e){h=e}if(h)throw h;const p=d.json,{error:f,error_description:m}=p,y=e(p,[\"error\",\"error_description\"]),{headers:g,ok:v}=d;let b;if(u&&(b=g[\"dpop-nonce\"],b&&await u.setNonce(b)),!v){const e=m||\"HTTP error. Unable to fetch \".concat(t);if(\"mfa_required\"===f)throw new E(f,e,y.mfa_token);if(\"missing_refresh_token\"===f)throw new A(o,r);if(\"use_dpop_nonce\"===f){if(!u||!b||l)throw new P(b);return ae(t,n,o,r,i,a,s,c,u,!0)}throw new w(f||\"request_error\",e)}return y}async function se(t,n){var{baseUrl:o,timeout:r,audience:i,scope:a,auth0Client:s,useFormData:c,useMrrt:u,dpop:l}=t,d=e(t,[\"baseUrl\",\"timeout\",\"audience\",\"scope\",\"auth0Client\",\"useFormData\",\"useMrrt\",\"dpop\"]);const h=\"urn:ietf:params:oauth:grant-type:token-exchange\"===d.grant_type,p=\"refresh_token\"===d.grant_type&&u,f=Object.assign(Object.assign(Object.assign(Object.assign({},d),h&&i&&{audience:i}),h&&a&&{scope:a}),p&&{audience:i,scope:a}),y=c?D(f):JSON.stringify(f),w=(g=d.grant_type,Q.includes(g));var g;return await ae(\"\".concat(o,\"/oauth/token\"),r,i||\"default\",a,{method:\"POST\",body:y,headers:{\"Content-Type\":c?\"application/x-www-form-urlencoded\":\"application/json\",\"Auth0-Client\":btoa(JSON.stringify(j(s||m)))}},n,c,u,w?l:void 0)}const ce=e=>Array.from(new Set(e)),ue=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ce(t.filter(Boolean).join(\" \").trim().split(/\\s+/)).join(\" \")},le=(e,t,n)=>{let o;return n&&(o=e[n]),o||(o=e.default),ue(o,t)};class de{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"@@auth0spajs@@\",n=arguments.length>2?arguments[2]:void 0;this.prefix=t,this.suffix=n,this.clientId=e.clientId,this.scope=e.scope,this.audience=e.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join(\"::\")}static fromKey(e){const[t,n,o,r]=e.split(\"::\");return new de({clientId:n,scope:r,audience:o},t)}static fromCacheEntry(e){const{scope:t,audience:n,client_id:o}=e;return new de({scope:t,audience:n,clientId:o})}}class he{set(e,t){localStorage.setItem(e,JSON.stringify(t))}get(e){const t=window.localStorage.getItem(e);if(t)try{return JSON.parse(t)}catch(e){return}}remove(e){localStorage.removeItem(e)}allKeys(){return Object.keys(window.localStorage).filter((e=>e.startsWith(\"@@auth0spajs@@\")))}}class pe{constructor(){this.enclosedCache=function(){let e={};return{set(t,n){e[t]=n},get(t){const n=e[t];if(n)return n},remove(t){delete e[t]},allKeys:()=>Object.keys(e)}}()}}class fe{constructor(e,t,n){this.cache=e,this.keyManifest=t,this.nowProvider=n||y}async setIdToken(e,t,n){var o;const r=this.getIdTokenCacheKey(e);await this.cache.set(r,{id_token:t,decodedToken:n}),await(null===(o=this.keyManifest)||void 0===o?void 0:o.add(r))}async getIdToken(e){const t=await this.cache.get(this.getIdTokenCacheKey(e.clientId));if(!t&&e.scope&&e.audience){const t=await this.get(e);if(!t)return;if(!t.id_token||!t.decodedToken)return;return{id_token:t.id_token,decodedToken:t.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}}async get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3?arguments[3]:void 0;var r;let i=await this.cache.get(e.toKey());if(!i){const t=await this.getCacheKeys();if(!t)return;const r=this.matchExistingCacheKey(e,t);if(r&&(i=await this.cache.get(r)),!i&&n&&\"cache-only\"!==o)return this.getEntryWithRefreshToken(e,t)}if(!i)return;const a=await this.nowProvider(),s=Math.floor(a/1e3);return i.expiresAt-t<s?i.body.refresh_token?this.modifiedCachedEntry(i,e):(await this.cache.remove(e.toKey()),void await(null===(r=this.keyManifest)||void 0===r?void 0:r.remove(e.toKey()))):i.body}async modifiedCachedEntry(e,t){return e.body={refresh_token:e.body.refresh_token,audience:e.body.audience,scope:e.body.scope},await this.cache.set(t.toKey(),e),{refresh_token:e.body.refresh_token,audience:e.body.audience,scope:e.body.scope}}async set(e){var t;const n=new de({clientId:e.client_id,scope:e.scope,audience:e.audience}),o=await this.wrapCacheEntry(e);await this.cache.set(n.toKey(),o),await(null===(t=this.keyManifest)||void 0===t?void 0:t.add(n.toKey()))}async remove(e,t,n){const o=new de({clientId:e,scope:n,audience:t});await this.cache.remove(o.toKey())}async clear(e){var t;const n=await this.getCacheKeys();n&&(await n.filter((t=>!e||t.includes(e))).reduce((async(e,t)=>{await e,await this.cache.remove(t)}),Promise.resolve()),await(null===(t=this.keyManifest)||void 0===t?void 0:t.clear()))}async wrapCacheEntry(e){const t=await this.nowProvider();return{body:e,expiresAt:Math.floor(t/1e3)+e.expires_in}}async getCacheKeys(){var e;return this.keyManifest?null===(e=await this.keyManifest.get())||void 0===e?void 0:e.keys:this.cache.allKeys?this.cache.allKeys():void 0}getIdTokenCacheKey(e){return new de({clientId:e},\"@@auth0spajs@@\",\"@@user@@\").toKey()}matchExistingCacheKey(e,t){return t.filter((t=>{var n;const o=de.fromKey(t),r=new Set(o.scope&&o.scope.split(\" \")),i=(null===(n=e.scope)||void 0===n?void 0:n.split(\" \"))||[],a=o.scope&&i.reduce(((e,t)=>e&&r.has(t)),!0);return\"@@auth0spajs@@\"===o.prefix&&o.clientId===e.clientId&&o.audience===e.audience&&a}))[0]}async getEntryWithRefreshToken(e,t){var n;for(const o of t){const t=de.fromKey(o);if(\"@@auth0spajs@@\"===t.prefix&&t.clientId===e.clientId){const t=await this.cache.get(o);if(null===(n=null==t?void 0:t.body)||void 0===n?void 0:n.refresh_token)return this.modifiedCachedEntry(t,e)}}}async updateEntry(e,t){var n;const o=await this.getCacheKeys();if(o)for(const r of o){const o=await this.cache.get(r);if((null===(n=null==o?void 0:o.body)||void 0===n?void 0:n.refresh_token)===e){const e=Object.assign(Object.assign({},o.body),{refresh_token:t});await this.set(e)}}}}class me{constructor(e,t,n){this.storage=e,this.clientId=t,this.cookieDomain=n,this.storageKey=\"\".concat(\"a0.spajs.txs\",\".\").concat(this.clientId)}create(e){this.storage.save(this.storageKey,e,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}}const ye=e=>\"number\"==typeof e,we=[\"iss\",\"aud\",\"exp\",\"nbf\",\"iat\",\"jti\",\"azp\",\"nonce\",\"auth_time\",\"at_hash\",\"c_hash\",\"acr\",\"amr\",\"sub_jwk\",\"cnf\",\"sip_from_tag\",\"sip_date\",\"sip_callid\",\"sip_cseq_num\",\"sip_via_branch\",\"orig\",\"dest\",\"mky\",\"events\",\"toe\",\"txn\",\"rph\",\"sid\",\"vot\",\"vtm\"],ge=e=>{if(!e.id_token)throw new Error(\"ID token is required but missing\");const t=(e=>{const t=e.split(\".\"),[n,o,r]=t;if(3!==t.length||!n||!o||!r)throw new Error(\"ID token could not be decoded\");const i=JSON.parse(L(o)),a={__raw:e},s={};return Object.keys(i).forEach((e=>{a[e]=i[e],we.includes(e)||(s[e]=i[e])})),{encoded:{header:n,payload:o,signature:r},header:JSON.parse(L(n)),claims:a,user:s}})(e.id_token);if(!t.claims.iss)throw new Error(\"Issuer (iss) claim must be a string present in the ID token\");if(t.claims.iss!==e.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected \"'.concat(e.iss,'\", found \"').concat(t.claims.iss,'\"'));if(!t.user.sub)throw new Error(\"Subject (sub) claim must be a string present in the ID token\");if(\"RS256\"!==t.header.alg)throw new Error('Signature algorithm of \"'.concat(t.header.alg,'\" is not supported. Expected the ID token to be signed with \"RS256\".'));if(!t.claims.aud||\"string\"!=typeof t.claims.aud&&!Array.isArray(t.claims.aud))throw new Error(\"Audience (aud) claim must be a string or array of strings present in the ID token\");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected \"'.concat(e.aud,'\" but was not one of \"').concat(t.claims.aud.join(\", \"),'\"'));if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error(\"Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values\");if(t.claims.azp!==e.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected \"'.concat(e.aud,'\", found \"').concat(t.claims.azp,'\"'))}}else if(t.claims.aud!==e.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected \"'.concat(e.aud,'\" but found \"').concat(t.claims.aud,'\"'));if(e.nonce){if(!t.claims.nonce)throw new Error(\"Nonce (nonce) claim must be a string present in the ID token\");if(t.claims.nonce!==e.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected \"'.concat(e.nonce,'\", found \"').concat(t.claims.nonce,'\"'))}if(e.max_age&&!ye(t.claims.auth_time))throw new Error(\"Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified\");if(null==t.claims.exp||!ye(t.claims.exp))throw new Error(\"Expiration Time (exp) claim must be a number present in the ID token\");if(!ye(t.claims.iat))throw new Error(\"Issued At (iat) claim must be a number present in the ID token\");const n=e.leeway||60,o=new Date(e.now||Date.now()),r=new Date(0);if(r.setUTCSeconds(t.claims.exp+n),o>r)throw new Error(\"Expiration Time (exp) claim error in the ID token; current time (\".concat(o,\") is after expiration time (\").concat(r,\")\"));if(null!=t.claims.nbf&&ye(t.claims.nbf)){const e=new Date(0);if(e.setUTCSeconds(t.claims.nbf-n),o<e)throw new Error(\"Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (\".concat(o,\") is before \").concat(e))}if(null!=t.claims.auth_time&&ye(t.claims.auth_time)){const r=new Date(0);if(r.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),o>r)throw new Error(\"Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (\".concat(o,\") is after last auth at \").concat(r))}if(e.organization){const n=e.organization.trim();if(n.startsWith(\"org_\")){const e=n;if(!t.claims.org_id)throw new Error(\"Organization ID (org_id) claim must be a string present in the ID token\");if(e!==t.claims.org_id)throw new Error('Organization ID (org_id) claim mismatch in the ID token; expected \"'.concat(e,'\", found \"').concat(t.claims.org_id,'\"'))}else{const e=n.toLowerCase();if(!t.claims.org_name)throw new Error(\"Organization Name (org_name) claim must be a string present in the ID token\");if(e!==t.claims.org_name)throw new Error('Organization Name (org_name) claim mismatch in the ID token; expected \"'.concat(e,'\", found \"').concat(t.claims.org_name,'\"'))}}return t};var ve=t&&t.__assign||function(){return ve=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},ve.apply(this,arguments)};function be(e,t){if(!t)return\"\";var n=\"; \"+e;return!0===t?n:n+\"=\"+t}function _e(e,t,n){return encodeURIComponent(e).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\\(/g,\"%28\").replace(/\\)/g,\"%29\")+\"=\"+encodeURIComponent(t).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(e){if(\"number\"==typeof e.expires){var t=new Date;t.setMilliseconds(t.getMilliseconds()+864e5*e.expires),e.expires=t}return be(\"Expires\",e.expires?e.expires.toUTCString():\"\")+be(\"Domain\",e.domain)+be(\"Path\",e.path)+be(\"Secure\",e.secure)+be(\"SameSite\",e.sameSite)}(n)}function ke(){return function(e){for(var t={},n=e?e.split(\"; \"):[],o=/(%[\\dA-F]{2})+/gi,r=0;r<n.length;r++){var i=n[r].split(\"=\"),a=i.slice(1).join(\"=\");'\"'===a.charAt(0)&&(a=a.slice(1,-1));try{t[i[0].replace(o,decodeURIComponent)]=a.replace(o,decodeURIComponent)}catch(e){}}return t}(document.cookie)}var Se=function(e){return ke()[e]};function Ee(e,t,n){document.cookie=_e(e,t,ve({path:\"/\"},n))}var Ae=Ee;var Te=function(e,t){Ee(e,\"\",ve(ve({},t),{expires:-1}))};const Pe={get(e){const t=Se(e);if(void 0!==t)return JSON.parse(t)},save(e,t,n){let o={};\"https:\"===window.location.protocol&&(o={secure:!0,sameSite:\"none\"}),(null==n?void 0:n.daysUntilExpire)&&(o.expires=n.daysUntilExpire),(null==n?void 0:n.cookieDomain)&&(o.domain=n.cookieDomain),Ae(e,JSON.stringify(t),o)},remove(e,t){let n={};(null==t?void 0:t.cookieDomain)&&(n.domain=t.cookieDomain),Te(e,n)}},Re={get(e){const t=Pe.get(e);return t||Pe.get(\"\".concat(\"_legacy_\").concat(e))},save(e,t,n){let o={};\"https:\"===window.location.protocol&&(o={secure:!0}),(null==n?void 0:n.daysUntilExpire)&&(o.expires=n.daysUntilExpire),(null==n?void 0:n.cookieDomain)&&(o.domain=n.cookieDomain),Ae(\"\".concat(\"_legacy_\").concat(e),JSON.stringify(t),o),Pe.save(e,t,n)},remove(e,t){let n={};(null==t?void 0:t.cookieDomain)&&(n.domain=t.cookieDomain),Te(e,n),Pe.remove(e,t),Pe.remove(\"\".concat(\"_legacy_\").concat(e),t)}},Ie={get(e){if(\"undefined\"==typeof sessionStorage)return;const t=sessionStorage.getItem(e);return null!=t?JSON.parse(t):void 0},save(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove(e){sessionStorage.removeItem(e)}};var Oe;!function(e){e.Code=\"code\",e.ConnectCode=\"connect_code\"}(Oe||(Oe={}));class xe{}function Ce(e,t,n){var o=void 0===t?null:t,r=function(e,t){var n=atob(e);if(t){for(var o=new Uint8Array(n.length),r=0,i=n.length;r<i;++r)o[r]=n.charCodeAt(r);return String.fromCharCode.apply(null,new Uint16Array(o.buffer))}return n}(e,void 0!==n&&n),i=r.indexOf(\"\\n\",10)+1,a=r.substring(i)+(o?\"//# sourceMappingURL=\"+o:\"\"),s=new Blob([a],{type:\"application/javascript\"});return URL.createObjectURL(s)}var je,De,Ke,Le,Ue=(je=\"Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHQpe2xldHtlcnJvcjpyLGVycm9yX2Rlc2NyaXB0aW9uOnN9PXQ7cmV0dXJuIG5ldyBlKHIscyl9fWNsYXNzIHQgZXh0ZW5kcyBle2NvbnN0cnVjdG9yKGUscyl7c3VwZXIoIm1pc3NpbmdfcmVmcmVzaF90b2tlbiIsIk1pc3NpbmcgUmVmcmVzaCBUb2tlbiAoYXVkaWVuY2U6ICciLmNvbmNhdChyKGUsWyJkZWZhdWx0Il0pLCInLCBzY29wZTogJyIpLmNvbmNhdChyKHMpLCInKSIpKSx0aGlzLmF1ZGllbmNlPWUsdGhpcy5zY29wZT1zLE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLHQucHJvdG90eXBlKX19ZnVuY3Rpb24gcihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06W107cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+IiIuY29uY2F0KGUsInwiKS5jb25jYXQodCk7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jIGU9PntsZXQgcixjLHtkYXRhOnt0aW1lb3V0OmksYXV0aDphLGZldGNoVXJsOmYsZmV0Y2hPcHRpb25zOmwsdXNlRm9ybURhdGE6cCx1c2VNcnJ0Omh9LHBvcnRzOlt1XX09ZSxkPXt9O2NvbnN0e2F1ZGllbmNlOmcsc2NvcGU6eX09YXx8e307dHJ5e2NvbnN0IGU9cD8oZT0+e2NvbnN0IHQ9bmV3IFVSTFNlYXJjaFBhcmFtcyhlKSxyPXt9O3JldHVybiB0LmZvckVhY2goKChlLHQpPT57clt0XT1lfSkpLHJ9KShsLmJvZHkpOkpTT04ucGFyc2UobC5ib2R5KTtpZighZS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1lLmdyYW50X3R5cGUpe2lmKGM9KChlLHQpPT5vW24oZSx0KV0pKGcseSksIWMmJmgpe2NvbnN0IGU9by5sYXRlc3RfcmVmcmVzaF90b2tlbix0PSgoZSx0KT0+e2NvbnN0IHI9T2JqZWN0LmtleXMobykuZmluZCgocj0+e2lmKCJsYXRlc3RfcmVmcmVzaF90b2tlbiIhPT1yKXtjb25zdCBzPSgoZSx0KT0+dC5zdGFydHNXaXRoKCIiLmNvbmNhdChlLCJ8IikpKSh0LHIpLG89ci5zcGxpdCgifCIpWzFdLnNwbGl0KCIgIiksbj1lLnNwbGl0KCIgIikuZXZlcnkoKGU9Pm8uaW5jbHVkZXMoZSkpKTtyZXR1cm4gcyYmbn19KSk7cmV0dXJuISFyfSkoeSxnKTtlJiYhdCYmKGM9ZSl9aWYoIWMpdGhyb3cgbmV3IHQoZyx5KTtsLmJvZHk9cD9zKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7cmVmcmVzaF90b2tlbjpjfSkpOkpTT04uc3RyaW5naWZ5KE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSxlKSx7cmVmcmVzaF90b2tlbjpjfSkpfWxldCBhLGs7ImZ1bmN0aW9uIj09dHlwZW9mIEFib3J0Q29udHJvbGxlciYmKGE9bmV3IEFib3J0Q29udHJvbGxlcixsLnNpZ25hbD1hLnNpZ25hbCk7dHJ5e2s9YXdhaXQgUHJvbWlzZS5yYWNlKFsoaj1pLG5ldyBQcm9taXNlKChlPT5zZXRUaW1lb3V0KGUsaikpKSksZmV0Y2goZixPYmplY3QuYXNzaWduKHt9LGwpKV0pfWNhdGNoKGUpe3JldHVybiB2b2lkIHUucG9zdE1lc3NhZ2Uoe2Vycm9yOmUubWVzc2FnZX0pfWlmKCFrKXJldHVybiBhJiZhLmFib3J0KCksdm9pZCB1LnBvc3RNZXNzYWdlKHtlcnJvcjoiVGltZW91dCB3aGVuIGV4ZWN1dGluZyAnZmV0Y2gnIn0pO189ay5oZWFkZXJzLGQ9Wy4uLl9dLnJlZHVjZSgoKGUsdCk9PntsZXRbcixzXT10O3JldHVybiBlW3JdPXMsZX0pLHt9KSxyPWF3YWl0IGsuanNvbigpLHIucmVmcmVzaF90b2tlbj8oaCYmKG8ubGF0ZXN0X3JlZnJlc2hfdG9rZW49ci5yZWZyZXNoX3Rva2VuLE89YyxiPXIucmVmcmVzaF90b2tlbixPYmplY3QuZW50cmllcyhvKS5mb3JFYWNoKChlPT57bGV0W3Qscl09ZTtyPT09TyYmKG9bdF09Yil9KSkpLCgoZSx0LHIpPT57b1tuKHQscildPWV9KShyLnJlZnJlc2hfdG9rZW4sZyx5KSxkZWxldGUgci5yZWZyZXNoX3Rva2VuKTooKGUsdCk9PntkZWxldGUgb1tuKGUsdCldfSkoZyx5KSx1LnBvc3RNZXNzYWdlKHtvazprLm9rLGpzb246cixoZWFkZXJzOmR9KX1jYXRjaChlKXt1LnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcjplLmVycm9yLGVycm9yX2Rlc2NyaXB0aW9uOmUubWVzc2FnZX0saGVhZGVyczpkfSl9dmFyIE8sYixfLGp9KSl9KCk7Cgo=\",De=null,Ke=!1,function(e){return Le=Le||Ce(je,De,Ke),new Worker(Le,e)});const Ne={},We=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;for(let n=0;n<t;n++)if(await e())return!0;return!1};class He{constructor(e,t){this.cache=e,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}async add(e){var t;const n=new Set((null===(t=await this.cache.get(this.manifestKey))||void 0===t?void 0:t.keys)||[]);n.add(e),await this.cache.set(this.manifestKey,{keys:[...n]})}async remove(e){const t=await this.cache.get(this.manifestKey);if(t){const n=new Set(t.keys);return n.delete(e),n.size>0?await this.cache.set(this.manifestKey,{keys:[...n]}):await this.cache.remove(this.manifestKey)}}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(e){return\"\".concat(\"@@auth0spajs@@\",\"::\").concat(e)}}const ze={memory:()=>(new pe).enclosedCache,localstorage:()=>new he},Je=e=>ze[e],Me=t=>{const{openUrl:n,onRedirect:o}=t,r=e(t,[\"openUrl\",\"onRedirect\"]);return Object.assign(Object.assign({},r),{openUrl:!1===n||n?n:o})},Ve=(e,t)=>{const n=(null==t?void 0:t.split(\" \"))||[];return((null==e?void 0:e.split(\" \"))||[]).every((e=>n.includes(e)))},Ge={NONCE:\"nonce\",KEYPAIR:\"keypair\"};class Fe{constructor(e){this.clientId=e}getVersion(){return 1}createDbHandle(){const e=window.indexedDB.open(\"auth0-spa-js\",this.getVersion());return new Promise(((t,n)=>{e.onupgradeneeded=()=>Object.values(Ge).forEach((t=>e.result.createObjectStore(t))),e.onerror=()=>n(e.error),e.onsuccess=()=>t(e.result)}))}async getDbHandle(){return this.dbHandle||(this.dbHandle=await this.createDbHandle()),this.dbHandle}async executeDbRequest(e,t,n){const o=n((await this.getDbHandle()).transaction(e,t).objectStore(e));return new Promise(((e,t)=>{o.onsuccess=()=>e(o.result),o.onerror=()=>t(o.error)}))}buildKey(e){const t=e?\"_\".concat(e):\"auth0\";return\"\".concat(this.clientId,\"::\").concat(t)}setNonce(e,t){return this.save(Ge.NONCE,this.buildKey(t),e)}setKeyPair(e){return this.save(Ge.KEYPAIR,this.buildKey(),e)}async save(e,t,n){await this.executeDbRequest(e,\"readwrite\",(e=>e.put(n,t)))}findNonce(e){return this.find(Ge.NONCE,this.buildKey(e))}findKeyPair(){return this.find(Ge.KEYPAIR,this.buildKey())}find(e,t){return this.executeDbRequest(e,\"readonly\",(e=>e.get(t)))}async deleteBy(e,t){const n=await this.executeDbRequest(e,\"readonly\",(e=>e.getAllKeys()));null==n||n.filter(t).map((t=>this.executeDbRequest(e,\"readwrite\",(e=>e.delete(t)))))}deleteByClientId(e,t){return this.deleteBy(e,(e=>\"string\"==typeof e&&e.startsWith(\"\".concat(t,\"::\"))))}clearNonces(){return this.deleteByClientId(Ge.NONCE,this.clientId)}clearKeyPairs(){return this.deleteByClientId(Ge.KEYPAIR,this.clientId)}}class Ze{constructor(e){this.storage=new Fe(e)}getNonce(e){return this.storage.findNonce(e)}setNonce(e,t){return this.storage.setNonce(e,t)}async getOrGenerateKeyPair(){let e=await this.storage.findKeyPair();return e||(e=await $(),await this.storage.setKeyPair(e)),e}async generateProof(e){const t=await this.getOrGenerateKeyPair();return te(Object.assign({keyPair:t},e))}async calculateThumbprint(){return ee(await this.getOrGenerateKeyPair())}async clear(){await Promise.all([this.storage.clearNonces(),this.storage.clearKeyPairs()])}}var qe,Be,Xe;!function(e){e.Bearer=\"Bearer\",e.DPoP=\"DPoP\"}(qe||(qe={}));class Ye{constructor(e,t){this.hooks=t,this.config=Object.assign(Object.assign({},e),{fetch:e.fetch||(\"undefined\"==typeof window?fetch:window.fetch.bind(window))})}isAbsoluteUrl(e){return/^(https?:)?\\/\\//i.test(e)}buildUrl(e,t){if(t){if(this.isAbsoluteUrl(t))return t;if(e)return\"\".concat(e.replace(/\\/?\\/$/,\"\"),\"/\").concat(t.replace(/^\\/+/,\"\"))}throw new TypeError(\"`url` must be absolute or `baseUrl` non-empty.\")}getAccessToken(e){return this.config.getAccessToken?this.config.getAccessToken(e):this.hooks.getAccessToken(e)}extractUrl(e){return\"string\"==typeof e?e:e instanceof URL?e.href:e.url}buildBaseRequest(e,t){if(!this.config.baseUrl)return new Request(e,t);const n=this.buildUrl(this.config.baseUrl,this.extractUrl(e)),o=e instanceof Request?new Request(n,e):n;return new Request(o,t)}setAuthorizationHeader(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:qe.Bearer;e.headers.set(\"authorization\",\"\".concat(n,\" \").concat(t))}async setDpopProofHeader(e,t){if(!this.config.dpopNonceId)return;const n=await this.hooks.getDpopNonce(),o=await this.hooks.generateDpopProof({accessToken:t,method:e.method,nonce:n,url:e.url});e.headers.set(\"dpop\",o)}async prepareRequest(e,t){const n=await this.getAccessToken(t);let o,r;\"string\"==typeof n?(o=this.config.dpopNonceId?qe.DPoP:qe.Bearer,r=n):(o=n.token_type,r=n.access_token),this.setAuthorizationHeader(e,r,o),o===qe.DPoP&&await this.setDpopProofHeader(e,r)}getHeader(e,t){return Array.isArray(e)?new Headers(e).get(t)||\"\":\"function\"==typeof e.get?e.get(t)||\"\":e[t]||\"\"}hasUseDpopNonceError(e){if(401!==e.status)return!1;const t=this.getHeader(e.headers,\"www-authenticate\");return t.includes(\"invalid_dpop_nonce\")||t.includes(\"use_dpop_nonce\")}async handleResponse(e,t){const n=this.getHeader(e.headers,\"dpop-nonce\");if(n&&await this.hooks.setDpopNonce(n),!this.hasUseDpopNonceError(e))return e;if(!n||!t.onUseDpopNonceError)throw new P(n);return t.onUseDpopNonceError()}async internalFetchWithAuth(e,t,n,o){const r=this.buildBaseRequest(e,t);await this.prepareRequest(r,o);const i=await this.config.fetch(r);return this.handleResponse(i,n)}fetchWithAuth(e,t,n){const o={onUseDpopNonceError:()=>this.internalFetchWithAuth(e,t,Object.assign(Object.assign({},o),{onUseDpopNonceError:void 0}),n)};return this.internalFetchWithAuth(e,t,o,n)}}class Qe{constructor(e,t){this.myAccountFetcher=e,this.apiBase=t}async connectAccount(e){const t=await this.myAccountFetcher.fetchWithAuth(\"\".concat(this.apiBase,\"v1/connected-accounts/connect\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(e)});return this._handleResponse(t)}async completeAccount(e){const t=await this.myAccountFetcher.fetchWithAuth(\"\".concat(this.apiBase,\"v1/connected-accounts/complete\"),{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(e)});return this._handleResponse(t)}async _handleResponse(e){let t;try{t=await e.text(),t=JSON.parse(t)}catch(n){throw new $e({type:\"invalid_json\",status:e.status,title:\"Invalid JSON response\",detail:t||String(n)})}if(e.ok)return t;throw new $e(t)}}class $e extends Error{constructor(e){let{type:t,status:n,title:o,detail:r,validation_errors:i}=e;super(r),this.name=\"MyAccountApiError\",this.type=t,this.status=n,this.title=o,this.detail=r,this.validation_errors=i,Object.setPrototypeOf(this,$e.prototype)}}function et(e,t){this.v=e,this.k=t}function tt(e,t,n){if(\"function\"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError(\"Private element is not present on this object\")}function nt(e){return new et(e,0)}function ot(e,t){if(t.has(e))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function rt(e,t){return e.get(tt(e,t))}function it(e,t,n){ot(e,t),t.set(e,n)}function at(e,t,n){return e.set(tt(e,t),n),n}function st(e,t,n){return(t=function(e){var t=function(e,t){if(\"object\"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||\"default\");if(\"object\"!=typeof o)return o;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"==typeof t?t:t+\"\"}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){st(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e,t){if(null==e)return{};var n,o,r=function(e,t){if(null==e)return{};var n={};for(var o in e)if({}.hasOwnProperty.call(e,o)){if(-1!==t.indexOf(o))continue;n[o]=e[o]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function dt(e){return function(){return new ht(e.apply(this,arguments))}}function ht(e){var t,n;function o(t,n){try{var i=e[t](n),a=i.value,s=a instanceof et;Promise.resolve(s?a.v:a).then((function(n){if(s){var c=\"return\"===t?\"return\":\"next\";if(!a.k||n.done)return o(c,n);n=e[c](n).value}r(i.done?\"return\":\"normal\",n)}),(function(e){o(\"throw\",e)}))}catch(e){r(\"throw\",e)}}function r(e,r){switch(e){case\"return\":t.resolve({value:r,done:!0});break;case\"throw\":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?o(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(i,a){var s={key:e,arg:r,resolve:i,reject:a,next:null};n?n=n.next=s:(t=n=s,o(e,r))}))},\"function\"!=typeof e.return&&(this.return=void 0)}let pt;if(ht.prototype[\"function\"==typeof Symbol&&Symbol.asyncIterator||\"@@asyncIterator\"]=function(){return this},ht.prototype.next=function(e){return this._invoke(\"next\",e)},ht.prototype.throw=function(e){return this._invoke(\"throw\",e)},ht.prototype.return=function(e){return this._invoke(\"return\",e)},\"undefined\"==typeof navigator||null===(Be=navigator.userAgent)||void 0===Be||null===(Xe=Be.startsWith)||void 0===Xe||!Xe.call(Be,\"Mozilla/5.0 \")){const e=\"v3.8.3\";pt=\"\".concat(\"oauth4webapi\",\"/\").concat(e)}function ft(e,t){if(null==e)return!1;try{return e instanceof t||Object.getPrototypeOf(e)[Symbol.toStringTag]===t.prototype[Symbol.toStringTag]}catch(e){return!1}}function mt(e,t,n){const o=new TypeError(e,{cause:n});return Object.assign(o,{code:t}),o}const yt=Symbol(),wt=Symbol(),gt=Symbol(),vt=Symbol(),bt=Symbol(),_t=Symbol(),kt=new TextEncoder,St=new TextDecoder;function Et(e){return\"string\"==typeof e?kt.encode(e):St.decode(e)}let At,Tt;if(Uint8Array.prototype.toBase64)At=e=>(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),e.toBase64({alphabet:\"base64url\",omitPadding:!0}));else{const e=32768;At=t=>{t instanceof ArrayBuffer&&(t=new Uint8Array(t));const n=[];for(let o=0;o<t.byteLength;o+=e)n.push(String.fromCharCode.apply(null,t.subarray(o,o+e)));return btoa(n.join(\"\")).replace(/=/g,\"\").replace(/\\+/g,\"-\").replace(/\\//g,\"_\")}}function Pt(e){return\"string\"==typeof e?Tt(e):At(e)}Tt=Uint8Array.fromBase64?e=>{try{return Uint8Array.fromBase64(e,{alphabet:\"base64url\"})}catch(e){throw mt(\"The input to be decoded is not correctly encoded.\",\"ERR_INVALID_ARG_VALUE\",e)}}:e=>{try{const t=atob(e.replace(/-/g,\"+\").replace(/_/g,\"/\").replace(/\\s/g,\"\")),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}catch(e){throw mt(\"The input to be decoded is not correctly encoded.\",\"ERR_INVALID_ARG_VALUE\",e)}};class Rt extends Error{constructor(e,t){var n;super(e,t),st(this,\"code\",void 0),this.name=this.constructor.name,this.code=Rn,null===(n=Error.captureStackTrace)||void 0===n||n.call(Error,this,this.constructor)}}class It extends Error{constructor(e,t){var n;super(e,t),st(this,\"code\",void 0),this.name=this.constructor.name,null!=t&&t.code&&(this.code=null==t?void 0:t.code),null===(n=Error.captureStackTrace)||void 0===n||n.call(Error,this,this.constructor)}}function Ot(e,t,n){return new It(e,{code:t,cause:n})}function xt(e,t){if(function(e,t){if(!(e instanceof CryptoKey))throw mt(\"\".concat(t,\" must be a CryptoKey\"),\"ERR_INVALID_ARG_TYPE\")}(e,t),\"private\"!==e.type)throw mt(\"\".concat(t,\" must be a private CryptoKey\"),\"ERR_INVALID_ARG_VALUE\")}function Ct(e){return null!==e&&\"object\"==typeof e&&!Array.isArray(e)}function jt(e){ft(e,Headers)&&(e=Object.fromEntries(e.entries()));const t=new Headers(null!=e?e:{});if(pt&&!t.has(\"user-agent\")&&t.set(\"user-agent\",pt),t.has(\"authorization\"))throw mt('\"options.headers\" must not include the \"authorization\" header name',\"ERR_INVALID_ARG_VALUE\");return t}function Dt(e,t){if(void 0!==t){if(\"function\"==typeof t&&(t=t(e.href)),!(t instanceof AbortSignal))throw mt('\"options.signal\" must return or be an instance of AbortSignal',\"ERR_INVALID_ARG_TYPE\");return t}}function Kt(e){return e.includes(\"//\")?e.replace(\"//\",\"/\"):e}async function Lt(e,t){return async function(e,t,n,o){if(!(e instanceof URL))throw mt('\"'.concat(t,'\" must be an instance of URL'),\"ERR_INVALID_ARG_TYPE\");Xt(e,!0!==(null==o?void 0:o[yt]));const r=n(new URL(e.href)),i=jt(null==o?void 0:o.headers);return i.set(\"accept\",\"application/json\"),((null==o?void 0:o[vt])||fetch)(r.href,{body:void 0,headers:Object.fromEntries(i.entries()),method:\"GET\",redirect:\"manual\",signal:Dt(r,null==o?void 0:o.signal)})}(e,\"issuerIdentifier\",(e=>{switch(null==t?void 0:t.algorithm){case void 0:case\"oidc\":!function(e,t){e.pathname=Kt(\"\".concat(e.pathname,\"/\").concat(t))}(e,\".well-known/openid-configuration\");break;case\"oauth2\":!function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];\"/\"===e.pathname?e.pathname=t:e.pathname=Kt(\"\".concat(t,\"/\").concat(n?e.pathname:e.pathname.replace(/(\\/)$/,\"\")))}(e,\".well-known/oauth-authorization-server\");break;default:throw mt('\"options.algorithm\" must be \"oidc\" (default), or \"oauth2\"',\"ERR_INVALID_ARG_VALUE\")}return e}),t)}function Ut(e,t,n,o,r){try{if(\"number\"!=typeof e||!Number.isFinite(e))throw mt(\"\".concat(n,\" must be a number\"),\"ERR_INVALID_ARG_TYPE\",r);if(e>0)return;if(t){if(0!==e)throw mt(\"\".concat(n,\" must be a non-negative number\"),\"ERR_INVALID_ARG_VALUE\",r);return}throw mt(\"\".concat(n,\" must be a positive number\"),\"ERR_INVALID_ARG_VALUE\",r)}catch(e){if(o)throw Ot(e.message,o,r);throw e}}function Nt(e,t,n,o){try{if(\"string\"!=typeof e)throw mt(\"\".concat(t,\" must be a string\"),\"ERR_INVALID_ARG_TYPE\",o);if(0===e.length)throw mt(\"\".concat(t,\" must not be empty\"),\"ERR_INVALID_ARG_VALUE\",o)}catch(e){if(n)throw Ot(e.message,n,o);throw e}}function Wt(e){!function(e,t){if(ln(e)!==t)throw function(e){let t='\"response\" content-type must be ';for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];if(o.length>2){const e=o.pop();t+=\"\".concat(o.join(\", \"),\", or \").concat(e)}else 2===o.length?t+=\"\".concat(o[0],\" or \").concat(o[1]):t+=o[0];return Ot(t,Cn,e)}(e,t)}(e,\"application/json\")}function Ht(){return Pt(crypto.getRandomValues(new Uint8Array(32)))}function zt(e){switch(e.algorithm.name){case\"RSA-PSS\":return function(e){switch(e.algorithm.hash.name){case\"SHA-256\":return\"PS256\";case\"SHA-384\":return\"PS384\";case\"SHA-512\":return\"PS512\";default:throw new Rt(\"unsupported RsaHashedKeyAlgorithm hash name\",{cause:e})}}(e);case\"RSASSA-PKCS1-v1_5\":return function(e){switch(e.algorithm.hash.name){case\"SHA-256\":return\"RS256\";case\"SHA-384\":return\"RS384\";case\"SHA-512\":return\"RS512\";default:throw new Rt(\"unsupported RsaHashedKeyAlgorithm hash name\",{cause:e})}}(e);case\"ECDSA\":return function(e){switch(e.algorithm.namedCurve){case\"P-256\":return\"ES256\";case\"P-384\":return\"ES384\";case\"P-521\":return\"ES512\";default:throw new Rt(\"unsupported EcKeyAlgorithm namedCurve\",{cause:e})}}(e);case\"Ed25519\":case\"ML-DSA-44\":case\"ML-DSA-65\":case\"ML-DSA-87\":return e.algorithm.name;case\"EdDSA\":return\"Ed25519\";default:throw new Rt(\"unsupported CryptoKey algorithm name\",{cause:e})}}function Jt(e){const t=null==e?void 0:e[wt];return\"number\"==typeof t&&Number.isFinite(t)?t:0}function Mt(e){const t=null==e?void 0:e[gt];return\"number\"==typeof t&&Number.isFinite(t)&&-1!==Math.sign(t)?t:30}function Vt(){return Math.floor(Date.now()/1e3)}function Gt(e){if(\"object\"!=typeof e||null===e)throw mt('\"as\" must be an object',\"ERR_INVALID_ARG_TYPE\");Nt(e.issuer,'\"as.issuer\"')}function Ft(e){if(\"object\"!=typeof e||null===e)throw mt('\"client\" must be an object',\"ERR_INVALID_ARG_TYPE\");Nt(e.client_id,'\"client.client_id\"')}function Zt(e){return Nt(e,'\"clientSecret\"'),(t,n,o,r)=>{o.set(\"client_id\",n.client_id),o.set(\"client_secret\",e)}}function qt(e,t){const{key:n,kid:o}=(r=e)instanceof CryptoKey?{key:r}:(null==r?void 0:r.key)instanceof CryptoKey?(void 0!==r.kid&&Nt(r.kid,'\"kid\"'),{key:r.key,kid:r.kid}):{};var r;return xt(n,'\"clientPrivateKey.key\"'),async(e,r,i,a)=>{var s;const c={alg:zt(n),kid:o},u=function(e,t){const n=Vt()+Jt(t);return{jti:Ht(),aud:e.issuer,exp:n+60,iat:n,nbf:n,iss:t.client_id,sub:t.client_id}}(e,r);null==t||null===(s=t[bt])||void 0===s||s.call(t,c,u),i.set(\"client_id\",r.client_id),i.set(\"client_assertion_type\",\"urn:ietf:params:oauth:client-assertion-type:jwt-bearer\"),i.set(\"client_assertion\",await async function(e,t,n){if(!n.usages.includes(\"sign\"))throw mt('CryptoKey instances used for signing assertions must include \"sign\" in their \"usages\"',\"ERR_INVALID_ARG_VALUE\");const o=\"\".concat(Pt(Et(JSON.stringify(e))),\".\").concat(Pt(Et(JSON.stringify(t)))),r=Pt(await crypto.subtle.sign(function(e){switch(e.algorithm.name){case\"ECDSA\":return{name:e.algorithm.name,hash:Mn(e)};case\"RSA-PSS\":switch(Jn(e),e.algorithm.hash.name){case\"SHA-256\":case\"SHA-384\":case\"SHA-512\":return{name:e.algorithm.name,saltLength:parseInt(e.algorithm.hash.name.slice(-3),10)>>3};default:throw new Rt(\"unsupported RSA-PSS hash name\",{cause:e})}case\"RSASSA-PKCS1-v1_5\":return Jn(e),e.algorithm.name;case\"ML-DSA-44\":case\"ML-DSA-65\":case\"ML-DSA-87\":case\"Ed25519\":return e.algorithm.name}throw new Rt(\"unsupported CryptoKey algorithm name\",{cause:e})}(n),n,Et(o)));return\"\".concat(o,\".\").concat(r)}(c,u,n))}}const Bt=URL.parse?(e,t)=>URL.parse(e,t):(e,t)=>{try{return new URL(e,t)}catch(e){return null}};function Xt(e,t){if(t&&\"https:\"!==e.protocol)throw Ot(\"only requests to HTTPS are allowed\",Dn,e);if(\"https:\"!==e.protocol&&\"http:\"!==e.protocol)throw Ot(\"only HTTP and HTTPS requests are allowed\",Kn,e)}function Yt(e,t,n,o){let r;if(\"string\"!=typeof e||!(r=Bt(e)))throw Ot(\"authorization server metadata does not contain a valid \".concat(n?'\"as.mtls_endpoint_aliases.'.concat(t,'\"'):'\"as.'.concat(t,'\"')),void 0===e?Wn:Hn,{attribute:n?\"mtls_endpoint_aliases.\".concat(t):t});return Xt(r,o),r}function Qt(e,t,n,o){return n&&e.mtls_endpoint_aliases&&t in e.mtls_endpoint_aliases?Yt(e.mtls_endpoint_aliases[t],t,n,o):Yt(e[t],t,n,o)}class $t extends Error{constructor(e,t){var n;super(e,t),st(this,\"cause\",void 0),st(this,\"code\",void 0),st(this,\"error\",void 0),st(this,\"status\",void 0),st(this,\"error_description\",void 0),st(this,\"response\",void 0),this.name=this.constructor.name,this.code=Pn,this.cause=t.cause,this.error=t.cause.error,this.status=t.response.status,this.error_description=t.cause.error_description,Object.defineProperty(this,\"response\",{enumerable:!1,value:t.response}),null===(n=Error.captureStackTrace)||void 0===n||n.call(Error,this,this.constructor)}}class en extends Error{constructor(e,t){var n,o;super(e,t),st(this,\"cause\",void 0),st(this,\"code\",void 0),st(this,\"error\",void 0),st(this,\"error_description\",void 0),this.name=this.constructor.name,this.code=In,this.cause=t.cause,this.error=t.cause.get(\"error\"),this.error_description=null!==(n=t.cause.get(\"error_description\"))&&void 0!==n?n:void 0,null===(o=Error.captureStackTrace)||void 0===o||o.call(Error,this,this.constructor)}}class tn extends Error{constructor(e,t){var n;super(e,t),st(this,\"cause\",void 0),st(this,\"code\",void 0),st(this,\"response\",void 0),st(this,\"status\",void 0),this.name=this.constructor.name,this.code=Tn,this.cause=t.cause,this.status=t.response.status,this.response=t.response,Object.defineProperty(this,\"response\",{enumerable:!1}),null===(n=Error.captureStackTrace)||void 0===n||n.call(Error,this,this.constructor)}}const nn=\"[a-zA-Z0-9!#$%&\\\\'\\\\*\\\\+\\\\-\\\\.\\\\^_`\\\\|~]+\",on=new RegExp(\"^[,\\\\s]*(\"+nn+\")\"),rn=new RegExp('^[,\\\\s]*([a-zA-Z0-9!#$%&\\\\\\'\\\\*\\\\+\\\\-\\\\.\\\\^_`\\\\|~]+)\\\\s*=\\\\s*\"((?:[^\"\\\\\\\\]|\\\\\\\\[\\\\s\\\\S])*)\"[,\\\\s]*(.*)'),an=new RegExp(\"^[,\\\\s]*([a-zA-Z0-9!#$%&\\\\'\\\\*\\\\+\\\\-\\\\.\\\\^_`\\\\|~]+)\\\\s*=\\\\s*([a-zA-Z0-9!#$%&\\\\'\\\\*\\\\+\\\\-\\\\.\\\\^_`\\\\|~]+)[,\\\\s]*(.*)\"),sn=new RegExp(\"^([a-zA-Z0-9\\\\-\\\\._\\\\~\\\\+\\\\/]+={0,2})(?:$|[,\\\\s])(.*)\");async function cn(e,t,n){if(e.status!==t){let t;var o;if(function(e){let t;if(t=function(e){if(!ft(e,Response))throw mt('\"response\" must be an instance of Response',\"ERR_INVALID_ARG_TYPE\");const t=e.headers.get(\"www-authenticate\");if(null===t)return;const n=[];let o=t;for(;o;){var r;let e=o.match(on);const t=null===(r=e)||void 0===r?void 0:r[1].toLowerCase();if(!t)return;const i=o.substring(e[0].length);if(i&&!i.match(/^[\\s,]/))return;const a=i.match(/^\\s+(.*)$/),s=!!a;o=a?a[1]:void 0;const c={};let u;if(s)for(;o;){let t,n;if(e=o.match(rn)){if([,t,n,o]=e,n.includes(\"\\\\\"))try{n=JSON.parse('\"'.concat(n,'\"'))}catch(e){}c[t.toLowerCase()]=n}else{if(!(e=o.match(an))){if(e=o.match(sn)){if(Object.keys(c).length)break;[,u,o]=e;break}return}[,t,n,o]=e,c[t.toLowerCase()]=n}}else o=i||void 0;const l={scheme:t,parameters:c};u&&(l.token68=u),n.push(l)}return n.length?n:void 0}(e))throw new tn(\"server responded with a challenge in the WWW-Authenticate HTTP Header\",{cause:t,response:e})}(e),t=await async function(e){if(e.status>399&&e.status<500){zn(e),Wt(e);try{const t=await e.clone().json();if(Ct(t)&&\"string\"==typeof t.error&&t.error.length)return t}catch(e){}}}(e))throw await(null===(o=e.body)||void 0===o?void 0:o.cancel()),new $t(\"server responded with an error in the response body\",{cause:t,response:e});throw Ot('\"response\" is not a conform '.concat(n,\" response (unexpected HTTP status code)\"),jn,e)}}function un(e){if(!vn.has(e))throw mt('\"options.DPoP\" is not a valid DPoPHandle',\"ERR_INVALID_ARG_VALUE\")}function ln(e){var t;return null===(t=e.headers.get(\"content-type\"))||void 0===t?void 0:t.split(\";\")[0]}async function dn(e,t,n,o,r,i,a){return await n(e,t,r,i),i.set(\"content-type\",\"application/x-www-form-urlencoded;charset=UTF-8\"),((null==a?void 0:a[vt])||fetch)(o.href,{body:r,headers:Object.fromEntries(i.entries()),method:\"POST\",redirect:\"manual\",signal:Dt(o,null==a?void 0:a.signal)})}async function hn(e,t,n,o,r,i){var a;const s=Qt(e,\"token_endpoint\",t.use_mtls_endpoint_aliases,!0!==(null==i?void 0:i[yt]));r.set(\"grant_type\",o);const c=jt(null==i?void 0:i.headers);c.set(\"accept\",\"application/json\"),void 0!==(null==i?void 0:i.DPoP)&&(un(i.DPoP),await i.DPoP.addProof(s,c,\"POST\"));const u=await dn(e,t,n,s,r,c,i);return null==i||null===(a=i.DPoP)||void 0===a||a.cacheNonce(u,s),u}const pn=new WeakMap,fn=new WeakMap;function mn(e){if(!e.id_token)return;const t=pn.get(e);if(!t)throw mt('\"ref\" was already garbage collected or did not resolve from the proper sources',\"ERR_INVALID_ARG_VALUE\");return t}async function yn(e,t,n,o,r,i){if(Gt(e),Ft(t),!ft(n,Response))throw mt('\"response\" must be an instance of Response',\"ERR_INVALID_ARG_TYPE\");await cn(n,200,\"Token Endpoint\"),zn(n);const a=await Xn(n);if(Nt(a.access_token,'\"response\" body \"access_token\" property',xn,{body:a}),Nt(a.token_type,'\"response\" body \"token_type\" property',xn,{body:a}),a.token_type=a.token_type.toLowerCase(),void 0!==a.expires_in){let e=\"number\"!=typeof a.expires_in?parseFloat(a.expires_in):a.expires_in;Ut(e,!0,'\"response\" body \"expires_in\" property',xn,{body:a}),a.expires_in=e}if(void 0!==a.refresh_token&&Nt(a.refresh_token,'\"response\" body \"refresh_token\" property',xn,{body:a}),void 0!==a.scope&&\"string\"!=typeof a.scope)throw Ot('\"response\" body \"scope\" property must be a string',xn,{body:a});if(void 0!==a.id_token){Nt(a.id_token,'\"response\" body \"id_token\" property',xn,{body:a});const i=[\"aud\",\"exp\",\"iat\",\"iss\",\"sub\"];!0===t.require_auth_time&&i.push(\"auth_time\"),void 0!==t.default_max_age&&(Ut(t.default_max_age,!0,'\"client.default_max_age\"'),i.push(\"auth_time\")),null!=o&&o.length&&i.push(...o);const{claims:s,jwt:c}=await async function(e,t,n,o,r){let i,a,{0:s,1:c,length:u}=e.split(\".\");if(5===u){if(void 0===r)throw new Rt(\"JWE decryption is not configured\",{cause:e});e=await r(e),({0:s,1:c,length:u}=e.split(\".\"))}if(3!==u)throw Ot(\"Invalid JWT\",xn,e);try{i=JSON.parse(Et(Pt(s)))}catch(e){throw Ot(\"failed to parse JWT Header body as base64url encoded JSON\",On,e)}if(!Ct(i))throw Ot(\"JWT Header must be a top level object\",xn,e);if(t(i),void 0!==i.crit)throw new Rt('no JWT \"crit\" header parameter extensions are supported',{cause:{header:i}});try{a=JSON.parse(Et(Pt(c)))}catch(e){throw Ot(\"failed to parse JWT Payload body as base64url encoded JSON\",On,e)}if(!Ct(a))throw Ot(\"JWT Payload must be a top level object\",xn,e);const l=Vt()+n;if(void 0!==a.exp){if(\"number\"!=typeof a.exp)throw Ot('unexpected JWT \"exp\" (expiration time) claim type',xn,{claims:a});if(a.exp<=l-o)throw Ot('unexpected JWT \"exp\" (expiration time) claim value, expiration is past current timestamp',Ln,{claims:a,now:l,tolerance:o,claim:\"exp\"})}if(void 0!==a.iat&&\"number\"!=typeof a.iat)throw Ot('unexpected JWT \"iat\" (issued at) claim type',xn,{claims:a});if(void 0!==a.iss&&\"string\"!=typeof a.iss)throw Ot('unexpected JWT \"iss\" (issuer) claim type',xn,{claims:a});if(void 0!==a.nbf){if(\"number\"!=typeof a.nbf)throw Ot('unexpected JWT \"nbf\" (not before) claim type',xn,{claims:a});if(a.nbf>l+o)throw Ot('unexpected JWT \"nbf\" (not before) claim value',Ln,{claims:a,now:l,tolerance:o,claim:\"nbf\"})}if(void 0!==a.aud&&\"string\"!=typeof a.aud&&!Array.isArray(a.aud))throw Ot('unexpected JWT \"aud\" (audience) claim type',xn,{claims:a});return{header:i,claims:a,jwt:e}}(a.id_token,Gn.bind(void 0,t.id_token_signed_response_alg,e.id_token_signing_alg_values_supported,\"RS256\"),Jt(t),Mt(t),r).then(kn.bind(void 0,i)).then(gn.bind(void 0,e)).then(wn.bind(void 0,t.client_id));if(Array.isArray(s.aud)&&1!==s.aud.length){if(void 0===s.azp)throw Ot('ID Token \"aud\" (audience) claim includes additional untrusted audiences',Un,{claims:s,claim:\"aud\"});if(s.azp!==t.client_id)throw Ot('unexpected ID Token \"azp\" (authorized party) claim value',Un,{expected:t.client_id,claims:s,claim:\"azp\"})}void 0!==s.auth_time&&Ut(s.auth_time,!0,'ID Token \"auth_time\" (authentication time)',xn,{claims:s}),fn.set(n,c),pn.set(a,s)}if(void 0!==(null==i?void 0:i[a.token_type]))i[a.token_type](n,a);else if(\"dpop\"!==a.token_type&&\"bearer\"!==a.token_type)throw new Rt(\"unsupported `token_type` value\",{cause:{body:a}});return a}function wn(e,t){if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e))throw Ot('unexpected JWT \"aud\" (audience) claim value',Un,{expected:e,claims:t.claims,claim:\"aud\"})}else if(t.claims.aud!==e)throw Ot('unexpected JWT \"aud\" (audience) claim value',Un,{expected:e,claims:t.claims,claim:\"aud\"});return t}function gn(e,t){var n,o;const r=null!==(n=null===(o=e[Qn])||void 0===o?void 0:o.call(e,t))&&void 0!==n?n:e.issuer;if(t.claims.iss!==r)throw Ot('unexpected JWT \"iss\" (issuer) claim value',Un,{expected:r,claims:t.claims,claim:\"iss\"});return t}const vn=new WeakSet;const bn=Symbol();const _n={aud:\"audience\",c_hash:\"code hash\",client_id:\"client id\",exp:\"expiration time\",iat:\"issued at\",iss:\"issuer\",jti:\"jwt id\",nonce:\"nonce\",s_hash:\"state hash\",sub:\"subject\",ath:\"access token hash\",htm:\"http method\",htu:\"http uri\",cnf:\"confirmation\",auth_time:\"authentication time\"};function kn(e,t){for(const n of e)if(void 0===t.claims[n])throw Ot('JWT \"'.concat(n,'\" (').concat(_n[n],\") claim missing\"),xn,{claims:t.claims});return t}const Sn=Symbol(),En=Symbol();async function An(e,t,n,o){return\"string\"==typeof(null==o?void 0:o.expectedNonce)||\"number\"==typeof(null==o?void 0:o.maxAge)||null!=o&&o.requireIdToken?async function(e,t,n,o,r,i,a){const s=[];switch(o){case void 0:o=Sn;break;case Sn:break;default:Nt(o,'\"expectedNonce\" argument'),s.push(\"nonce\")}switch(null!=r||(r=t.default_max_age),r){case void 0:r=En;break;case En:break;default:Ut(r,!0,'\"maxAge\" argument'),s.push(\"auth_time\")}const c=await yn(e,t,n,s,i,a);Nt(c.id_token,'\"response\" body \"id_token\" property',xn,{body:c});const u=mn(c);if(r!==En){const e=Vt()+Jt(t),n=Mt(t);if(u.auth_time+r<e-n)throw Ot(\"too much time has elapsed since the last End-User authentication\",Ln,{claims:u,now:e,tolerance:n,claim:\"auth_time\"})}if(o===Sn){if(void 0!==u.nonce)throw Ot('unexpected ID Token \"nonce\" claim value',Un,{expected:void 0,claims:u,claim:\"nonce\"})}else if(u.nonce!==o)throw Ot('unexpected ID Token \"nonce\" claim value',Un,{expected:o,claims:u,claim:\"nonce\"});return c}(e,t,n,o.expectedNonce,o.maxAge,o[_t],o.recognizedTokenTypes):async function(e,t,n,o,r){const i=await yn(e,t,n,void 0,o,r),a=mn(i);if(a){if(void 0!==t.default_max_age){Ut(t.default_max_age,!0,'\"client.default_max_age\"');const e=Vt()+Jt(t),n=Mt(t);if(a.auth_time+t.default_max_age<e-n)throw Ot(\"too much time has elapsed since the last End-User authentication\",Ln,{claims:a,now:e,tolerance:n,claim:\"auth_time\"})}if(void 0!==a.nonce)throw Ot('unexpected ID Token \"nonce\" claim value',Un,{expected:void 0,claims:a,claim:\"nonce\"})}return i}(e,t,n,null==o?void 0:o[_t],null==o?void 0:o.recognizedTokenTypes)}const Tn=\"OAUTH_WWW_AUTHENTICATE_CHALLENGE\",Pn=\"OAUTH_RESPONSE_BODY_ERROR\",Rn=\"OAUTH_UNSUPPORTED_OPERATION\",In=\"OAUTH_AUTHORIZATION_RESPONSE_ERROR\",On=\"OAUTH_PARSE_ERROR\",xn=\"OAUTH_INVALID_RESPONSE\",Cn=\"OAUTH_RESPONSE_IS_NOT_JSON\",jn=\"OAUTH_RESPONSE_IS_NOT_CONFORM\",Dn=\"OAUTH_HTTP_REQUEST_FORBIDDEN\",Kn=\"OAUTH_REQUEST_PROTOCOL_FORBIDDEN\",Ln=\"OAUTH_JWT_TIMESTAMP_CHECK_FAILED\",Un=\"OAUTH_JWT_CLAIM_COMPARISON_FAILED\",Nn=\"OAUTH_JSON_ATTRIBUTE_COMPARISON_FAILED\",Wn=\"OAUTH_MISSING_SERVER_METADATA\",Hn=\"OAUTH_INVALID_SERVER_METADATA\";function zn(e){if(e.bodyUsed)throw mt('\"response\" body has been used already',\"ERR_INVALID_ARG_VALUE\")}function Jn(e){const{algorithm:t}=e;if(\"number\"!=typeof t.modulusLength||t.modulusLength<2048)throw new Rt(\"unsupported \".concat(t.name,\" modulusLength\"),{cause:e})}function Mn(e){const{algorithm:t}=e;switch(t.namedCurve){case\"P-256\":return\"SHA-256\";case\"P-384\":return\"SHA-384\";case\"P-521\":return\"SHA-512\";default:throw new Rt(\"unsupported ECDSA namedCurve\",{cause:e})}}async function Vn(e){if(\"POST\"!==e.method)throw mt(\"form_post responses are expected to use the POST method\",\"ERR_INVALID_ARG_VALUE\",{cause:e});if(\"application/x-www-form-urlencoded\"!==ln(e))throw mt(\"form_post responses are expected to use the application/x-www-form-urlencoded content-type\",\"ERR_INVALID_ARG_VALUE\",{cause:e});return async function(e){if(e.bodyUsed)throw mt(\"form_post Request instances must contain a readable body\",\"ERR_INVALID_ARG_VALUE\",{cause:e});return e.text()}(e)}function Gn(e,t,n,o){if(void 0===e)if(Array.isArray(t)){if(!t.includes(o.alg))throw Ot('unexpected JWT \"alg\" header parameter',xn,{header:o,expected:t,reason:\"authorization server metadata\"})}else{if(void 0===n)throw Ot('missing client or server configuration to verify used JWT \"alg\" header parameter',void 0,{client:e,issuer:t,fallback:n});if(\"string\"==typeof n?o.alg!==n:\"function\"==typeof n?!n(o.alg):!n.includes(o.alg))throw Ot('unexpected JWT \"alg\" header parameter',xn,{header:o,expected:n,reason:\"default value\"})}else if(\"string\"==typeof e?o.alg!==e:!e.includes(o.alg))throw Ot('unexpected JWT \"alg\" header parameter',xn,{header:o,expected:e,reason:\"client configuration\"})}function Fn(e,t){const{0:n,length:o}=e.getAll(t);if(o>1)throw Ot('\"'.concat(t,'\" parameter must be provided only once'),xn);return n}const Zn=Symbol(),qn=Symbol();function Bn(e,t,n,o){if(Gt(e),Ft(t),n instanceof URL&&(n=n.searchParams),!(n instanceof URLSearchParams))throw mt('\"parameters\" must be an instance of URLSearchParams, or URL',\"ERR_INVALID_ARG_TYPE\");if(Fn(n,\"response\"))throw Ot('\"parameters\" contains a JARM response, use validateJwtAuthResponse() instead of validateAuthResponse()',xn,{parameters:n});const r=Fn(n,\"iss\"),i=Fn(n,\"state\");if(!r&&e.authorization_response_iss_parameter_supported)throw Ot('response parameter \"iss\" (issuer) missing',xn,{parameters:n});if(r&&r!==e.issuer)throw Ot('unexpected \"iss\" (issuer) response parameter value',xn,{expected:e.issuer,parameters:n});switch(o){case void 0:case qn:if(void 0!==i)throw Ot('unexpected \"state\" response parameter encountered',xn,{expected:void 0,parameters:n});break;case Zn:break;default:if(Nt(o,'\"expectedState\" argument'),i!==o)throw Ot(void 0===i?'response parameter \"state\" missing':'unexpected \"state\" response parameter value',xn,{expected:o,parameters:n})}if(Fn(n,\"error\"))throw new en(\"authorization response from the server is an error\",{cause:n});const a=Fn(n,\"id_token\"),s=Fn(n,\"token\");if(void 0!==a||void 0!==s)throw new Rt(\"implicit and hybrid flows are not supported\");return c=new URLSearchParams(n),vn.add(c),c;var c}async function Xn(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Wt;try{t=await e.json()}catch(t){throw n(e),Ot('failed to parse \"response\" body as JSON',On,t)}if(!Ct(t))throw Ot('\"response\" body must be a top level object',xn,{body:t});return t}const Yn=Symbol(),Qn=Symbol(),$n=new TextEncoder,eo=new TextDecoder;function to(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++){const o=e.charCodeAt(n);if(o>127)throw new TypeError(\"non-ASCII string encountered in encode()\");t[n]=o}return t}function no(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(e);const t=atob(e),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)n[e]=t.charCodeAt(e);return n}function oo(e){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(\"string\"==typeof e?e:eo.decode(e),{alphabet:\"base64url\"});let t=e;t instanceof Uint8Array&&(t=eo.decode(t)),t=t.replace(/-/g,\"+\").replace(/_/g,\"/\");try{return no(t)}catch(e){throw new TypeError(\"The input to be decoded is not correctly encoded.\")}}class ro extends Error{constructor(e,t){var n;super(e,t),st(this,\"code\",\"ERR_JOSE_GENERIC\"),this.name=this.constructor.name,null===(n=Error.captureStackTrace)||void 0===n||n.call(Error,this,this.constructor)}}st(ro,\"code\",\"ERR_JOSE_GENERIC\");class io extends ro{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"unspecified\",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"unspecified\";super(e,{cause:{claim:n,reason:o,payload:t}}),st(this,\"code\",\"ERR_JWT_CLAIM_VALIDATION_FAILED\"),st(this,\"claim\",void 0),st(this,\"reason\",void 0),st(this,\"payload\",void 0),this.claim=n,this.reason=o,this.payload=t}}st(io,\"code\",\"ERR_JWT_CLAIM_VALIDATION_FAILED\");class ao extends ro{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:\"unspecified\",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:\"unspecified\";super(e,{cause:{claim:n,reason:o,payload:t}}),st(this,\"code\",\"ERR_JWT_EXPIRED\"),st(this,\"claim\",void 0),st(this,\"reason\",void 0),st(this,\"payload\",void 0),this.claim=n,this.reason=o,this.payload=t}}st(ao,\"code\",\"ERR_JWT_EXPIRED\");class so extends ro{constructor(){super(...arguments),st(this,\"code\",\"ERR_JOSE_ALG_NOT_ALLOWED\")}}st(so,\"code\",\"ERR_JOSE_ALG_NOT_ALLOWED\");class co extends ro{constructor(){super(...arguments),st(this,\"code\",\"ERR_JOSE_NOT_SUPPORTED\")}}st(co,\"code\",\"ERR_JOSE_NOT_SUPPORTED\");st(class extends ro{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"decryption operation failed\",arguments.length>1?arguments[1]:void 0),st(this,\"code\",\"ERR_JWE_DECRYPTION_FAILED\")}},\"code\",\"ERR_JWE_DECRYPTION_FAILED\");st(class extends ro{constructor(){super(...arguments),st(this,\"code\",\"ERR_JWE_INVALID\")}},\"code\",\"ERR_JWE_INVALID\");class uo extends ro{constructor(){super(...arguments),st(this,\"code\",\"ERR_JWS_INVALID\")}}st(uo,\"code\",\"ERR_JWS_INVALID\");class lo extends ro{constructor(){super(...arguments),st(this,\"code\",\"ERR_JWT_INVALID\")}}st(lo,\"code\",\"ERR_JWT_INVALID\");st(class extends ro{constructor(){super(...arguments),st(this,\"code\",\"ERR_JWK_INVALID\")}},\"code\",\"ERR_JWK_INVALID\");class ho extends ro{constructor(){super(...arguments),st(this,\"code\",\"ERR_JWKS_INVALID\")}}st(ho,\"code\",\"ERR_JWKS_INVALID\");class po extends ro{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"no applicable key found in the JSON Web Key Set\",arguments.length>1?arguments[1]:void 0),st(this,\"code\",\"ERR_JWKS_NO_MATCHING_KEY\")}}st(po,\"code\",\"ERR_JWKS_NO_MATCHING_KEY\");class fo extends ro{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"multiple matching keys found in the JSON Web Key Set\",arguments.length>1?arguments[1]:void 0),st(this,Symbol.asyncIterator,void 0),st(this,\"code\",\"ERR_JWKS_MULTIPLE_MATCHING_KEYS\")}}st(fo,\"code\",\"ERR_JWKS_MULTIPLE_MATCHING_KEYS\");class mo extends ro{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"request timed out\",arguments.length>1?arguments[1]:void 0),st(this,\"code\",\"ERR_JWKS_TIMEOUT\")}}st(mo,\"code\",\"ERR_JWKS_TIMEOUT\");class yo extends ro{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"signature verification failed\",arguments.length>1?arguments[1]:void 0),st(this,\"code\",\"ERR_JWS_SIGNATURE_VERIFICATION_FAILED\")}}st(yo,\"code\",\"ERR_JWS_SIGNATURE_VERIFICATION_FAILED\");const wo=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"algorithm.name\";return new TypeError(\"CryptoKey does not support this operation, its \".concat(t,\" must be \").concat(e))},go=(e,t)=>e.name===t;function vo(e){return parseInt(e.name.slice(4),10)}function bo(e,t,n){switch(t){case\"HS256\":case\"HS384\":case\"HS512\":{if(!go(e.algorithm,\"HMAC\"))throw wo(\"HMAC\");const n=parseInt(t.slice(2),10);if(vo(e.algorithm.hash)!==n)throw wo(\"SHA-\".concat(n),\"algorithm.hash\");break}case\"RS256\":case\"RS384\":case\"RS512\":{if(!go(e.algorithm,\"RSASSA-PKCS1-v1_5\"))throw wo(\"RSASSA-PKCS1-v1_5\");const n=parseInt(t.slice(2),10);if(vo(e.algorithm.hash)!==n)throw wo(\"SHA-\".concat(n),\"algorithm.hash\");break}case\"PS256\":case\"PS384\":case\"PS512\":{if(!go(e.algorithm,\"RSA-PSS\"))throw wo(\"RSA-PSS\");const n=parseInt(t.slice(2),10);if(vo(e.algorithm.hash)!==n)throw wo(\"SHA-\".concat(n),\"algorithm.hash\");break}case\"Ed25519\":case\"EdDSA\":if(!go(e.algorithm,\"Ed25519\"))throw wo(\"Ed25519\");break;case\"ML-DSA-44\":case\"ML-DSA-65\":case\"ML-DSA-87\":if(!go(e.algorithm,t))throw wo(t);break;case\"ES256\":case\"ES384\":case\"ES512\":{if(!go(e.algorithm,\"ECDSA\"))throw wo(\"ECDSA\");const n=function(e){switch(e){case\"ES256\":return\"P-256\";case\"ES384\":return\"P-384\";case\"ES512\":return\"P-521\";default:throw new Error(\"unreachable\")}}(t);if(e.algorithm.namedCurve!==n)throw wo(n,\"algorithm.namedCurve\");break}default:throw new TypeError(\"CryptoKey does not support this operation\")}!function(e,t){if(t&&!e.usages.includes(t))throw new TypeError(\"CryptoKey does not support this operation, its usages must include \".concat(t,\".\"))}(e,n)}function _o(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];if((o=o.filter(Boolean)).length>2){const t=o.pop();e+=\"one of type \".concat(o.join(\", \"),\", or \").concat(t,\".\")}else 2===o.length?e+=\"one of type \".concat(o[0],\" or \").concat(o[1],\".\"):e+=\"of type \".concat(o[0],\".\");if(null==t)e+=\" Received \".concat(t);else if(\"function\"==typeof t&&t.name)e+=\" Received function \".concat(t.name);else if(\"object\"==typeof t&&null!=t){var i;null!==(i=t.constructor)&&void 0!==i&&i.name&&(e+=\" Received an instance of \".concat(t.constructor.name))}return e}const ko=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];return _o(\"Key for the \".concat(e,\" algorithm must be \"),t,...o)},So=e=>{if(\"CryptoKey\"===(null==e?void 0:e[Symbol.toStringTag]))return!0;try{return e instanceof CryptoKey}catch(e){return!1}},Eo=e=>\"KeyObject\"===(null==e?void 0:e[Symbol.toStringTag]),Ao=e=>So(e)||Eo(e);function To(e){if(\"object\"!=typeof(t=e)||null===t||\"[object Object]\"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;let n=e;for(;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}const Po=(e,t)=>{if(e.byteLength!==t.length)return!1;for(let n=0;n<e.byteLength;n++)if(e[n]!==t[n])return!1;return!0},Ro=e=>{const t=e.data[e.pos++];if(128&t){const n=127&t;let o=0;for(let t=0;t<n;t++)o=o<<8|e.data[e.pos++];return o}return t},Io=(e,t,n)=>{if(e.data[e.pos++]!==t)throw new Error(n)},Oo=(e,t)=>{const n=e.data.subarray(e.pos,e.pos+t);return e.pos+=t,n};const xo=e=>{const t=(e=>{Io(e,6,\"Expected algorithm OID\");const t=Ro(e);return Oo(e,t)})(e);if(Po(t,[43,101,110]))return\"X25519\";if(!Po(t,[42,134,72,206,61,2,1]))throw new Error(\"Unsupported key algorithm\");Io(e,6,\"Expected curve OID\");const n=Ro(e),o=Oo(e,n);for(const{name:e,oid:t}of[{name:\"P-256\",oid:[42,134,72,206,61,3,1,7]},{name:\"P-384\",oid:[43,129,4,0,34]},{name:\"P-521\",oid:[43,129,4,0,35]}])if(Po(o,t))return e;throw new Error(\"Unsupported named curve\")},Co=async(e,t,n,o)=>{var r;let i,a;const s=\"spki\"===e,c=()=>s?[\"verify\"]:[\"sign\"];switch(n){case\"PS256\":case\"PS384\":case\"PS512\":i={name:\"RSA-PSS\",hash:\"SHA-\".concat(n.slice(-3))},a=c();break;case\"RS256\":case\"RS384\":case\"RS512\":i={name:\"RSASSA-PKCS1-v1_5\",hash:\"SHA-\".concat(n.slice(-3))},a=c();break;case\"RSA-OAEP\":case\"RSA-OAEP-256\":case\"RSA-OAEP-384\":case\"RSA-OAEP-512\":i={name:\"RSA-OAEP\",hash:\"SHA-\".concat(parseInt(n.slice(-3),10)||1)},a=s?[\"encrypt\",\"wrapKey\"]:[\"decrypt\",\"unwrapKey\"];break;case\"ES256\":case\"ES384\":case\"ES512\":i={name:\"ECDSA\",namedCurve:{ES256:\"P-256\",ES384:\"P-384\",ES512:\"P-521\"}[n]},a=c();break;case\"ECDH-ES\":case\"ECDH-ES+A128KW\":case\"ECDH-ES+A192KW\":case\"ECDH-ES+A256KW\":try{const e=o.getNamedCurve(t);i=\"X25519\"===e?{name:\"X25519\"}:{name:\"ECDH\",namedCurve:e}}catch(e){throw new co(\"Invalid or unsupported key format\")}a=s?[]:[\"deriveBits\"];break;case\"Ed25519\":case\"EdDSA\":i={name:\"Ed25519\"},a=c();break;case\"ML-DSA-44\":case\"ML-DSA-65\":case\"ML-DSA-87\":i={name:n},a=c();break;default:throw new co('Invalid or unsupported \"alg\" (Algorithm) value')}return crypto.subtle.importKey(e,t,i,null!==(r=null==o?void 0:o.extractable)&&void 0!==r?r:!!s,a)},jo=(e,t,n)=>{var o;const r=((e,t)=>no(e.replace(t,\"\")))(e,/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\\s)/g);let i=n;return null!=t&&null!==(o=t.startsWith)&&void 0!==o&&o.call(t,\"ECDH-ES\")&&(i||(i={}),i.getNamedCurve=e=>{const t={data:e,pos:0};return function(e){Io(e,48,\"Invalid PKCS#8 structure\"),Ro(e),Io(e,2,\"Expected version field\");const t=Ro(e);e.pos+=t,Io(e,48,\"Expected algorithm identifier\");const n=Ro(e);e.pos}(t),xo(t)}),Co(\"pkcs8\",r,t,i)};async function Do(e){var t,n;if(!e.alg)throw new TypeError('\"alg\" argument is required when \"jwk.alg\" is not present');const{algorithm:o,keyUsages:r}=function(e){let t,n;switch(e.kty){case\"AKP\":switch(e.alg){case\"ML-DSA-44\":case\"ML-DSA-65\":case\"ML-DSA-87\":t={name:e.alg},n=e.priv?[\"sign\"]:[\"verify\"];break;default:throw new co('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value')}break;case\"RSA\":switch(e.alg){case\"PS256\":case\"PS384\":case\"PS512\":t={name:\"RSA-PSS\",hash:\"SHA-\".concat(e.alg.slice(-3))},n=e.d?[\"sign\"]:[\"verify\"];break;case\"RS256\":case\"RS384\":case\"RS512\":t={name:\"RSASSA-PKCS1-v1_5\",hash:\"SHA-\".concat(e.alg.slice(-3))},n=e.d?[\"sign\"]:[\"verify\"];break;case\"RSA-OAEP\":case\"RSA-OAEP-256\":case\"RSA-OAEP-384\":case\"RSA-OAEP-512\":t={name:\"RSA-OAEP\",hash:\"SHA-\".concat(parseInt(e.alg.slice(-3),10)||1)},n=e.d?[\"decrypt\",\"unwrapKey\"]:[\"encrypt\",\"wrapKey\"];break;default:throw new co('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value')}break;case\"EC\":switch(e.alg){case\"ES256\":t={name:\"ECDSA\",namedCurve:\"P-256\"},n=e.d?[\"sign\"]:[\"verify\"];break;case\"ES384\":t={name:\"ECDSA\",namedCurve:\"P-384\"},n=e.d?[\"sign\"]:[\"verify\"];break;case\"ES512\":t={name:\"ECDSA\",namedCurve:\"P-521\"},n=e.d?[\"sign\"]:[\"verify\"];break;case\"ECDH-ES\":case\"ECDH-ES+A128KW\":case\"ECDH-ES+A192KW\":case\"ECDH-ES+A256KW\":t={name:\"ECDH\",namedCurve:e.crv},n=e.d?[\"deriveBits\"]:[];break;default:throw new co('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value')}break;case\"OKP\":switch(e.alg){case\"Ed25519\":case\"EdDSA\":t={name:\"Ed25519\"},n=e.d?[\"sign\"]:[\"verify\"];break;case\"ECDH-ES\":case\"ECDH-ES+A128KW\":case\"ECDH-ES+A192KW\":case\"ECDH-ES+A256KW\":t={name:e.crv},n=e.d?[\"deriveBits\"]:[];break;default:throw new co('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value')}break;default:throw new co('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}(e),i=ut({},e);return\"AKP\"!==i.kty&&delete i.alg,delete i.use,crypto.subtle.importKey(\"jwk\",i,o,null!==(t=e.ext)&&void 0!==t?t:!e.d&&!e.priv,null!==(n=e.key_ops)&&void 0!==n?n:r)}const Ko=e=>To(e)&&\"string\"==typeof e.kty;let Lo;const Uo=async function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];Lo||(Lo=new WeakMap);let r=Lo.get(e);if(null!=r&&r[n])return r[n];const i=await Do(ut(ut({},t),{},{alg:n}));return o&&Object.freeze(e),r?r[n]=i:Lo.set(e,{[n]:i}),i};async function No(e,t){if(e instanceof Uint8Array)return e;if(So(e))return e;if(Eo(e)){if(\"secret\"===e.type)return e.export();if(\"toCryptoKey\"in e&&\"function\"==typeof e.toCryptoKey)try{return((e,t)=>{Lo||(Lo=new WeakMap);let n=Lo.get(e);if(null!=n&&n[t])return n[t];const o=\"public\"===e.type,r=!!o;let i;if(\"x25519\"===e.asymmetricKeyType){switch(t){case\"ECDH-ES\":case\"ECDH-ES+A128KW\":case\"ECDH-ES+A192KW\":case\"ECDH-ES+A256KW\":break;default:throw new TypeError(\"given KeyObject instance cannot be used for this algorithm\")}i=e.toCryptoKey(e.asymmetricKeyType,r,o?[]:[\"deriveBits\"])}if(\"ed25519\"===e.asymmetricKeyType){if(\"EdDSA\"!==t&&\"Ed25519\"!==t)throw new TypeError(\"given KeyObject instance cannot be used for this algorithm\");i=e.toCryptoKey(e.asymmetricKeyType,r,[o?\"verify\":\"sign\"])}switch(e.asymmetricKeyType){case\"ml-dsa-44\":case\"ml-dsa-65\":case\"ml-dsa-87\":if(t!==e.asymmetricKeyType.toUpperCase())throw new TypeError(\"given KeyObject instance cannot be used for this algorithm\");i=e.toCryptoKey(e.asymmetricKeyType,r,[o?\"verify\":\"sign\"])}if(\"rsa\"===e.asymmetricKeyType){let n;switch(t){case\"RSA-OAEP\":n=\"SHA-1\";break;case\"RS256\":case\"PS256\":case\"RSA-OAEP-256\":n=\"SHA-256\";break;case\"RS384\":case\"PS384\":case\"RSA-OAEP-384\":n=\"SHA-384\";break;case\"RS512\":case\"PS512\":case\"RSA-OAEP-512\":n=\"SHA-512\";break;default:throw new TypeError(\"given KeyObject instance cannot be used for this algorithm\")}if(t.startsWith(\"RSA-OAEP\"))return e.toCryptoKey({name:\"RSA-OAEP\",hash:n},r,o?[\"encrypt\"]:[\"decrypt\"]);i=e.toCryptoKey({name:t.startsWith(\"PS\")?\"RSA-PSS\":\"RSASSA-PKCS1-v1_5\",hash:n},r,[o?\"verify\":\"sign\"])}if(\"ec\"===e.asymmetricKeyType){var a;const n=new Map([[\"prime256v1\",\"P-256\"],[\"secp384r1\",\"P-384\"],[\"secp521r1\",\"P-521\"]]).get(null===(a=e.asymmetricKeyDetails)||void 0===a?void 0:a.namedCurve);if(!n)throw new TypeError(\"given KeyObject instance cannot be used for this algorithm\");\"ES256\"===t&&\"P-256\"===n&&(i=e.toCryptoKey({name:\"ECDSA\",namedCurve:n},r,[o?\"verify\":\"sign\"])),\"ES384\"===t&&\"P-384\"===n&&(i=e.toCryptoKey({name:\"ECDSA\",namedCurve:n},r,[o?\"verify\":\"sign\"])),\"ES512\"===t&&\"P-521\"===n&&(i=e.toCryptoKey({name:\"ECDSA\",namedCurve:n},r,[o?\"verify\":\"sign\"])),t.startsWith(\"ECDH-ES\")&&(i=e.toCryptoKey({name:\"ECDH\",namedCurve:n},r,o?[]:[\"deriveBits\"]))}if(!i)throw new TypeError(\"given KeyObject instance cannot be used for this algorithm\");return n?n[t]=i:Lo.set(e,{[t]:i}),i})(e,t)}catch(e){if(e instanceof TypeError)throw e}let n=e.export({format:\"jwk\"});return Uo(e,n,t)}if(Ko(e))return e.k?oo(e.k):Uo(e,e,t,!0);throw new Error(\"unreachable\")}const Wo=e=>null==e?void 0:e[Symbol.toStringTag],Ho=(e,t,n)=>{if(void 0!==t.use){let e;switch(n){case\"sign\":case\"verify\":e=\"sig\";break;case\"encrypt\":case\"decrypt\":e=\"enc\"}if(t.use!==e)throw new TypeError('Invalid key for this operation, its \"use\" must be \"'.concat(e,'\" when present'))}if(void 0!==t.alg&&t.alg!==e)throw new TypeError('Invalid key for this operation, its \"alg\" must be \"'.concat(e,'\" when present'));if(Array.isArray(t.key_ops)){var o,r;let i;switch(!0){case\"sign\"===n||\"verify\"===n:case\"dir\"===e:case e.includes(\"CBC-HS\"):i=n;break;case e.startsWith(\"PBES2\"):i=\"deriveBits\";break;case/^A\\d{3}(?:GCM)?(?:KW)?$/.test(e):i=!e.includes(\"GCM\")&&e.endsWith(\"KW\")?\"encrypt\"===n?\"wrapKey\":\"unwrapKey\":n;break;case\"encrypt\"===n&&e.startsWith(\"RSA\"):i=\"wrapKey\";break;case\"decrypt\"===n:i=e.startsWith(\"RSA\")?\"unwrapKey\":\"deriveBits\"}if(i&&!1===(null===(o=t.key_ops)||void 0===o||null===(r=o.includes)||void 0===r?void 0:r.call(o,i)))throw new TypeError('Invalid key for this operation, its \"key_ops\" must include \"'.concat(i,'\" when present'))}return!0};function zo(e,t,n){switch(e.substring(0,2)){case\"A1\":case\"A2\":case\"di\":case\"HS\":case\"PB\":((e,t,n)=>{if(!(t instanceof Uint8Array)){if(Ko(t)){if((e=>\"oct\"===e.kty&&\"string\"==typeof e.k)(t)&&Ho(e,t,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK \"kty\" (Key Type) equal to \"oct\" and the JWK \"k\" (Key Value) present')}if(!Ao(t))throw new TypeError(ko(e,t,\"CryptoKey\",\"KeyObject\",\"JSON Web Key\",\"Uint8Array\"));if(\"secret\"!==t.type)throw new TypeError(\"\".concat(Wo(t),' instances for symmetric algorithms must be of type \"secret\"'))}})(e,t,n);break;default:((e,t,n)=>{if(Ko(t))switch(n){case\"decrypt\":case\"sign\":if((e=>\"oct\"!==e.kty&&(\"AKP\"===e.kty&&\"string\"==typeof e.priv||\"string\"==typeof e.d))(t)&&Ho(e,t,n))return;throw new TypeError(\"JSON Web Key for this operation must be a private JWK\");case\"encrypt\":case\"verify\":if((e=>\"oct\"!==e.kty&&void 0===e.d&&void 0===e.priv)(t)&&Ho(e,t,n))return;throw new TypeError(\"JSON Web Key for this operation must be a public JWK\")}if(!Ao(t))throw new TypeError(ko(e,t,\"CryptoKey\",\"KeyObject\",\"JSON Web Key\"));if(\"secret\"===t.type)throw new TypeError(\"\".concat(Wo(t),' instances for asymmetric algorithms must not be of type \"secret\"'));if(\"public\"===t.type)switch(n){case\"sign\":throw new TypeError(\"\".concat(Wo(t),' instances for asymmetric algorithm signing must be of type \"private\"'));case\"decrypt\":throw new TypeError(\"\".concat(Wo(t),' instances for asymmetric algorithm decryption must be of type \"private\"'))}if(\"private\"===t.type)switch(n){case\"verify\":throw new TypeError(\"\".concat(Wo(t),' instances for asymmetric algorithm verifying must be of type \"public\"'));case\"encrypt\":throw new TypeError(\"\".concat(Wo(t),' instances for asymmetric algorithm encryption must be of type \"public\"'))}})(e,t,n)}}var Jo,Mo;let Vo,Go;if(\"undefined\"==typeof navigator||null===(Jo=navigator.userAgent)||void 0===Jo||null===(Mo=Jo.startsWith)||void 0===Mo||!Mo.call(Jo,\"Mozilla/5.0 \")){const e=\"v6.8.1\";Go=\"\".concat(\"openid-client\",\"/\").concat(e),Vo={\"user-agent\":Go}}const Fo=e=>Zo.get(e);let Zo,qo;function Bo(e){return void 0!==e?Zt(e):(qo||(qo=new WeakMap),(e,t,n,o)=>{let r;return(r=qo.get(t))||(!function(e,t){if(\"string\"!=typeof e)throw $o(\"\".concat(t,\" must be a string\"),Qo);if(0===e.length)throw $o(\"\".concat(t,\" must not be empty\"),Yo)}(t.client_secret,'\"metadata.client_secret\"'),r=Zt(t.client_secret),qo.set(t,r)),r(e,t,n,o)})}const Xo=vt,Yo=\"ERR_INVALID_ARG_VALUE\",Qo=\"ERR_INVALID_ARG_TYPE\";function $o(e,t,n){const o=new TypeError(e,{cause:n});return Object.assign(o,{code:t}),o}function er(e){return async function(e){return Nt(e,\"codeVerifier\"),Pt(await crypto.subtle.digest(\"SHA-256\",Et(e)))}(e)}function tr(){return Ht()}class nr extends Error{constructor(e,t){var n;super(e,t),st(this,\"code\",void 0),this.name=this.constructor.name,this.code=null==t?void 0:t.code,null===(n=Error.captureStackTrace)||void 0===n||n.call(Error,this,this.constructor)}}function or(e,t,n){return new nr(e,{cause:t,code:n})}function rr(e){if(e instanceof TypeError||e instanceof nr||e instanceof $t||e instanceof en||e instanceof tn)throw e;if(e instanceof It)switch(e.code){case Dn:throw or(\"only requests to HTTPS are allowed\",e,e.code);case Kn:throw or(\"only requests to HTTP or HTTPS are allowed\",e,e.code);case jn:throw or(\"unexpected HTTP response status code\",e.cause,e.code);case Cn:throw or(\"unexpected response content-type\",e.cause,e.code);case On:throw or(\"parsing error occured\",e,e.code);case xn:throw or(\"invalid response encountered\",e,e.code);case Un:throw or(\"unexpected JWT claim value encountered\",e,e.code);case Nn:throw or(\"unexpected JSON attribute value encountered\",e,e.code);case Ln:throw or(\"JWT timestamp claim value failed validation\",e,e.code);default:throw or(e.message,e,e.code)}if(e instanceof Rt)throw or(\"unsupported operation\",e,e.code);if(e instanceof DOMException)switch(e.name){case\"OperationError\":throw or(\"runtime operation error\",e,Rn);case\"NotSupportedError\":throw or(\"runtime unsupported operation\",e,Rn);case\"TimeoutError\":throw or(\"operation timed out\",e,\"OAUTH_TIMEOUT\");case\"AbortError\":throw or(\"operation aborted\",e,\"OAUTH_ABORT\")}throw new nr(\"something went wrong\",{cause:e})}async function ir(e,t,n,o,r){const i=await async function(e,t){var n,o;if(!(e instanceof URL))throw $o('\"server\" must be an instance of URL',Qo);const r=!e.href.includes(\"/.well-known/\"),i=null!==(n=null==t?void 0:t.timeout)&&void 0!==n?n:30,a=AbortSignal.timeout(1e3*i),s=await(r?Lt(e,{algorithm:null==t?void 0:t.algorithm,[vt]:null==t?void 0:t[Xo],[yt]:null==t||null===(o=t.execute)||void 0===o?void 0:o.includes(pr),signal:a,headers:new Headers(Vo)}):((null==t?void 0:t[Xo])||fetch)((Xt(e,null==t||null===(c=t.execute)||void 0===c||!c.includes(pr)),e.href),{headers:Object.fromEntries(new Headers(ut({accept:\"application/json\"},Vo)).entries()),body:void 0,method:\"GET\",redirect:\"manual\",signal:a})).then((e=>async function(e,t){const n=e;if(!(n instanceof URL)&&n!==Yn)throw mt('\"expectedIssuerIdentifier\" must be an instance of URL',\"ERR_INVALID_ARG_TYPE\");if(!ft(t,Response))throw mt('\"response\" must be an instance of Response',\"ERR_INVALID_ARG_TYPE\");if(200!==t.status)throw Ot('\"response\" is not a conform Authorization Server Metadata response (unexpected HTTP status code)',jn,t);zn(t);const o=await Xn(t);if(Nt(o.issuer,'\"response\" body \"issuer\" property',xn,{body:o}),n!==Yn&&new URL(o.issuer).href!==n.href)throw Ot('\"response\" body \"issuer\" property does not match the expected value',Nn,{expected:n.href,body:o,attribute:\"issuer\"});return o}(Yn,e))).catch(rr);var c;r&&new URL(s.issuer).href!==e.href&&(function(e,t,n){return!(\"https://login.microsoftonline.com\"!==e.origin||null!=n&&n.algorithm&&\"oidc\"!==n.algorithm||(t[ar]=!0,0))}(e,s,t)||function(e,t){return!(!e.hostname.endsWith(\".b2clogin.com\")||null!=t&&t.algorithm&&\"oidc\"!==t.algorithm)}(e,t)||(()=>{throw new nr(\"discovered metadata issuer does not match the expected issuer\",{code:Nn,cause:{expected:e.href,body:s,attribute:\"issuer\"}})})());return s}(e,r),a=new sr(i,t,n,o);let s=Fo(a);if(null!=r&&r[Xo]&&(s.fetch=r[Xo]),null!=r&&r.timeout&&(s.timeout=r.timeout),null!=r&&r.execute)for(const e of r.execute)e(a);return a}new TextDecoder;const ar=Symbol();class sr{constructor(e,t,n,o){var r,i,a,s,c;if(\"string\"!=typeof t||!t.length)throw $o('\"clientId\" must be a non-empty string',Qo);if(\"string\"==typeof n&&(n={client_secret:n}),void 0!==(null===(r=n)||void 0===r?void 0:r.client_id)&&t!==n.client_id)throw $o('\"clientId\" and \"metadata.client_id\" must be the same',Yo);const u=ut(ut({},structuredClone(n)),{},{client_id:t});let l;u[wt]=null!==(i=null===(a=n)||void 0===a?void 0:a[wt])&&void 0!==i?i:0,u[gt]=null!==(s=null===(c=n)||void 0===c?void 0:c[gt])&&void 0!==s?s:30,l=o||(\"string\"==typeof u.client_secret&&u.client_secret.length?Bo(u.client_secret):(e,t,n,o)=>{n.set(\"client_id\",t.client_id)});let d=Object.freeze(u);const h=structuredClone(e);ar in e&&(h[Qn]=t=>{let{claims:{tid:n}}=t;return e.issuer.replace(\"{tenantid}\",n)});let p=Object.freeze(h);Zo||(Zo=new WeakMap),Zo.set(this,{__proto__:null,as:p,c:d,auth:l,tlsOnly:!0,jwksCache:{}})}serverMetadata(){const e=structuredClone(Fo(this).as);return function(e){Object.defineProperties(e,function(e){return{supportsPKCE:{__proto__:null,value(){var t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"S256\";return!0===(null===(t=e.code_challenge_methods_supported)||void 0===t?void 0:t.includes(n))}}}}(e))}(e),e}clientMetadata(){return structuredClone(Fo(this).c)}get timeout(){return Fo(this).timeout}set timeout(e){Fo(this).timeout=e}get[Xo](){return Fo(this).fetch}set[Xo](e){Fo(this).fetch=e}}function cr(e){Object.defineProperties(e,function(e){let t;if(void 0!==e.expires_in){const n=new Date;n.setSeconds(n.getSeconds()+e.expires_in),t=n.getTime()}return{expiresIn:{__proto__:null,value(){if(t){const e=Date.now();return t>e?Math.floor((t-e)/1e3):0}}},claims:{__proto__:null,value(){try{return mn(this)}catch(e){return}}}}}(e))}async function ur(e,t,n){var o;let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=null===(o=e.headers.get(\"retry-after\"))||void 0===o?void 0:o.trim();if(void 0===i)return;let a;if(/^\\d+$/.test(i))a=parseInt(i,10);else{const e=new Date(i);if(Number.isFinite(e.getTime())){const t=new Date,n=e.getTime()-t.getTime();n>0&&(a=Math.ceil(n/1e3))}}if(r&&!Number.isFinite(a))throw new It(\"invalid Retry-After header value\",{cause:e});a>t&&await lr(a-t,n)}function lr(e,t){return new Promise(((n,o)=>{const r=e=>{try{t.throwIfAborted()}catch(e){return void o(e)}if(e<=0)return void n();const i=Math.min(e,5);setTimeout((()=>r(e-i)),1e3*i)};r(e)}))}async function dr(e,t){vr(e);const{as:n,c:o,auth:r,fetch:i,tlsOnly:a,timeout:s}=Fo(e);return async function(e,t,n,o,r){Gt(e),Ft(t);const i=Qt(e,\"backchannel_authentication_endpoint\",t.use_mtls_endpoint_aliases,!0!==(null==r?void 0:r[yt])),a=new URLSearchParams(o);a.set(\"client_id\",t.client_id);const s=jt(null==r?void 0:r.headers);return s.set(\"accept\",\"application/json\"),dn(e,t,n,i,a,s,r)}(n,o,r,t,{[vt]:i,[yt]:!a,headers:new Headers(Vo),signal:br(s)}).then((e=>async function(e,t,n){if(Gt(e),Ft(t),!ft(n,Response))throw mt('\"response\" must be an instance of Response',\"ERR_INVALID_ARG_TYPE\");await cn(n,200,\"Backchannel Authentication Endpoint\"),zn(n);const o=await Xn(n);Nt(o.auth_req_id,'\"response\" body \"auth_req_id\" property',xn,{body:o});let r=\"number\"!=typeof o.expires_in?parseFloat(o.expires_in):o.expires_in;return Ut(r,!0,'\"response\" body \"expires_in\" property',xn,{body:o}),o.expires_in=r,void 0!==o.interval&&Ut(o.interval,!1,'\"response\" body \"interval\" property',xn,{body:o}),o}(n,o,e))).catch(rr)}async function hr(e,t,n,o){var r,i;vr(e),n=new URLSearchParams(n);let a=null!==(r=t.interval)&&void 0!==r?r:5;const s=null!==(i=null==o?void 0:o.signal)&&void 0!==i?i:AbortSignal.timeout(1e3*t.expires_in);try{await lr(a,s)}catch(e){rr(e)}const{as:c,c:u,auth:l,fetch:d,tlsOnly:h,nonRepudiation:p,timeout:f,decrypt:m}=Fo(e),y=(r,i)=>hr(e,ut(ut({},t),{},{interval:r}),n,ut(ut({},o),{},{signal:s,flag:i})),w=await async function(e,t,n,o,r){Gt(e),Ft(t),Nt(o,'\"authReqId\"');const i=new URLSearchParams(null==r?void 0:r.additionalParameters);return i.set(\"auth_req_id\",o),hn(e,t,n,\"urn:openid:params:grant-type:ciba\",i,r)}(c,u,l,t.auth_req_id,{[vt]:d,[yt]:!h,additionalParameters:n,DPoP:null==o?void 0:o.DPoP,headers:new Headers(Vo),signal:s.aborted?s:br(f)}).catch(rr);var g;if(503===w.status&&w.headers.has(\"retry-after\"))return await ur(w,a,s,!0),await(null===(g=w.body)||void 0===g?void 0:g.cancel()),y(a);const v=async function(e,t,n,o){return yn(e,t,n,void 0,null==o?void 0:o[_t],null==o?void 0:o.recognizedTokenTypes)}(c,u,w,{[_t]:m});let b;try{b=await v}catch(e){if(_r(e,o))return y(a,kr);if(e instanceof $t)switch(e.error){case\"slow_down\":a+=5;case\"authorization_pending\":return await ur(e.response,a,s),y(a)}rr(e)}return b.id_token&&await(null==p?void 0:p(w)),cr(b),b}function pr(e){Fo(e).tlsOnly=!1}async function fr(e,t,n,o,r){if(vr(e),!((null==r?void 0:r.flag)===kr||t instanceof URL||function(e,t){try{return Object.getPrototypeOf(e)[Symbol.toStringTag]===t}catch(e){return!1}}(t,\"Request\")))throw $o('\"currentUrl\" must be an instance of URL, or Request',Qo);let i,a;const{as:s,c:c,auth:u,fetch:l,tlsOnly:d,jarm:h,hybrid:p,nonRepudiation:f,timeout:m,decrypt:y,implicit:w}=Fo(e);if((null==r?void 0:r.flag)===kr)i=r.authResponse,a=r.redirectUri;else{if(!(t instanceof URL)){const e=t;switch(t=new URL(t.url),e.method){case\"GET\":break;case\"POST\":const n=new URLSearchParams(await Vn(e));if(p)t.hash=n.toString();else for(const[e,o]of n.entries())t.searchParams.append(e,o);break;default:throw $o(\"unexpected Request HTTP method\",Yo)}}switch(a=function(e){return(e=new URL(e)).search=\"\",e.hash=\"\",e.href}(t),!0){case!!h:i=await h(t,null==n?void 0:n.expectedState);break;case!!p:i=await p(t,null==n?void 0:n.expectedNonce,null==n?void 0:n.expectedState,null==n?void 0:n.maxAge);break;case!!w:throw new TypeError(\"authorizationCodeGrant() cannot be used by response_type=id_token clients\");default:try{i=Bn(s,c,t.searchParams,null==n?void 0:n.expectedState)}catch(e){rr(e)}}}const g=await async function(e,t,n,o,r,i,a){if(Gt(e),Ft(t),!vn.has(o))throw mt('\"callbackParameters\" must be an instance of URLSearchParams obtained from \"validateAuthResponse()\", or \"validateJwtAuthResponse()',\"ERR_INVALID_ARG_VALUE\");Nt(r,'\"redirectUri\"');const s=Fn(o,\"code\");if(!s)throw Ot('no authorization code in \"callbackParameters\"',xn);const c=new URLSearchParams(null==a?void 0:a.additionalParameters);return c.set(\"redirect_uri\",r),c.set(\"code\",s),i!==bn&&(Nt(i,'\"codeVerifier\"'),c.set(\"code_verifier\",i)),hn(e,t,n,\"authorization_code\",c,a)}(s,c,u,i,a,(null==n?void 0:n.pkceCodeVerifier)||bn,{additionalParameters:o,[vt]:l,[yt]:!d,DPoP:null==r?void 0:r.DPoP,headers:new Headers(Vo),signal:br(m)}).catch(rr);\"string\"!=typeof(null==n?void 0:n.expectedNonce)&&\"number\"!=typeof(null==n?void 0:n.maxAge)||(n.idTokenExpected=!0);const v=An(s,c,g,{expectedNonce:null==n?void 0:n.expectedNonce,maxAge:null==n?void 0:n.maxAge,requireIdToken:null==n?void 0:n.idTokenExpected,[_t]:y});let b;try{b=await v}catch(t){if(_r(t,r))return fr(e,void 0,n,o,ut(ut({},r),{},{flag:kr,authResponse:i,redirectUri:a}));rr(t)}return b.id_token&&await(null==f?void 0:f(g)),cr(b),b}async function mr(e,t,n,o){vr(e),n=new URLSearchParams(n);const{as:r,c:i,auth:a,fetch:s,tlsOnly:c,nonRepudiation:u,timeout:l,decrypt:d}=Fo(e),h=await async function(e,t,n,o,r){Gt(e),Ft(t),Nt(o,'\"refreshToken\"');const i=new URLSearchParams(null==r?void 0:r.additionalParameters);return i.set(\"refresh_token\",o),hn(e,t,n,\"refresh_token\",i,r)}(r,i,a,t,{[vt]:s,[yt]:!c,additionalParameters:n,DPoP:null==o?void 0:o.DPoP,headers:new Headers(Vo),signal:br(l)}).catch(rr),p=async function(e,t,n,o){return yn(e,t,n,void 0,null==o?void 0:o[_t],null==o?void 0:o.recognizedTokenTypes)}(r,i,h,{[_t]:d});let f;try{f=await p}catch(r){if(_r(r,o))return mr(e,t,n,ut(ut({},o),{},{flag:kr}));rr(r)}return f.id_token&&await(null==u?void 0:u(h)),cr(f),f}async function yr(e,t,n){vr(e),t=new URLSearchParams(t);const{as:o,c:r,auth:i,fetch:a,tlsOnly:s,timeout:c}=Fo(e),u=await async function(e,t,n,o,r){return Gt(e),Ft(t),hn(e,t,n,\"client_credentials\",new URLSearchParams(o),r)}(o,r,i,t,{[vt]:a,[yt]:!s,DPoP:null==n?void 0:n.DPoP,headers:new Headers(Vo),signal:br(c)}).catch(rr),l=async function(e,t,n,o){return yn(e,t,n,void 0,null==o?void 0:o[_t],null==o?void 0:o.recognizedTokenTypes)}(o,r,u);let d;try{d=await l}catch(o){if(_r(o,n))return yr(e,t,ut(ut({},n),{},{flag:kr}));rr(o)}return cr(d),d}function wr(e,t){vr(e);const{as:n,c:o,tlsOnly:r,hybrid:i,jarm:a,implicit:s}=Fo(e),c=Qt(n,\"authorization_endpoint\",!1,r);if((t=new URLSearchParams(t)).has(\"client_id\")||t.set(\"client_id\",o.client_id),!t.has(\"request_uri\")&&!t.has(\"request\")){if(t.has(\"response_type\")||t.set(\"response_type\",i?\"code id_token\":s?\"id_token\":\"code\"),s&&!t.has(\"nonce\"))throw $o(\"response_type=id_token clients must provide a nonce parameter in their authorization request parameters\",Yo);a&&t.set(\"response_mode\",\"jwt\")}for(const[e,n]of t.entries())c.searchParams.append(e,n);return c}async function gr(e,t,n){vr(e);const o=wr(e,t),{as:r,c:i,auth:a,fetch:s,tlsOnly:c,timeout:u}=Fo(e),l=await async function(e,t,n,o,r){var i;Gt(e),Ft(t);const a=Qt(e,\"pushed_authorization_request_endpoint\",t.use_mtls_endpoint_aliases,!0!==(null==r?void 0:r[yt])),s=new URLSearchParams(o);s.set(\"client_id\",t.client_id);const c=jt(null==r?void 0:r.headers);c.set(\"accept\",\"application/json\"),void 0!==(null==r?void 0:r.DPoP)&&(un(r.DPoP),await r.DPoP.addProof(a,c,\"POST\"));const u=await dn(e,t,n,a,s,c,r);return null==r||null===(i=r.DPoP)||void 0===i||i.cacheNonce(u,a),u}(r,i,a,o.searchParams,{[vt]:s,[yt]:!c,DPoP:null==n?void 0:n.DPoP,headers:new Headers(Vo),signal:br(u)}).catch(rr),d=async function(e,t,n){if(Gt(e),Ft(t),!ft(n,Response))throw mt('\"response\" must be an instance of Response',\"ERR_INVALID_ARG_TYPE\");await cn(n,201,\"Pushed Authorization Request Endpoint\"),zn(n);const o=await Xn(n);Nt(o.request_uri,'\"response\" body \"request_uri\" property',xn,{body:o});let r=\"number\"!=typeof o.expires_in?parseFloat(o.expires_in):o.expires_in;return Ut(r,!0,'\"response\" body \"expires_in\" property',xn,{body:o}),o.expires_in=r,o}(r,i,l);let h;try{h=await d}catch(o){if(_r(o,n))return gr(e,t,ut(ut({},n),{},{flag:kr}));rr(o)}return wr(e,{request_uri:h.request_uri})}function vr(e){if(!(e instanceof sr))throw $o('\"config\" must be an instance of Configuration',Qo);if(Object.getPrototypeOf(e)!==sr.prototype)throw $o(\"subclassing Configuration is not allowed\",Yo)}function br(e){return e?AbortSignal.timeout(1e3*e):void 0}function _r(e,t){return!(null==t||!t.DPoP||t.flag===kr)&&function(e){if(e instanceof tn){const{0:t,length:n}=e.cause;return 1===n&&\"dpop\"===t.scheme&&\"use_dpop_nonce\"===t.parameters.error}return e instanceof $t&&\"use_dpop_nonce\"===e.error}(e)}Object.freeze(sr.prototype);const kr=Symbol();async function Sr(e,t,n,o){vr(e);const{as:r,c:i,auth:a,fetch:s,tlsOnly:c,timeout:u,decrypt:l}=Fo(e),d=await async function(e,t,n,o,r,i){return Gt(e),Ft(t),Nt(o,'\"grantType\"'),hn(e,t,n,o,new URLSearchParams(r),i)}(r,i,a,t,new URLSearchParams(n),{[vt]:s,[yt]:!c,DPoP:null==o?void 0:o.DPoP,headers:new Headers(Vo),signal:br(u)}).then((e=>{let n;return\"urn:ietf:params:oauth:grant-type:token-exchange\"===t&&(n={n_a:()=>{}}),async function(e,t,n,o){return yn(e,t,n,void 0,null==o?void 0:o[_t],null==o?void 0:o.recognizedTokenTypes)}(r,i,e,{[_t]:l,recognizedTokenTypes:n})})).catch(rr);return cr(d),d}async function Er(e,t,n){if(t instanceof Uint8Array){if(!e.startsWith(\"HS\"))throw new TypeError(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return _o(\"Key must be \",e,...n)}(t,\"CryptoKey\",\"KeyObject\",\"JSON Web Key\"));return crypto.subtle.importKey(\"raw\",t,{hash:\"SHA-\".concat(e.slice(-3)),name:\"HMAC\"},!1,[n])}return bo(t,e,n),t}async function Ar(e,t,n,o){const r=await Er(e,t,\"verify\");!function(e,t){if(e.startsWith(\"RS\")||e.startsWith(\"PS\")){const{modulusLength:n}=t.algorithm;if(\"number\"!=typeof n||n<2048)throw new TypeError(\"\".concat(e,\" requires key modulusLength to be 2048 bits or larger\"))}}(e,r);const i=function(e,t){const n=\"SHA-\".concat(e.slice(-3));switch(e){case\"HS256\":case\"HS384\":case\"HS512\":return{hash:n,name:\"HMAC\"};case\"PS256\":case\"PS384\":case\"PS512\":return{hash:n,name:\"RSA-PSS\",saltLength:parseInt(e.slice(-3),10)>>3};case\"RS256\":case\"RS384\":case\"RS512\":return{hash:n,name:\"RSASSA-PKCS1-v1_5\"};case\"ES256\":case\"ES384\":case\"ES512\":return{hash:n,name:\"ECDSA\",namedCurve:t.namedCurve};case\"Ed25519\":case\"EdDSA\":return{name:\"Ed25519\"};case\"ML-DSA-44\":case\"ML-DSA-65\":case\"ML-DSA-87\":return{name:e};default:throw new co(\"alg \".concat(e,\" is not supported either by JOSE or your javascript runtime\"))}}(e,r.algorithm);try{return await crypto.subtle.verify(i,r,n,o)}catch(e){return!1}}async function Tr(e,t,n){if(!To(e))throw new uo(\"Flattened JWS must be an object\");if(void 0===e.protected&&void 0===e.header)throw new uo('Flattened JWS must have either of the \"protected\" or \"header\" members');if(void 0!==e.protected&&\"string\"!=typeof e.protected)throw new uo(\"JWS Protected Header incorrect type\");if(void 0===e.payload)throw new uo(\"JWS Payload missing\");if(\"string\"!=typeof e.signature)throw new uo(\"JWS Signature missing or incorrect type\");if(void 0!==e.header&&!To(e.header))throw new uo(\"JWS Unprotected Header incorrect type\");let o={};if(e.protected)try{const t=oo(e.protected);o=JSON.parse(eo.decode(t))}catch(e){throw new uo(\"JWS Protected Header is invalid\")}if(!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=t.filter(Boolean);if(0===o.length||1===o.length)return!0;let r;for(const e of o){const t=Object.keys(e);if(r&&0!==r.size)for(const e of t){if(r.has(e))return!1;r.add(e)}else r=new Set(t)}return!0}(o,e.header))throw new uo(\"JWS Protected and JWS Unprotected Header Parameter names must be disjoint\");const r=ut(ut({},o),e.header),i=function(e,t,n,o,r){if(void 0!==r.crit&&void 0===(null==o?void 0:o.crit))throw new e('\"crit\" (Critical) Header Parameter MUST be integrity protected');if(!o||void 0===o.crit)return new Set;if(!Array.isArray(o.crit)||0===o.crit.length||o.crit.some((e=>\"string\"!=typeof e||0===e.length)))throw new e('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');let i;i=void 0!==n?new Map([...Object.entries(n),...t.entries()]):t;for(const t of o.crit){if(!i.has(t))throw new co('Extension Header Parameter \"'.concat(t,'\" is not recognized'));if(void 0===r[t])throw new e('Extension Header Parameter \"'.concat(t,'\" is missing'));if(i.get(t)&&void 0===o[t])throw new e('Extension Header Parameter \"'.concat(t,'\" MUST be integrity protected'))}return new Set(o.crit)}(uo,new Map([[\"b64\",!0]]),null==n?void 0:n.crit,o,r);let a=!0;if(i.has(\"b64\")&&(a=o.b64,\"boolean\"!=typeof a))throw new uo('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');const{alg:s}=r;if(\"string\"!=typeof s||!s)throw new uo('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');const c=n&&function(e,t){if(void 0!==t&&(!Array.isArray(t)||t.some((e=>\"string\"!=typeof e))))throw new TypeError('\"'.concat(e,'\" option must be an array of strings'));if(t)return new Set(t)}(\"algorithms\",n.algorithms);if(c&&!c.has(s))throw new so('\"alg\" (Algorithm) Header Parameter value not allowed');if(a){if(\"string\"!=typeof e.payload)throw new uo(\"JWS Payload must be a string\")}else if(\"string\"!=typeof e.payload&&!(e.payload instanceof Uint8Array))throw new uo(\"JWS Payload must be a string or an Uint8Array instance\");let u=!1;\"function\"==typeof t&&(t=await t(o,e),u=!0),zo(s,t,\"verify\");const l=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=t.reduce(((e,t)=>{let{length:n}=t;return e+n}),0),r=new Uint8Array(o);let i=0;for(const e of t)r.set(e,i),i+=e.length;return r}(void 0!==e.protected?to(e.protected):new Uint8Array,to(\".\"),\"string\"==typeof e.payload?a?to(e.payload):$n.encode(e.payload):e.payload);let d;try{d=oo(e.signature)}catch(e){throw new uo(\"Failed to base64url decode the signature\")}const h=await No(t,s);if(!await Ar(s,h,d,l))throw new yo;let p;if(a)try{p=oo(e.payload)}catch(e){throw new uo(\"Failed to base64url decode the payload\")}else p=\"string\"==typeof e.payload?$n.encode(e.payload):e.payload;const f={payload:p};return void 0!==e.protected&&(f.protectedHeader=o),void 0!==e.header&&(f.unprotectedHeader=e.header),u?ut(ut({},f),{},{key:h}):f}const Pr=e=>Math.floor(e.getTime()/1e3),Rr=/^(\\+|\\-)? ?(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function Ir(e){const t=Rr.exec(e);if(!t||t[4]&&t[1])throw new TypeError(\"Invalid time period format\");const n=parseFloat(t[2]);let o;switch(t[3].toLowerCase()){case\"sec\":case\"secs\":case\"second\":case\"seconds\":case\"s\":o=Math.round(n);break;case\"minute\":case\"minutes\":case\"min\":case\"mins\":case\"m\":o=Math.round(60*n);break;case\"hour\":case\"hours\":case\"hr\":case\"hrs\":case\"h\":o=Math.round(3600*n);break;case\"day\":case\"days\":case\"d\":o=Math.round(86400*n);break;case\"week\":case\"weeks\":case\"w\":o=Math.round(604800*n);break;default:o=Math.round(31557600*n)}return\"-\"===t[1]||\"ago\"===t[4]?-o:o}const Or=e=>e.includes(\"/\")?e.toLowerCase():\"application/\".concat(e.toLowerCase()),xr=(e,t)=>\"string\"==typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e)));async function Cr(e,t,n){var o;const r=await async function(e,t,n){if(e instanceof Uint8Array&&(e=eo.decode(e)),\"string\"!=typeof e)throw new uo(\"Compact JWS must be a string or Uint8Array\");const{0:o,1:r,2:i,length:a}=e.split(\".\");if(3!==a)throw new uo(\"Invalid Compact JWS\");const s=await Tr({payload:r,protected:o,signature:i},t,n),c={payload:s.payload,protectedHeader:s.protectedHeader};return\"function\"==typeof t?ut(ut({},c),{},{key:s.key}):c}(e,t,n);if(null!==(o=r.protectedHeader.crit)&&void 0!==o&&o.includes(\"b64\")&&!1===r.protectedHeader.b64)throw new lo(\"JWTs MUST NOT use unencoded payload\");const i=function(e,t){let n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{n=JSON.parse(eo.decode(t))}catch(e){}if(!To(n))throw new lo(\"JWT Claims Set must be a top-level JSON object\");const{typ:r}=o;if(r&&(\"string\"!=typeof e.typ||Or(e.typ)!==Or(r)))throw new io('unexpected \"typ\" JWT header value',n,\"typ\",\"check_failed\");const{requiredClaims:i=[],issuer:a,subject:s,audience:c,maxTokenAge:u}=o,l=[...i];void 0!==u&&l.push(\"iat\"),void 0!==c&&l.push(\"aud\"),void 0!==s&&l.push(\"sub\"),void 0!==a&&l.push(\"iss\");for(const e of new Set(l.reverse()))if(!(e in n))throw new io('missing required \"'.concat(e,'\" claim'),n,e,\"missing\");if(a&&!(Array.isArray(a)?a:[a]).includes(n.iss))throw new io('unexpected \"iss\" claim value',n,\"iss\",\"check_failed\");if(s&&n.sub!==s)throw new io('unexpected \"sub\" claim value',n,\"sub\",\"check_failed\");if(c&&!xr(n.aud,\"string\"==typeof c?[c]:c))throw new io('unexpected \"aud\" claim value',n,\"aud\",\"check_failed\");let d;switch(typeof o.clockTolerance){case\"string\":d=Ir(o.clockTolerance);break;case\"number\":d=o.clockTolerance;break;case\"undefined\":d=0;break;default:throw new TypeError(\"Invalid clockTolerance option type\")}const{currentDate:h}=o,p=Pr(h||new Date);if((void 0!==n.iat||u)&&\"number\"!=typeof n.iat)throw new io('\"iat\" claim must be a number',n,\"iat\",\"invalid\");if(void 0!==n.nbf){if(\"number\"!=typeof n.nbf)throw new io('\"nbf\" claim must be a number',n,\"nbf\",\"invalid\");if(n.nbf>p+d)throw new io('\"nbf\" claim timestamp check failed',n,\"nbf\",\"check_failed\")}if(void 0!==n.exp){if(\"number\"!=typeof n.exp)throw new io('\"exp\" claim must be a number',n,\"exp\",\"invalid\");if(n.exp<=p-d)throw new ao('\"exp\" claim timestamp check failed',n,\"exp\",\"check_failed\")}if(u){const e=p-n.iat;if(e-d>(\"number\"==typeof u?u:Ir(u)))throw new ao('\"iat\" claim timestamp check failed (too far in the past)',n,\"iat\",\"check_failed\");if(e<0-d)throw new io('\"iat\" claim timestamp check failed (it should be in the past)',n,\"iat\",\"check_failed\")}return n}(r.protectedHeader,r.payload,n),a={payload:i,protectedHeader:r.protectedHeader};return\"function\"==typeof t?ut(ut({},a),{},{key:r.key}):a}function jr(e){return To(e)}var Dr,Kr,Lr=new WeakMap,Ur=new WeakMap;class Nr{constructor(e){if(it(this,Lr,void 0),it(this,Ur,new WeakMap),!function(e){return e&&\"object\"==typeof e&&Array.isArray(e.keys)&&e.keys.every(jr)}(e))throw new ho(\"JSON Web Key Set malformed\");at(Lr,this,structuredClone(e))}jwks(){return rt(Lr,this)}async getKey(e,t){const{alg:n,kid:o}=ut(ut({},e),null==t?void 0:t.header),r=function(e){switch(\"string\"==typeof e&&e.slice(0,2)){case\"RS\":case\"PS\":return\"RSA\";case\"ES\":return\"EC\";case\"Ed\":return\"OKP\";case\"ML\":return\"AKP\";default:throw new co('Unsupported \"alg\" value for a JSON Web Key Set')}}(n),i=rt(Lr,this).keys.filter((e=>{let t=r===e.kty;if(t&&\"string\"==typeof o&&(t=o===e.kid),!t||\"string\"!=typeof e.alg&&\"AKP\"!==r||(t=n===e.alg),t&&\"string\"==typeof e.use&&(t=\"sig\"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes(\"verify\")),t)switch(n){case\"ES256\":t=\"P-256\"===e.crv;break;case\"ES384\":t=\"P-384\"===e.crv;break;case\"ES512\":t=\"P-521\"===e.crv;break;case\"Ed25519\":case\"EdDSA\":t=\"Ed25519\"===e.crv}return t})),{0:a,length:s}=i;if(0===s)throw new po;if(1!==s){const e=new fo,t=rt(Ur,this);throw e[Symbol.asyncIterator]=dt((function*(){for(const e of i)try{yield yield nt(Wr(t,e,n))}catch(e){}})),e}return Wr(rt(Ur,this),a,n)}}async function Wr(e,t,n){const o=e.get(t)||e.set(t,{}).get(t);if(void 0===o[n]){const e=await async function(e,t,n){var o;if(!To(e))throw new TypeError(\"JWK must be an object\");let r;switch(null!=t||(t=e.alg),null!=r||(r=null!==(o=null==n?void 0:n.extractable)&&void 0!==o?o:e.ext),e.kty){case\"oct\":if(\"string\"!=typeof e.k||!e.k)throw new TypeError('missing \"k\" (Key Value) Parameter value');return oo(e.k);case\"RSA\":if(\"oth\"in e&&void 0!==e.oth)throw new co('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');return Do(ut(ut({},e),{},{alg:t,ext:r}));case\"AKP\":if(\"string\"!=typeof e.alg||!e.alg)throw new TypeError('missing \"alg\" (Algorithm) Parameter value');if(void 0!==t&&t!==e.alg)throw new TypeError(\"JWK alg and alg option value mismatch\");return Do(ut(ut({},e),{},{ext:r}));case\"EC\":case\"OKP\":return Do(ut(ut({},e),{},{alg:t,ext:r}));default:throw new co('Unsupported \"kty\" (Key Type) Parameter value')}}(ut(ut({},t),{},{ext:!0}),n);if(e instanceof Uint8Array||\"public\"!==e.type)throw new ho(\"JSON Web Key Set members must be public keys\");o[n]=e}return o[n]}function Hr(e){const t=new Nr(e),n=async(e,n)=>t.getKey(e,n);return Object.defineProperties(n,{jwks:{value:()=>structuredClone(t.jwks()),enumerable:!1,configurable:!1,writable:!1}}),n}let zr;if(\"undefined\"==typeof navigator||null===(Dr=navigator.userAgent)||void 0===Dr||null===(Kr=Dr.startsWith)||void 0===Kr||!Kr.call(Dr,\"Mozilla/5.0 \")){const e=\"v6.1.3\";zr=\"\".concat(\"jose\",\"/\").concat(e)}const Jr=Symbol();const Mr=Symbol();var Vr=new WeakMap,Gr=new WeakMap,Fr=new WeakMap,Zr=new WeakMap,qr=new WeakMap,Br=new WeakMap,Xr=new WeakMap,Yr=new WeakMap,Qr=new WeakMap,$r=new WeakMap;class ei{constructor(e,t){if(it(this,Vr,void 0),it(this,Gr,void 0),it(this,Fr,void 0),it(this,Zr,void 0),it(this,qr,void 0),it(this,Br,void 0),it(this,Xr,void 0),it(this,Yr,void 0),it(this,Qr,void 0),it(this,$r,void 0),!(e instanceof URL))throw new TypeError(\"url must be an instance of URL\");var n,o;at(Vr,this,new URL(e.href)),at(Gr,this,\"number\"==typeof(null==t?void 0:t.timeoutDuration)?null==t?void 0:t.timeoutDuration:5e3),at(Fr,this,\"number\"==typeof(null==t?void 0:t.cooldownDuration)?null==t?void 0:t.cooldownDuration:3e4),at(Zr,this,\"number\"==typeof(null==t?void 0:t.cacheMaxAge)?null==t?void 0:t.cacheMaxAge:6e5),at(Xr,this,new Headers(null==t?void 0:t.headers)),zr&&!rt(Xr,this).has(\"User-Agent\")&&rt(Xr,this).set(\"User-Agent\",zr),rt(Xr,this).has(\"accept\")||(rt(Xr,this).set(\"accept\",\"application/json\"),rt(Xr,this).append(\"accept\",\"application/jwk-set+json\")),at(Yr,this,null==t?void 0:t[Jr]),void 0!==(null==t?void 0:t[Mr])&&(at($r,this,null==t?void 0:t[Mr]),n=null==t?void 0:t[Mr],o=rt(Zr,this),\"object\"==typeof n&&null!==n&&\"uat\"in n&&\"number\"==typeof n.uat&&!(Date.now()-n.uat>=o)&&\"jwks\"in n&&To(n.jwks)&&Array.isArray(n.jwks.keys)&&Array.prototype.every.call(n.jwks.keys,To)&&(at(qr,this,rt($r,this).uat),at(Qr,this,Hr(rt($r,this).jwks))))}pendingFetch(){return!!rt(Br,this)}coolingDown(){return\"number\"==typeof rt(qr,this)&&Date.now()<rt(qr,this)+rt(Fr,this)}fresh(){return\"number\"==typeof rt(qr,this)&&Date.now()<rt(qr,this)+rt(Zr,this)}jwks(){var e;return null===(e=rt(Qr,this))||void 0===e?void 0:e.jwks()}async getKey(e,t){rt(Qr,this)&&this.fresh()||await this.reload();try{return await rt(Qr,this).call(this,e,t)}catch(n){if(n instanceof po&&!1===this.coolingDown())return await this.reload(),rt(Qr,this).call(this,e,t);throw n}}async reload(){rt(Br,this)&&(\"undefined\"!=typeof WebSocketPair||\"undefined\"!=typeof navigator&&\"Cloudflare-Workers\"===navigator.userAgent||\"undefined\"!=typeof EdgeRuntime&&\"vercel\"===EdgeRuntime)&&at(Br,this,void 0),rt(Br,this)||at(Br,this,async function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fetch;const r=await o(e,{method:\"GET\",signal:n,redirect:\"manual\",headers:t}).catch((e=>{if(\"TimeoutError\"===e.name)throw new mo;throw e}));if(200!==r.status)throw new ro(\"Expected 200 OK from the JSON Web Key Set HTTP response\");try{return await r.json()}catch(e){throw new ro(\"Failed to parse the JSON Web Key Set HTTP response as JSON\")}}(rt(Vr,this).href,rt(Xr,this),AbortSignal.timeout(rt(Gr,this)),rt(Yr,this)).then((e=>{at(Qr,this,Hr(e)),rt($r,this)&&(rt($r,this).uat=Date.now(),rt($r,this).jwks=e),at(qr,this,Date.now()),at(Br,this,void 0)})).catch((e=>{throw at(Br,this,void 0),e}))),await rt(Br,this)}}const ti=[\"mfaToken\"],ni=[\"mfaToken\"];var oi,ri,ii,ai,si,ci,ui,li,di=class extends Error{constructor(e,t){super(t),st(this,\"code\",void 0),this.name=\"NotSupportedError\",this.code=e}},hi=class extends Error{constructor(e,t,n){super(t),st(this,\"cause\",void 0),st(this,\"code\",void 0),this.code=e,this.cause=n&&{error:n.error,error_description:n.error_description,message:n.message}}},pi=class extends hi{constructor(e,t){super(\"token_by_code_error\",e,t),this.name=\"TokenByCodeError\"}},fi=class extends hi{constructor(e,t){super(\"token_by_client_credentials_error\",e,t),this.name=\"TokenByClientCredentialsError\"}},mi=class extends hi{constructor(e,t){super(\"token_by_refresh_token_error\",e,t),this.name=\"TokenByRefreshTokenError\"}},yi=class extends hi{constructor(e,t){super(\"token_for_connection_error\",e,t),this.name=\"TokenForConnectionErrorCode\"}},wi=class extends hi{constructor(e,t){super(\"token_exchange_error\",e,t),this.name=\"TokenExchangeError\"}},gi=class extends Error{constructor(e){super(e),st(this,\"code\",\"verify_logout_token_error\"),this.name=\"VerifyLogoutTokenError\"}},vi=class extends hi{constructor(e){super(\"backchannel_authentication_error\",\"There was an error when trying to use Client-Initiated Backchannel Authentication.\",e),st(this,\"code\",\"backchannel_authentication_error\"),this.name=\"BackchannelAuthenticationError\"}},bi=class extends hi{constructor(e){super(\"build_authorization_url_error\",\"There was an error when trying to build the authorization URL.\",e),this.name=\"BuildAuthorizationUrlError\"}},_i=class extends hi{constructor(e){super(\"build_link_user_url_error\",\"There was an error when trying to build the Link User URL.\",e),this.name=\"BuildLinkUserUrlError\"}},ki=class extends hi{constructor(e){super(\"build_unlink_user_url_error\",\"There was an error when trying to build the Unlink User URL.\",e),this.name=\"BuildUnlinkUserUrlError\"}},Si=class extends Error{constructor(){super(\"The client secret or client assertion signing key must be provided.\"),st(this,\"code\",\"missing_client_auth_error\"),this.name=\"MissingClientAuthError\"}};function Ei(e){return Object.entries(e).filter((e=>{let[,t]=e;return void 0!==t})).reduce(((e,t)=>ut(ut({},e),{},{[t[0]]:t[1]})),{})}var Ai=class extends Error{constructor(e,t,n){super(t),st(this,\"cause\",void 0),st(this,\"code\",void 0),this.code=e,this.cause=n&&{error:n.error,error_description:n.error_description,message:n.message}}},Ti=class extends Ai{constructor(e,t){super(\"mfa_list_authenticators_error\",e,t),this.name=\"MfaListAuthenticatorsError\"}},Pi=class extends Ai{constructor(e,t){super(\"mfa_enrollment_error\",e,t),this.name=\"MfaEnrollmentError\"}},Ri=class extends Ai{constructor(e,t){super(\"mfa_delete_authenticator_error\",e,t),this.name=\"MfaDeleteAuthenticatorError\"}},Ii=class extends Ai{constructor(e,t){super(\"mfa_challenge_error\",e,t),this.name=\"MfaChallengeError\"}};function Oi(e){return{id:e.id,authenticatorType:e.authenticator_type,active:e.active,name:e.name,oobChannels:e.oob_channels,type:e.type}}var xi=(oi=new WeakMap,ri=new WeakMap,ii=new WeakMap,class{constructor(e){var t;it(this,oi,void 0),it(this,ri,void 0),it(this,ii,void 0),at(oi,this,\"https://\".concat(e.domain)),at(ri,this,e.clientId),at(ii,this,null!==(t=e.customFetch)&&void 0!==t?t:function(){return fetch(...arguments)})}async listAuthenticators(e){const t=\"\".concat(rt(oi,this),\"/mfa/authenticators\"),{mfaToken:n}=e,o=await rt(ii,this).call(this,t,{method:\"GET\",headers:{Authorization:\"Bearer \".concat(n),\"Content-Type\":\"application/json\"}});if(!o.ok){const e=await o.json();throw new Ti(e.error_description||\"Failed to list authenticators\",e)}return(await o.json()).map(Oi)}async enrollAuthenticator(e){const t=\"\".concat(rt(oi,this),\"/mfa/associate\"),{mfaToken:n}=e,o=lt(e,ti),r={authenticator_types:o.authenticatorTypes};\"oobChannels\"in o&&(r.oob_channels=o.oobChannels),\"phoneNumber\"in o&&o.phoneNumber&&(r.phone_number=o.phoneNumber),\"email\"in o&&o.email&&(r.email=o.email);const i=await rt(ii,this).call(this,t,{method:\"POST\",headers:{Authorization:\"Bearer \".concat(n),\"Content-Type\":\"application/json\"},body:JSON.stringify(r)});if(!i.ok){const e=await i.json();throw new Pi(e.error_description||\"Failed to enroll authenticator\",e)}return function(e){if(\"otp\"===e.authenticator_type)return{authenticatorType:\"otp\",secret:e.secret,barcodeUri:e.barcode_uri,recoveryCodes:e.recovery_codes,id:e.id};if(\"oob\"===e.authenticator_type)return{authenticatorType:\"oob\",oobChannel:e.oob_channel,oobCode:e.oob_code,bindingMethod:e.binding_method,id:e.id};throw new Error(\"Unexpected authenticator type: \".concat(e.authenticator_type))}(await i.json())}async deleteAuthenticator(e){const{authenticatorId:t,mfaToken:n}=e,o=\"\".concat(rt(oi,this),\"/mfa/authenticators/\").concat(encodeURIComponent(t)),r=await rt(ii,this).call(this,o,{method:\"DELETE\",headers:{Authorization:\"Bearer \".concat(n),\"Content-Type\":\"application/json\"}});if(!r.ok){const e=await r.json();throw new Ri(e.error_description||\"Failed to delete authenticator\",e)}}async challengeAuthenticator(e){const t=\"\".concat(rt(oi,this),\"/mfa/challenge\"),{mfaToken:n}=e,o=lt(e,ni),r={mfa_token:n,client_id:rt(ri,this),challenge_type:o.challengeType};o.authenticatorId&&(r.authenticator_id=o.authenticatorId);const i=await rt(ii,this).call(this,t,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(r)});if(!i.ok){const e=await i.json();throw new Ii(e.error_description||\"Failed to challenge authenticator\",e)}return function(e){const t={challengeType:e.challenge_type};return void 0!==e.oob_code&&(t.oobCode=e.oob_code),void 0!==e.binding_method&&(t.bindingMethod=e.binding_method),t}(await i.json())}}),Ci=class e{constructor(e,t,n,o,r,i,a){st(this,\"accessToken\",void 0),st(this,\"idToken\",void 0),st(this,\"refreshToken\",void 0),st(this,\"expiresAt\",void 0),st(this,\"scope\",void 0),st(this,\"claims\",void 0),st(this,\"authorizationDetails\",void 0),st(this,\"tokenType\",void 0),st(this,\"issuedTokenType\",void 0),this.accessToken=e,this.idToken=n,this.refreshToken=o,this.expiresAt=t,this.scope=r,this.claims=i,this.authorizationDetails=a}static fromTokenEndpointResponse(t){const n=t.id_token?t.claims():void 0,o=new e(t.access_token,Math.floor(Date.now()/1e3)+Number(t.expires_in),t.id_token,t.refresh_token,t.scope,n,t.authorization_details);return o.tokenType=t.token_type,o.issuedTokenType=t.issued_token_type,o}},ji=\"openid profile email offline_access\",Di=Object.freeze(new Set([\"grant_type\",\"client_id\",\"client_secret\",\"client_assertion\",\"client_assertion_type\",\"subject_token\",\"subject_token_type\",\"requested_token_type\",\"actor_token\",\"actor_token_type\",\"audience\",\"aud\",\"resource\",\"resources\",\"resource_indicator\",\"scope\",\"connection\",\"login_hint\",\"organization\",\"assertion\"]));function Ki(e){if(null==e)throw new wi(\"subject_token is required\");if(\"string\"!=typeof e)throw new wi(\"subject_token must be a string\");if(0===e.trim().length)throw new wi(\"subject_token cannot be blank or whitespace\");if(e!==e.trim())throw new wi(\"subject_token must not include leading or trailing whitespace\");if(/^bearer\\s+/i.test(e))throw new wi(\"subject_token must not include the 'Bearer ' prefix\")}function Li(e,t){if(t)for(const[n,o]of Object.entries(t))if(!Di.has(n))if(Array.isArray(o)){if(o.length>20)throw new wi(\"Parameter '\".concat(n,\"' exceeds maximum array size of \").concat(20));o.forEach((t=>{e.append(n,t)}))}else e.append(n,o)}var Ui=(ai=new WeakMap,si=new WeakMap,ci=new WeakMap,ui=new WeakMap,li=new WeakSet,class{constructor(e){if(function(e,t){ot(e,t),t.add(e)}(this,li),it(this,ai,void 0),it(this,si,void 0),it(this,ci,void 0),it(this,ui,void 0),st(this,\"mfa\",void 0),at(ci,this,e),e.useMtls&&!e.customFetch)throw new di(\"mtls_without_custom_fetch_not_supported\",\"Using mTLS without a custom fetch implementation is not supported\");this.mfa=new xi({domain:rt(ci,this).domain,clientId:rt(ci,this).clientId,customFetch:rt(ci,this).customFetch})}async buildAuthorizationUrl(e){const{serverMetadata:t}=await tt(li,this,Ni).call(this);if(null!=e&&e.pushedAuthorizationRequests&&!t.pushed_authorization_request_endpoint)throw new di(\"par_not_supported_error\",\"The Auth0 tenant does not have pushed authorization requests enabled. Learn how to enable it here: https://auth0.com/docs/get-started/applications/configure-par\");try{return await tt(li,this,Ji).call(this,e)}catch(e){throw new bi(e)}}async buildLinkUserUrl(e){try{const t=await tt(li,this,Ji).call(this,{authorizationParams:ut(ut({},e.authorizationParams),{},{requested_connection:e.connection,requested_connection_scope:e.connectionScope,scope:\"openid link_account offline_access\",id_token_hint:e.idToken})});return{linkUserUrl:t.authorizationUrl,codeVerifier:t.codeVerifier}}catch(e){throw new _i(e)}}async buildUnlinkUserUrl(e){try{const t=await tt(li,this,Ji).call(this,{authorizationParams:ut(ut({},e.authorizationParams),{},{requested_connection:e.connection,scope:\"openid unlink_account\",id_token_hint:e.idToken})});return{unlinkUserUrl:t.authorizationUrl,codeVerifier:t.codeVerifier}}catch(e){throw new ki(e)}}async backchannelAuthentication(e){const{configuration:t,serverMetadata:n}=await tt(li,this,Ni).call(this),o=Ei(ut(ut({},rt(ci,this).authorizationParams),null==e?void 0:e.authorizationParams)),r=new URLSearchParams(ut(ut({scope:ji},o),{},{client_id:rt(ci,this).clientId,binding_message:e.bindingMessage,login_hint:JSON.stringify({format:\"iss_sub\",iss:n.issuer,sub:e.loginHint.sub})}));e.requestedExpiry&&r.append(\"requested_expiry\",e.requestedExpiry.toString()),e.authorizationDetails&&r.append(\"authorization_details\",JSON.stringify(e.authorizationDetails));try{const e=await dr(t,r),n=await hr(t,e);return Ci.fromTokenEndpointResponse(n)}catch(e){throw new vi(e)}}async initiateBackchannelAuthentication(e){const{configuration:t,serverMetadata:n}=await tt(li,this,Ni).call(this),o=Ei(ut(ut({},rt(ci,this).authorizationParams),null==e?void 0:e.authorizationParams)),r=new URLSearchParams(ut(ut({scope:ji},o),{},{client_id:rt(ci,this).clientId,binding_message:e.bindingMessage,login_hint:JSON.stringify({format:\"iss_sub\",iss:n.issuer,sub:e.loginHint.sub})}));e.requestedExpiry&&r.append(\"requested_expiry\",e.requestedExpiry.toString()),e.authorizationDetails&&r.append(\"authorization_details\",JSON.stringify(e.authorizationDetails));try{const e=await dr(t,r);return{authReqId:e.auth_req_id,expiresIn:e.expires_in,interval:e.interval}}catch(e){throw new vi(e)}}async backchannelAuthenticationGrant(e){let{authReqId:t}=e;const{configuration:n}=await tt(li,this,Ni).call(this),o=new URLSearchParams({auth_req_id:t});try{const e=await Sr(n,\"urn:openid:params:grant-type:ciba\",o);return Ci.fromTokenEndpointResponse(e)}catch(e){throw new vi(e)}}async getTokenForConnection(e){var t;if(e.refreshToken&&e.accessToken)throw new yi(\"Either a refresh or access token should be specified, but not both.\");const n=null!==(t=e.accessToken)&&void 0!==t?t:e.refreshToken;if(!n)throw new yi(\"Either a refresh or access token must be specified.\");try{return await this.exchangeToken({connection:e.connection,subjectToken:n,subjectTokenType:e.accessToken?\"urn:ietf:params:oauth:token-type:access_token\":\"urn:ietf:params:oauth:token-type:refresh_token\",loginHint:e.loginHint})}catch(e){if(e instanceof wi)throw new yi(e.message,e.cause);throw e}}async exchangeToken(e){return\"connection\"in e?tt(li,this,Wi).call(this,e):tt(li,this,Hi).call(this,e)}async getTokenByCode(e,t){const{configuration:n}=await tt(li,this,Ni).call(this);try{const o=await fr(n,e,{pkceCodeVerifier:t.codeVerifier});return Ci.fromTokenEndpointResponse(o)}catch(e){throw new pi(\"There was an error while trying to request a token.\",e)}}async getTokenByRefreshToken(e){const{configuration:t}=await tt(li,this,Ni).call(this);try{const n=await mr(t,e.refreshToken);return Ci.fromTokenEndpointResponse(n)}catch(e){throw new mi(\"The access token has expired and there was an error while trying to refresh it.\",e)}}async getTokenByClientCredentials(e){const{configuration:t}=await tt(li,this,Ni).call(this);try{const n=new URLSearchParams({audience:e.audience});e.organization&&n.append(\"organization\",e.organization);const o=await yr(t,n);return Ci.fromTokenEndpointResponse(o)}catch(e){throw new fi(\"There was an error while trying to request a token.\",e)}}async buildLogoutUrl(e){const{configuration:t,serverMetadata:n}=await tt(li,this,Ni).call(this);if(!n.end_session_endpoint){const t=new URL(\"https://\".concat(rt(ci,this).domain,\"/v2/logout\"));return t.searchParams.set(\"returnTo\",e.returnTo),t.searchParams.set(\"client_id\",rt(ci,this).clientId),t}return function(e,t){vr(e);const{as:n,c:o,tlsOnly:r}=Fo(e),i=Qt(n,\"end_session_endpoint\",!1,r);(t=new URLSearchParams(t)).has(\"client_id\")||t.set(\"client_id\",o.client_id);for(const[e,n]of t.entries())i.searchParams.append(e,n);return i}(t,{post_logout_redirect_uri:e.returnTo})}async verifyLogoutToken(e){const{serverMetadata:t}=await tt(li,this,Ni).call(this);rt(ui,this)||at(ui,this,function(e,t){const n=new ei(e,t),o=async(e,t)=>n.getKey(e,t);return Object.defineProperties(o,{coolingDown:{get:()=>n.coolingDown(),enumerable:!0,configurable:!1},fresh:{get:()=>n.fresh(),enumerable:!0,configurable:!1},reload:{value:()=>n.reload(),enumerable:!0,configurable:!1,writable:!1},reloading:{get:()=>n.pendingFetch(),enumerable:!0,configurable:!1},jwks:{value:()=>n.jwks(),enumerable:!0,configurable:!1,writable:!1}}),o}(new URL(t.jwks_uri),{[Jr]:rt(ci,this).customFetch}));const{payload:n}=await Cr(e.logoutToken,rt(ui,this),{issuer:t.issuer,audience:rt(ci,this).clientId,algorithms:[\"RS256\"],requiredClaims:[\"iat\"]});if(!(\"sid\"in n)&&!(\"sub\"in n))throw new gi('either \"sid\" or \"sub\" (or both) claims must be present');if(\"sid\"in n&&\"string\"!=typeof n.sid)throw new gi('\"sid\" claim must be a string');if(\"sub\"in n&&\"string\"!=typeof n.sub)throw new gi('\"sub\" claim must be a string');if(\"nonce\"in n)throw new gi('\"nonce\" claim is prohibited');if(!(\"events\"in n))throw new gi('\"events\" claim is missing');if(\"object\"!=typeof n.events||null===n.events)throw new gi('\"events\" claim must be an object');if(!(\"http://schemas.openid.net/event/backchannel-logout\"in n.events))throw new gi('\"http://schemas.openid.net/event/backchannel-logout\" member is missing in the \"events\" claim');if(\"object\"!=typeof n.events[\"http://schemas.openid.net/event/backchannel-logout\"])throw new gi('\"http://schemas.openid.net/event/backchannel-logout\" member in the \"events\" claim must be an object');return{sid:n.sid,sub:n.sub}}});async function Ni(){if(rt(ai,this)&&rt(si,this))return{configuration:rt(ai,this),serverMetadata:rt(si,this)};const e=await tt(li,this,zi).call(this);return at(ai,this,await ir(new URL(\"https://\".concat(rt(ci,this).domain)),rt(ci,this).clientId,{use_mtls_endpoint_aliases:rt(ci,this).useMtls},e,{[Xo]:rt(ci,this).customFetch})),at(si,this,rt(ai,this).serverMetadata()),rt(ai,this)[Xo]=rt(ci,this).customFetch||fetch,{configuration:rt(ai,this),serverMetadata:rt(si,this)}}async function Wi(e){var t,n;const{configuration:o}=await tt(li,this,Ni).call(this);if(\"audience\"in e||\"resource\"in e)throw new wi(\"audience and resource parameters are not supported for Token Vault exchanges\");Ki(e.subjectToken);const r=new URLSearchParams({connection:e.connection,subject_token:e.subjectToken,subject_token_type:null!==(t=e.subjectTokenType)&&void 0!==t?t:\"urn:ietf:params:oauth:token-type:access_token\",requested_token_type:null!==(n=e.requestedTokenType)&&void 0!==n?n:\"http://auth0.com/oauth/token-type/federated-connection-access-token\"});e.loginHint&&r.append(\"login_hint\",e.loginHint),e.scope&&r.append(\"scope\",e.scope),Li(r,e.extra);try{const e=await Sr(o,\"urn:auth0:params:oauth:grant-type:token-exchange:federated-connection-access-token\",r);return Ci.fromTokenEndpointResponse(e)}catch(t){throw new wi(\"Failed to exchange token for connection '\".concat(e.connection,\"'.\"),t)}}async function Hi(e){const{configuration:t}=await tt(li,this,Ni).call(this);Ki(e.subjectToken);const n=new URLSearchParams({subject_token_type:e.subjectTokenType,subject_token:e.subjectToken});e.audience&&n.append(\"audience\",e.audience),e.scope&&n.append(\"scope\",e.scope),e.requestedTokenType&&n.append(\"requested_token_type\",e.requestedTokenType),e.organization&&n.append(\"organization\",e.organization),Li(n,e.extra);try{const e=await Sr(t,\"urn:ietf:params:oauth:grant-type:token-exchange\",n);return Ci.fromTokenEndpointResponse(e)}catch(t){throw new wi(\"Failed to exchange token of type '\".concat(e.subjectTokenType,\"'\").concat(e.audience?\" for audience '\".concat(e.audience,\"'\"):\"\",\".\"),t)}}async function zi(){if(!rt(ci,this).clientSecret&&!rt(ci,this).clientAssertionSigningKey&&!rt(ci,this).useMtls)throw new Si;if(rt(ci,this).useMtls)return(e,t,n,o)=>{n.set(\"client_id\",t.client_id)};let e=rt(ci,this).clientAssertionSigningKey;return!e||e instanceof CryptoKey||(e=await async function(e,t,n){if(\"string\"!=typeof e||0!==e.indexOf(\"-----BEGIN PRIVATE KEY-----\"))throw new TypeError('\"pkcs8\" must be PKCS#8 formatted string');return jo(e,t,n)}(e,rt(ci,this).clientAssertionSigningAlg||\"RS256\")),e?function(e,t){return qt(e,t)}(e):Bo(rt(ci,this).clientSecret)}async function Ji(e){const{configuration:t}=await tt(li,this,Ni).call(this),n=tr(),o=await er(n),r=Ei(ut(ut({},rt(ci,this).authorizationParams),null==e?void 0:e.authorizationParams)),i=new URLSearchParams(ut(ut({scope:ji},r),{},{client_id:rt(ci,this).clientId,code_challenge:o,code_challenge_method:\"S256\"}));return{authorizationUrl:null!=e&&e.pushedAuthorizationRequests?await gr(t,i):await wr(t,i),codeVerifier:n}}const Mi=new p;class Vi{constructor(e){let t,n;if(this.userCache=(new pe).enclosedCache,this.activeLockKeys=new Set,this.defaultOptions={authorizationParams:{scope:\"openid profile email\"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=async()=>{const e=Array.from(this.activeLockKeys);for(const t of e)await Mi.releaseLock(t);this.activeLockKeys.clear(),window.removeEventListener(\"pagehide\",this._releaseLockOnPageHide)},this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),e),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),e.authorizationParams)}),\"undefined\"!=typeof window&&(()=>{if(!I())throw new Error(\"For security reasons, `window.crypto` is required to run `auth0-spa-js`.\");if(void 0===I().subtle)throw new Error(\"\\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\\n    \")})(),e.cache&&e.cacheLocation&&console.warn(\"Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`.\"),e.cache)n=e.cache;else{if(t=e.cacheLocation||\"memory\",!Je(t))throw new Error('Invalid cache location \"'.concat(t,'\"'));n=Je(t)()}var o;this.httpTimeoutMs=e.httpTimeoutInSeconds?1e3*e.httpTimeoutInSeconds:1e4,this.cookieStorage=!1===e.legacySameSiteCookie?Pe:Re,this.orgHintCookieName=(o=this.options.clientId,\"auth0.\".concat(o,\".organization_hint\")),this.isAuthenticatedCookieName=(e=>\"auth0.\".concat(e,\".is.authenticated\"))(this.options.clientId),this.sessionCheckExpiryDays=e.sessionCheckExpiryDays||1;const r=e.useCookiesForTransactions?this.cookieStorage:Ie;var i;this.scope=function(e,t){for(var n=arguments.length,o=new Array(n>2?n-2:0),r=2;r<n;r++)o[r-2]=arguments[r];if(\"object\"!=typeof e)return{default:ue(t,e,...o)};let i={default:ue(t,...o)};return Object.keys(e).forEach((n=>{const r=e[n];i[n]=ue(t,r,...o)})),i}(this.options.authorizationParams.scope,\"openid\",this.options.useRefreshTokens?\"offline_access\":\"\"),this.transactionManager=new me(r,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||y,this.cacheManager=new fe(n,n.allKeys?void 0:new He(n,this.options.clientId),this.nowProvider),this.dpop=this.options.useDpop?new Ze(this.options.clientId):void 0,this.domainUrl=(i=this.options.domain,/^https?:\\/\\//.test(i)?i:\"https://\".concat(i)),this.tokenIssuer=((e,t)=>e?e.startsWith(\"https://\")?e:\"https://\".concat(e,\"/\"):\"\".concat(t,\"/\"))(this.options.issuer,this.domainUrl);const a=\"\".concat(this.domainUrl,\"/me/\"),s=this.createFetcher(Object.assign(Object.assign({},this.options.useDpop&&{dpopNonceId:\"__auth0_my_account_api__\"}),{getAccessToken:()=>this.getTokenSilently({authorizationParams:{scope:\"create:me:connected_accounts\",audience:a},detailedResponse:!0})}));this.myAccountApi=new Qe(s,a),this.authJsClient=new Ui({domain:this.options.domain,clientId:this.options.clientId}),\"undefined\"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&\"memory\"===t&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new Ue)}getConfiguration(){return Object.freeze({domain:this.options.domain,clientId:this.options.clientId})}_url(e){const t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||m)));return\"\".concat(this.domainUrl).concat(e,\"&auth0Client=\").concat(t)}_authorizeUrl(e){return this._url(\"/authorize?\".concat(D(e)))}async _verifyIdToken(e,t,n){const o=await this.nowProvider();return ge({iss:this.tokenIssuer,aud:this.options.clientId,id_token:e,nonce:t,organization:n,leeway:this.options.leeway,max_age:(r=this.options.authorizationParams.max_age,\"string\"!=typeof r?r:parseInt(r,10)||void 0),now:o});var r}_processOrgHint(e){e?this.cookieStorage.save(this.orgHintCookieName,e,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}async _prepareAuthorizeUrl(e,t,n){var o;const r=x(O()),i=x(O()),a=O(),s=await K(a),c=U(s),u=await(null===(o=this.dpop)||void 0===o?void 0:o.calculateThumbprint()),l=((e,t,n,o,r,i,a,s,c)=>Object.assign(Object.assign(Object.assign({client_id:e.clientId},e.authorizationParams),n),{scope:le(t,n.scope,n.audience),response_type:\"code\",response_mode:s||\"query\",state:o,nonce:r,redirect_uri:a||e.authorizationParams.redirect_uri,code_challenge:i,code_challenge_method:\"S256\",dpop_jkt:c}))(this.options,this.scope,e,r,i,c,e.redirect_uri||this.options.authorizationParams.redirect_uri||n,null==t?void 0:t.response_mode,u),d=this._authorizeUrl(l);return{nonce:i,code_verifier:a,scope:l.scope,audience:l.audience||\"default\",redirect_uri:l.redirect_uri,state:r,url:d}}async loginWithPopup(e,t){var n;if(e=e||{},!(t=t||{}).popup&&(t.popup=(e=>{const t=window.screenX+(window.innerWidth-400)/2,n=window.screenY+(window.innerHeight-600)/2;return window.open(e,\"auth0:authorize:popup\",\"left=\".concat(t,\",top=\").concat(n,\",width=\").concat(400,\",height=\").concat(600,\",resizable,scrollbars=yes,status=1\"))})(\"\"),!t.popup))throw new S;const o=await this._prepareAuthorizeUrl(e.authorizationParams||{},{response_mode:\"web_message\"},window.location.origin);t.popup.location.href=o.url;const r=await(e=>new Promise(((t,n)=>{let o;const r=setInterval((()=>{e.popup&&e.popup.closed&&(clearInterval(r),clearTimeout(i),window.removeEventListener(\"message\",o,!1),n(new k(e.popup)))}),1e3),i=setTimeout((()=>{clearInterval(r),n(new _(e.popup)),window.removeEventListener(\"message\",o,!1)}),1e3*(e.timeoutInSeconds||60));o=function(a){if(a.data&&\"authorization_response\"===a.data.type){if(clearTimeout(i),clearInterval(r),window.removeEventListener(\"message\",o,!1),!1!==e.closePopup&&e.popup.close(),a.data.response.error)return n(w.fromPayload(a.data.response));t(a.data.response)}},window.addEventListener(\"message\",o)})))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(o.state!==r.state)throw new w(\"state_mismatch\",\"Invalid state\");const i=(null===(n=e.authorizationParams)||void 0===n?void 0:n.organization)||this.options.authorizationParams.organization;await this._requestToken({audience:o.audience,scope:o.scope,code_verifier:o.code_verifier,grant_type:\"authorization_code\",code:r.code,redirect_uri:o.redirect_uri},{nonceIn:o.nonce,organization:i})}async getUser(){var e;const t=await this._getIdTokenFromCache();return null===(e=null==t?void 0:t.decodedToken)||void 0===e?void 0:e.user}async getIdTokenClaims(){var e;const t=await this._getIdTokenFromCache();return null===(e=null==t?void 0:t.decodedToken)||void 0===e?void 0:e.claims}async loginWithRedirect(){var t;const n=Me(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),{openUrl:o,fragment:r,appState:i}=n,a=e(n,[\"openUrl\",\"fragment\",\"appState\"]),s=(null===(t=a.authorizationParams)||void 0===t?void 0:t.organization)||this.options.authorizationParams.organization,c=await this._prepareAuthorizeUrl(a.authorizationParams||{}),{url:u}=c,l=e(c,[\"url\"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},l),{appState:i,response_type:Oe.Code}),s&&{organization:s}));const d=r?\"\".concat(u,\"#\").concat(r):u;o?await o(d):window.location.assign(d)}async handleRedirectCallback(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href).split(\"?\").slice(1);if(0===e.length)throw new Error(\"There are no query params available for parsing.\");const t=this.transactionManager.get();if(!t)throw new w(\"missing_transaction\",\"Invalid state\");this.transactionManager.remove();const n=(e=>{e.indexOf(\"#\")>-1&&(e=e.substring(0,e.indexOf(\"#\")));const t=new URLSearchParams(e);return{state:t.get(\"state\"),code:t.get(\"code\")||void 0,connect_code:t.get(\"connect_code\")||void 0,error:t.get(\"error\")||void 0,error_description:t.get(\"error_description\")||void 0}})(e.join(\"\"));return t.response_type===Oe.ConnectCode?this._handleConnectAccountRedirectCallback(n,t):this._handleLoginRedirectCallback(n,t)}async _handleLoginRedirectCallback(e,t){const{code:n,state:o,error:r,error_description:i}=e;if(r)throw new g(r,i||r,o,t.appState);if(!t.code_verifier||t.state&&t.state!==o)throw new w(\"state_mismatch\",\"Invalid state\");const a=t.organization,s=t.nonce,c=t.redirect_uri;return await this._requestToken(Object.assign({audience:t.audience,scope:t.scope,code_verifier:t.code_verifier,grant_type:\"authorization_code\",code:n},c?{redirect_uri:c}:{}),{nonceIn:s,organization:a}),{appState:t.appState,response_type:Oe.Code}}async _handleConnectAccountRedirectCallback(e,t){const{connect_code:n,state:o,error:r,error_description:i}=e;if(r)throw new v(r,i||r,t.connection,o,t.appState);if(!n)throw new w(\"missing_connect_code\",\"Missing connect code\");if(!(t.code_verifier&&t.state&&t.auth_session&&t.redirect_uri&&t.state===o))throw new w(\"state_mismatch\",\"Invalid state\");const a=await this.myAccountApi.completeAccount({auth_session:t.auth_session,connect_code:n,redirect_uri:t.redirect_uri,code_verifier:t.code_verifier});return Object.assign(Object.assign({},a),{appState:t.appState,response_type:Oe.ConnectCode})}async checkSession(e){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get(\"auth0.is.authenticated\"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(\"auth0.is.authenticated\")}try{await this.getTokenSilently(e)}catch(e){}}async getTokenSilently(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,n;const o=Object.assign(Object.assign({cacheMode:\"on\"},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:le(this.scope,null===(t=e.authorizationParams)||void 0===t?void 0:t.scope,(null===(n=e.authorizationParams)||void 0===n?void 0:n.audience)||this.options.authorizationParams.audience)})}),r=await((e,t)=>{let n=Ne[t];return n||(n=e().finally((()=>{delete Ne[t],n=null})),Ne[t]=n),n})((()=>this._getTokenSilently(o)),\"\".concat(this.options.clientId,\"::\").concat(o.authorizationParams.audience,\"::\").concat(o.authorizationParams.scope));return e.detailedResponse?r:null==r?void 0:r.access_token}async _getTokenSilently(t){const{cacheMode:n}=t,o=e(t,[\"cacheMode\"]);if(\"off\"!==n){const e=await this._getEntryFromCache({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||\"default\",clientId:this.options.clientId,cacheMode:n});if(e)return e}if(\"cache-only\"===n)return;const r=(i=this.options.clientId,a=o.authorizationParams.audience||\"default\",\"\".concat(\"auth0.lock.getTokenSilently\",\".\").concat(i,\".\").concat(a));var i,a;if(!await We((()=>Mi.acquireLock(r,5e3)),10))throw new b;this.activeLockKeys.add(r),1===this.activeLockKeys.size&&window.addEventListener(\"pagehide\",this._releaseLockOnPageHide);try{if(\"off\"!==n){const e=await this._getEntryFromCache({scope:o.authorizationParams.scope,audience:o.authorizationParams.audience||\"default\",clientId:this.options.clientId});if(e)return e}const e=this.options.useRefreshTokens?await this._getTokenUsingRefreshToken(o):await this._getTokenFromIFrame(o),{id_token:t,token_type:i,access_token:a,oauthTokenScope:s,expires_in:c}=e;return Object.assign(Object.assign({id_token:t,token_type:i,access_token:a},s?{scope:s}:null),{expires_in:c})}finally{await Mi.releaseLock(r),this.activeLockKeys.delete(r),0===this.activeLockKeys.size&&window.removeEventListener(\"pagehide\",this._releaseLockOnPageHide)}}async getTokenWithPopup(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,o;const r=Object.assign(Object.assign({},e),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),e.authorizationParams),{scope:le(this.scope,null===(n=e.authorizationParams)||void 0===n?void 0:n.scope,(null===(o=e.authorizationParams)||void 0===o?void 0:o.audience)||this.options.authorizationParams.audience)})});t=Object.assign(Object.assign({},f),t),await this.loginWithPopup(r,t);return(await this.cacheManager.get(new de({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||\"default\",clientId:this.options.clientId}),void 0,this.options.useMrrt)).access_token}async isAuthenticated(){return!!await this.getUser()}_buildLogoutUrl(t){null!==t.clientId?t.clientId=t.clientId||this.options.clientId:delete t.clientId;const n=t.logoutParams||{},{federated:o}=n,r=e(n,[\"federated\"]),i=o?\"&federated\":\"\";return this._url(\"/v2/logout?\".concat(D(Object.assign({clientId:t.clientId},r))))+i}async logout(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var n;const o=Me(t),{openUrl:r}=o,i=e(o,[\"openUrl\"]);null===t.clientId?await this.cacheManager.clear():await this.cacheManager.clear(t.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove(\"@@user@@\"),await(null===(n=this.dpop)||void 0===n?void 0:n.clear());const a=this._buildLogoutUrl(i);r?await r(a):!1!==r&&window.location.assign(a)}async _getTokenFromIFrame(e){const t=(n=this.options.clientId,\"\".concat(\"auth0.lock.getTokenFromIFrame\",\".\").concat(n));var n;if(!await We((()=>Mi.acquireLock(t,5e3)),10))throw new b;try{const n=Object.assign(Object.assign({},e.authorizationParams),{prompt:\"none\"}),o=this.cookieStorage.get(this.orgHintCookieName);o&&!n.organization&&(n.organization=o);const{url:r,state:i,nonce:a,code_verifier:s,redirect_uri:c,scope:u,audience:l}=await this._prepareAuthorizeUrl(n,{response_mode:\"web_message\"},window.location.origin);if(window.crossOriginIsolated)throw new w(\"login_required\",\"The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.\");const d=e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds;let h;try{h=new URL(this.domainUrl).origin}catch(e){h=this.domainUrl}const p=await function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:60;return new Promise(((o,r)=>{const i=window.document.createElement(\"iframe\");i.setAttribute(\"width\",\"0\"),i.setAttribute(\"height\",\"0\"),i.style.display=\"none\";const a=()=>{window.document.body.contains(i)&&(window.document.body.removeChild(i),window.removeEventListener(\"message\",s,!1))};let s;const c=setTimeout((()=>{r(new b),a()}),1e3*n);s=function(e){if(e.origin!=t)return;if(!e.data||\"authorization_response\"!==e.data.type)return;const n=e.source;n&&n.close(),e.data.response.error?r(w.fromPayload(e.data.response)):o(e.data.response),clearTimeout(c),window.removeEventListener(\"message\",s,!1),setTimeout(a,2e3)},window.addEventListener(\"message\",s,!1),window.document.body.appendChild(i),i.setAttribute(\"src\",e)}))}(r,h,d);if(i!==p.state)throw new w(\"state_mismatch\",\"Invalid state\");const f=await this._requestToken(Object.assign(Object.assign({},e.authorizationParams),{code_verifier:s,code:p.code,grant_type:\"authorization_code\",redirect_uri:c,timeout:e.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:n.organization});return Object.assign(Object.assign({},f),{scope:u,oauthTokenScope:f.scope,audience:l})}catch(e){throw\"login_required\"===e.error&&this.logout({openUrl:!1}),e}finally{await Mi.releaseLock(t)}}async _getTokenUsingRefreshToken(e){const t=await this.cacheManager.get(new de({scope:e.authorizationParams.scope,audience:e.authorizationParams.audience||\"default\",clientId:this.options.clientId}),void 0,this.options.useMrrt);if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw new A(e.authorizationParams.audience||\"default\",e.authorizationParams.scope)}const n=e.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,o=\"number\"==typeof e.timeoutInSeconds?1e3*e.timeoutInSeconds:null,r=((e,t,n,o)=>{var r;if(e&&n&&o){if(t.audience!==n)return t.scope;const e=o.split(\" \"),i=(null===(r=t.scope)||void 0===r?void 0:r.split(\" \"))||[],a=i.every((t=>e.includes(t)));return e.length>=i.length&&a?o:t.scope}return t.scope})(this.options.useMrrt,e.authorizationParams,null==t?void 0:t.audience,null==t?void 0:t.scope);try{const u=await this._requestToken(Object.assign(Object.assign(Object.assign({},e.authorizationParams),{grant_type:\"refresh_token\",refresh_token:t&&t.refresh_token,redirect_uri:n}),o&&{timeout:o}),{scopesToRequest:r});if(u.refresh_token&&(null==t?void 0:t.refresh_token)&&await this.cacheManager.updateEntry(t.refresh_token,u.refresh_token),this.options.useMrrt){if(i=null==t?void 0:t.audience,a=null==t?void 0:t.scope,s=e.authorizationParams.audience,c=e.authorizationParams.scope,i!==s||!Ve(c,a)){if(!Ve(r,u.scope)){if(this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);await this.cacheManager.remove(this.options.clientId,e.authorizationParams.audience,e.authorizationParams.scope);const t=((e,t)=>{const n=(null==e?void 0:e.split(\" \"))||[],o=(null==t?void 0:t.split(\" \"))||[];return n.filter((e=>-1==o.indexOf(e))).join(\",\")})(r,u.scope);throw new T(e.authorizationParams.audience||\"default\",t)}}}return Object.assign(Object.assign({},u),{scope:e.authorizationParams.scope,oauthTokenScope:u.scope,audience:e.authorizationParams.audience||\"default\"})}catch(t){if((t.message.indexOf(\"Missing Refresh Token\")>-1||t.message&&t.message.indexOf(\"invalid refresh token\")>-1)&&this.options.useRefreshTokensFallback)return await this._getTokenFromIFrame(e);throw t}var i,a,s,c}async _saveEntryInCache(t){const{id_token:n,decodedToken:o}=t,r=e(t,[\"id_token\",\"decodedToken\"]);this.userCache.set(\"@@user@@\",{id_token:n,decodedToken:o}),await this.cacheManager.setIdToken(this.options.clientId,t.id_token,t.decodedToken),await this.cacheManager.set(r)}async _getIdTokenFromCache(){const e=this.options.authorizationParams.audience||\"default\",t=this.scope[e],n=await this.cacheManager.getIdToken(new de({clientId:this.options.clientId,audience:e,scope:t})),o=this.userCache.get(\"@@user@@\");return n&&n.id_token===(null==o?void 0:o.id_token)?o:(this.userCache.set(\"@@user@@\",n),n)}async _getEntryFromCache(e){let{scope:t,audience:n,clientId:o,cacheMode:r}=e;const i=await this.cacheManager.get(new de({scope:t,audience:n,clientId:o}),60,this.options.useMrrt,r);if(i&&i.access_token){const{token_type:e,access_token:t,oauthTokenScope:n,expires_in:o}=i,r=await this._getIdTokenFromCache();return r&&Object.assign(Object.assign({id_token:r.id_token,token_type:e||\"Bearer\",access_token:t},n?{scope:n}:null),{expires_in:o})}}async _requestToken(e,t){var n,o;const{nonceIn:r,organization:i,scopesToRequest:a}=t||{},s=await se(Object.assign(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs,useMrrt:this.options.useMrrt,dpop:this.dpop},e),{scope:a||e.scope}),this.worker),c=await this._verifyIdToken(s.id_token,r,i);if(\"authorization_code\"===e.grant_type){const e=await this._getIdTokenFromCache();(null===(o=null===(n=null==e?void 0:e.decodedToken)||void 0===n?void 0:n.claims)||void 0===o?void 0:o.sub)&&e.decodedToken.claims.sub!==c.claims.sub&&(await this.cacheManager.clear(this.options.clientId),this.userCache.remove(\"@@user@@\"))}return await this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},s),{decodedToken:c,scope:e.scope,audience:e.audience||\"default\"}),s.scope?{oauthTokenScope:s.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(i||c.claims.org_id),Object.assign(Object.assign({},s),{decodedToken:c})}async exchangeToken(e){return this._requestToken({grant_type:\"urn:ietf:params:oauth:grant-type:token-exchange\",subject_token:e.subject_token,subject_token_type:e.subject_token_type,scope:le(this.scope,e.scope,e.audience||this.options.authorizationParams.audience),audience:e.audience||this.options.authorizationParams.audience,organization:e.organization||this.options.authorizationParams.organization})}_assertDpop(e){if(!e)throw new Error(\"`useDpop` option must be enabled before using DPoP.\")}getDpopNonce(e){return this._assertDpop(this.dpop),this.dpop.getNonce(e)}setDpopNonce(e,t){return this._assertDpop(this.dpop),this.dpop.setNonce(e,t)}generateDpopProof(e){return this._assertDpop(this.dpop),this.dpop.generateProof(e)}createFetcher(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Ye(e,{isDpopEnabled:()=>!!this.options.useDpop,getAccessToken:e=>{var t;return this.getTokenSilently({authorizationParams:{scope:null===(t=null==e?void 0:e.scope)||void 0===t?void 0:t.join(\" \"),audience:null==e?void 0:e.audience},detailedResponse:!0})},getDpopNonce:()=>this.getDpopNonce(e.dpopNonceId),setDpopNonce:t=>this.setDpopNonce(t,e.dpopNonceId),generateDpopProof:e=>this.generateDpopProof(e)})}async connectAccountWithRedirect(e){const{openUrl:t,appState:n,connection:o,scopes:r,authorization_params:i,redirectUri:a=this.options.authorizationParams.redirect_uri||window.location.origin}=e;if(!o)throw new Error(\"connection is required\");const s=x(O()),c=O(),u=await K(c),l=U(u),{connect_uri:d,connect_params:h,auth_session:p}=await this.myAccountApi.connectAccount({connection:o,scopes:r,redirect_uri:a,state:s,code_challenge:l,code_challenge_method:\"S256\",authorization_params:i});this.transactionManager.create({state:s,code_verifier:c,auth_session:p,redirect_uri:a,appState:n,connection:o,response_type:Oe.ConnectCode});const f=new URL(d);f.searchParams.set(\"ticket\",h.ticket),t?await t(f.toString()):window.location.assign(f)}}async function Gi(e){const t=new Vi(e);return await t.checkSession(),t}export{Vi as Auth0Client,g as AuthenticationError,de as CacheKey,v as ConnectError,w as GenericError,pe as InMemoryCache,he as LocalStorageCache,E as MfaRequiredError,A as MissingRefreshTokenError,$e as MyAccountApiError,k as PopupCancelledError,S as PopupOpenError,_ as PopupTimeoutError,Oe as ResponseType,b as TimeoutError,P as UseDpopNonceError,xe as User,Gi as createAuth0Client};\n//# sourceMappingURL=auth0-spa-js.production.esm.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ProcessLocking = /** @class */ (function () {\n    function ProcessLocking() {\n        var _this = this;\n        this.locked = new Map();\n        this.addToLocked = function (key, toAdd) {\n            var callbacks = _this.locked.get(key);\n            if (callbacks === undefined) {\n                if (toAdd === undefined) {\n                    _this.locked.set(key, []);\n                }\n                else {\n                    _this.locked.set(key, [toAdd]);\n                }\n            }\n            else {\n                if (toAdd !== undefined) {\n                    callbacks.unshift(toAdd);\n                    _this.locked.set(key, callbacks);\n                }\n            }\n        };\n        this.isLocked = function (key) {\n            return _this.locked.has(key);\n        };\n        this.lock = function (key) {\n            return new Promise(function (resolve, reject) {\n                if (_this.isLocked(key)) {\n                    _this.addToLocked(key, resolve);\n                }\n                else {\n                    _this.addToLocked(key);\n                    resolve();\n                }\n            });\n        };\n        this.unlock = function (key) {\n            var callbacks = _this.locked.get(key);\n            if (callbacks === undefined || callbacks.length === 0) {\n                _this.locked.delete(key);\n                return;\n            }\n            var toCall = callbacks.pop();\n            _this.locked.set(key, callbacks);\n            if (toCall !== undefined) {\n                setTimeout(toCall, 0);\n            }\n        };\n    }\n    ProcessLocking.getInstance = function () {\n        if (ProcessLocking.instance === undefined) {\n            ProcessLocking.instance = new ProcessLocking();\n        }\n        return ProcessLocking.instance;\n    };\n    return ProcessLocking;\n}());\nfunction getLock() {\n    return ProcessLocking.getInstance();\n}\nexports.default = getLock;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar _this = this;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar processLock_1 = require(\"./processLock\");\n/**\n * @author: SuperTokens (https://github.com/supertokens)\n * This library was created as a part of a larger project, SuperTokens(https://supertokens.io) - the best session management solution.\n * You can also check out our other projects on https://github.com/supertokens\n *\n * To contribute to this package visit https://github.com/supertokens/browser-tabs-lock\n * If you face any problems you can file an issue on https://github.com/supertokens/browser-tabs-lock/issues\n *\n * If you have any questions or if you just want to say hi visit https://supertokens.io/discord\n */\n/**\n * @constant\n * @type {string}\n * @default\n * @description All the locks taken by this package will have this as prefix\n*/\nvar LOCK_STORAGE_KEY = 'browser-tabs-lock-key';\nvar DEFAULT_STORAGE_HANDLER = {\n    key: function (index) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            throw new Error(\"Unsupported\");\n        });\n    }); },\n    getItem: function (key) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            throw new Error(\"Unsupported\");\n        });\n    }); },\n    clear: function () { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            return [2 /*return*/, window.localStorage.clear()];\n        });\n    }); },\n    removeItem: function (key) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            throw new Error(\"Unsupported\");\n        });\n    }); },\n    setItem: function (key, value) { return __awaiter(_this, void 0, void 0, function () {\n        return __generator(this, function (_a) {\n            throw new Error(\"Unsupported\");\n        });\n    }); },\n    keySync: function (index) {\n        return window.localStorage.key(index);\n    },\n    getItemSync: function (key) {\n        return window.localStorage.getItem(key);\n    },\n    clearSync: function () {\n        return window.localStorage.clear();\n    },\n    removeItemSync: function (key) {\n        return window.localStorage.removeItem(key);\n    },\n    setItemSync: function (key, value) {\n        return window.localStorage.setItem(key, value);\n    },\n};\n/**\n * @function delay\n * @param {number} milliseconds - How long the delay should be in terms of milliseconds\n * @returns {Promise<void>}\n */\nfunction delay(milliseconds) {\n    return new Promise(function (resolve) { return setTimeout(resolve, milliseconds); });\n}\n/**\n * @function generateRandomString\n * @params {number} length - How long the random string should be\n * @returns {string}\n * @description returns random string whose length is equal to the length passed as parameter\n */\nfunction generateRandomString(length) {\n    var CHARS = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz';\n    var randomstring = '';\n    for (var i = 0; i < length; i++) {\n        var INDEX = Math.floor(Math.random() * CHARS.length);\n        randomstring += CHARS[INDEX];\n    }\n    return randomstring;\n}\n/**\n * @function getLockId\n * @returns {string}\n * @description Generates an id which will be unique for the browser tab\n */\nfunction getLockId() {\n    return Date.now().toString() + generateRandomString(15);\n}\nvar SuperTokensLock = /** @class */ (function () {\n    function SuperTokensLock(storageHandler) {\n        this.acquiredIatSet = new Set();\n        this.storageHandler = undefined;\n        this.id = getLockId();\n        this.acquireLock = this.acquireLock.bind(this);\n        this.releaseLock = this.releaseLock.bind(this);\n        this.releaseLock__private__ = this.releaseLock__private__.bind(this);\n        this.waitForSomethingToChange = this.waitForSomethingToChange.bind(this);\n        this.refreshLockWhileAcquired = this.refreshLockWhileAcquired.bind(this);\n        this.storageHandler = storageHandler;\n        if (SuperTokensLock.waiters === undefined) {\n            SuperTokensLock.waiters = [];\n        }\n    }\n    /**\n     * @async\n     * @memberOf Lock\n     * @function acquireLock\n     * @param {string} lockKey - Key for which the lock is being acquired\n     * @param {number} [timeout=5000] - Maximum time for which the function will wait to acquire the lock\n     * @returns {Promise<boolean>}\n     * @description Will return true if lock is being acquired, else false.\n     *              Also the lock can be acquired for maximum 10 secs\n     */\n    SuperTokensLock.prototype.acquireLock = function (lockKey, timeout) {\n        if (timeout === void 0) { timeout = 5000; }\n        return __awaiter(this, void 0, void 0, function () {\n            var iat, MAX_TIME, STORAGE_KEY, STORAGE, lockObj, TIMEOUT_KEY, lockObjPostDelay, parsedLockObjPostDelay;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        iat = Date.now() + generateRandomString(4);\n                        MAX_TIME = Date.now() + timeout;\n                        STORAGE_KEY = LOCK_STORAGE_KEY + \"-\" + lockKey;\n                        STORAGE = this.storageHandler === undefined ? DEFAULT_STORAGE_HANDLER : this.storageHandler;\n                        _a.label = 1;\n                    case 1:\n                        if (!(Date.now() < MAX_TIME)) return [3 /*break*/, 8];\n                        return [4 /*yield*/, delay(30)];\n                    case 2:\n                        _a.sent();\n                        lockObj = STORAGE.getItemSync(STORAGE_KEY);\n                        if (!(lockObj === null)) return [3 /*break*/, 5];\n                        TIMEOUT_KEY = this.id + \"-\" + lockKey + \"-\" + iat;\n                        // there is a problem if setItem happens at the exact same time for 2 different processes.. so we add some random delay here.\n                        return [4 /*yield*/, delay(Math.floor(Math.random() * 25))];\n                    case 3:\n                        // there is a problem if setItem happens at the exact same time for 2 different processes.. so we add some random delay here.\n                        _a.sent();\n                        STORAGE.setItemSync(STORAGE_KEY, JSON.stringify({\n                            id: this.id,\n                            iat: iat,\n                            timeoutKey: TIMEOUT_KEY,\n                            timeAcquired: Date.now(),\n                            timeRefreshed: Date.now()\n                        }));\n                        return [4 /*yield*/, delay(30)];\n                    case 4:\n                        _a.sent(); // this is to prevent race conditions. This time must be more than the time it takes for storage.setItem\n                        lockObjPostDelay = STORAGE.getItemSync(STORAGE_KEY);\n                        if (lockObjPostDelay !== null) {\n                            parsedLockObjPostDelay = JSON.parse(lockObjPostDelay);\n                            if (parsedLockObjPostDelay.id === this.id && parsedLockObjPostDelay.iat === iat) {\n                                this.acquiredIatSet.add(iat);\n                                this.refreshLockWhileAcquired(STORAGE_KEY, iat);\n                                return [2 /*return*/, true];\n                            }\n                        }\n                        return [3 /*break*/, 7];\n                    case 5:\n                        SuperTokensLock.lockCorrector(this.storageHandler === undefined ? DEFAULT_STORAGE_HANDLER : this.storageHandler);\n                        return [4 /*yield*/, this.waitForSomethingToChange(MAX_TIME)];\n                    case 6:\n                        _a.sent();\n                        _a.label = 7;\n                    case 7:\n                        iat = Date.now() + generateRandomString(4);\n                        return [3 /*break*/, 1];\n                    case 8: return [2 /*return*/, false];\n                }\n            });\n        });\n    };\n    SuperTokensLock.prototype.refreshLockWhileAcquired = function (storageKey, iat) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                setTimeout(function () { return __awaiter(_this, void 0, void 0, function () {\n                    var STORAGE, lockObj, parsedLockObj;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0: return [4 /*yield*/, processLock_1.default().lock(iat)];\n                            case 1:\n                                _a.sent();\n                                if (!this.acquiredIatSet.has(iat)) {\n                                    processLock_1.default().unlock(iat);\n                                    return [2 /*return*/];\n                                }\n                                STORAGE = this.storageHandler === undefined ? DEFAULT_STORAGE_HANDLER : this.storageHandler;\n                                lockObj = STORAGE.getItemSync(storageKey);\n                                if (lockObj !== null) {\n                                    parsedLockObj = JSON.parse(lockObj);\n                                    parsedLockObj.timeRefreshed = Date.now();\n                                    STORAGE.setItemSync(storageKey, JSON.stringify(parsedLockObj));\n                                    processLock_1.default().unlock(iat);\n                                }\n                                else {\n                                    processLock_1.default().unlock(iat);\n                                    return [2 /*return*/];\n                                }\n                                this.refreshLockWhileAcquired(storageKey, iat);\n                                return [2 /*return*/];\n                        }\n                    });\n                }); }, 1000);\n                return [2 /*return*/];\n            });\n        });\n    };\n    SuperTokensLock.prototype.waitForSomethingToChange = function (MAX_TIME) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, new Promise(function (resolve) {\n                            var resolvedCalled = false;\n                            var startedAt = Date.now();\n                            var MIN_TIME_TO_WAIT = 50; // ms\n                            var removedListeners = false;\n                            function stopWaiting() {\n                                if (!removedListeners) {\n                                    window.removeEventListener('storage', stopWaiting);\n                                    SuperTokensLock.removeFromWaiting(stopWaiting);\n                                    clearTimeout(timeOutId);\n                                    removedListeners = true;\n                                }\n                                if (!resolvedCalled) {\n                                    resolvedCalled = true;\n                                    var timeToWait = MIN_TIME_TO_WAIT - (Date.now() - startedAt);\n                                    if (timeToWait > 0) {\n                                        setTimeout(resolve, timeToWait);\n                                    }\n                                    else {\n                                        resolve(null);\n                                    }\n                                }\n                            }\n                            window.addEventListener('storage', stopWaiting);\n                            SuperTokensLock.addToWaiting(stopWaiting);\n                            var timeOutId = setTimeout(stopWaiting, Math.max(0, MAX_TIME - Date.now()));\n                        })];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    SuperTokensLock.addToWaiting = function (func) {\n        this.removeFromWaiting(func);\n        if (SuperTokensLock.waiters === undefined) {\n            return;\n        }\n        SuperTokensLock.waiters.push(func);\n    };\n    SuperTokensLock.removeFromWaiting = function (func) {\n        if (SuperTokensLock.waiters === undefined) {\n            return;\n        }\n        SuperTokensLock.waiters = SuperTokensLock.waiters.filter(function (i) { return i !== func; });\n    };\n    SuperTokensLock.notifyWaiters = function () {\n        if (SuperTokensLock.waiters === undefined) {\n            return;\n        }\n        var waiters = SuperTokensLock.waiters.slice(); // so that if Lock.waiters is changed it's ok.\n        waiters.forEach(function (i) { return i(); });\n    };\n    /**\n     * @function releaseLock\n     * @memberOf Lock\n     * @param {string} lockKey - Key for which lock is being released\n     * @returns {void}\n     * @description Release a lock.\n     */\n    SuperTokensLock.prototype.releaseLock = function (lockKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.releaseLock__private__(lockKey)];\n                    case 1: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    /**\n     * @function releaseLock\n     * @memberOf Lock\n     * @param {string} lockKey - Key for which lock is being released\n     * @returns {void}\n     * @description Release a lock.\n     */\n    SuperTokensLock.prototype.releaseLock__private__ = function (lockKey) {\n        return __awaiter(this, void 0, void 0, function () {\n            var STORAGE, STORAGE_KEY, lockObj, parsedlockObj;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        STORAGE = this.storageHandler === undefined ? DEFAULT_STORAGE_HANDLER : this.storageHandler;\n                        STORAGE_KEY = LOCK_STORAGE_KEY + \"-\" + lockKey;\n                        lockObj = STORAGE.getItemSync(STORAGE_KEY);\n                        if (lockObj === null) {\n                            return [2 /*return*/];\n                        }\n                        parsedlockObj = JSON.parse(lockObj);\n                        if (!(parsedlockObj.id === this.id)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, processLock_1.default().lock(parsedlockObj.iat)];\n                    case 1:\n                        _a.sent();\n                        this.acquiredIatSet.delete(parsedlockObj.iat);\n                        STORAGE.removeItemSync(STORAGE_KEY);\n                        processLock_1.default().unlock(parsedlockObj.iat);\n                        SuperTokensLock.notifyWaiters();\n                        _a.label = 2;\n                    case 2: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    /**\n     * @function lockCorrector\n     * @returns {void}\n     * @description If a lock is acquired by a tab and the tab is closed before the lock is\n     *              released, this function will release those locks\n     */\n    SuperTokensLock.lockCorrector = function (storageHandler) {\n        var MIN_ALLOWED_TIME = Date.now() - 5000;\n        var STORAGE = storageHandler;\n        var KEYS = [];\n        var currIndex = 0;\n        while (true) {\n            var key = STORAGE.keySync(currIndex);\n            if (key === null) {\n                break;\n            }\n            KEYS.push(key);\n            currIndex++;\n        }\n        var notifyWaiters = false;\n        for (var i = 0; i < KEYS.length; i++) {\n            var LOCK_KEY = KEYS[i];\n            if (LOCK_KEY.includes(LOCK_STORAGE_KEY)) {\n                var lockObj = STORAGE.getItemSync(LOCK_KEY);\n                if (lockObj !== null) {\n                    var parsedlockObj = JSON.parse(lockObj);\n                    if ((parsedlockObj.timeRefreshed === undefined && parsedlockObj.timeAcquired < MIN_ALLOWED_TIME) ||\n                        (parsedlockObj.timeRefreshed !== undefined && parsedlockObj.timeRefreshed < MIN_ALLOWED_TIME)) {\n                        STORAGE.removeItemSync(LOCK_KEY);\n                        notifyWaiters = true;\n                    }\n                }\n            }\n        }\n        if (notifyWaiters) {\n            SuperTokensLock.notifyWaiters();\n        }\n    };\n    SuperTokensLock.waiters = undefined;\n    return SuperTokensLock;\n}());\nexports.default = SuperTokensLock;\n","import { PopupConfigOptions } from './global';\nimport version from './version';\n\n/**\n * @ignore\n */\nexport const DEFAULT_AUTHORIZE_TIMEOUT_IN_SECONDS = 60;\n\n/**\n * @ignore\n */\nexport const DEFAULT_POPUP_CONFIG_OPTIONS: PopupConfigOptions = {\n  timeoutInSeconds: DEFAULT_AUTHORIZE_TIMEOUT_IN_SECONDS\n};\n\n/**\n * @ignore\n */\nexport const DEFAULT_SILENT_TOKEN_RETRY_COUNT = 3;\n\n/**\n * @ignore\n */\nexport const CLEANUP_IFRAME_TIMEOUT_IN_SECONDS = 2;\n\n/**\n * @ignore\n */\nexport const DEFAULT_FETCH_TIMEOUT_MS = 10000;\n\nexport const CACHE_LOCATION_MEMORY = 'memory';\nexport const CACHE_LOCATION_LOCAL_STORAGE = 'localstorage';\n\n/**\n * @ignore\n */\nexport const MISSING_REFRESH_TOKEN_ERROR_MESSAGE = 'Missing Refresh Token';\n\n/**\n * @ignore\n */\nexport const INVALID_REFRESH_TOKEN_ERROR_MESSAGE = 'invalid refresh token';\n\n/**\n * @ignore\n */\nexport const DEFAULT_SCOPE = 'openid profile email';\n\n/**\n * @ignore\n */\nexport const DEFAULT_SESSION_CHECK_EXPIRY_DAYS = 1;\n\n/**\n * @ignore\n */\nexport const DEFAULT_AUTH0_CLIENT = {\n  name: 'auth0-spa-js',\n  version: version\n};\n\nexport const DEFAULT_NOW_PROVIDER = () => Date.now();\n\nexport const DEFAULT_AUDIENCE = 'default';\n","export default '2.12.0';\n","/**\n * Thrown when network requests to the Auth server fail.\n */\nexport class GenericError extends Error {\n  constructor(public error: string, public error_description: string) {\n    super(error_description);\n    Object.setPrototypeOf(this, GenericError.prototype);\n  }\n\n  static fromPayload({\n    error,\n    error_description\n  }: {\n    error: string;\n    error_description: string;\n  }) {\n    return new GenericError(error, error_description);\n  }\n}\n\n/**\n * Thrown when handling the redirect callback fails, will be one of Auth0's\n * Authentication API's Standard Error Responses: https://auth0.com/docs/api/authentication?javascript#standard-error-responses\n */\nexport class AuthenticationError extends GenericError {\n  constructor(\n    error: string,\n    error_description: string,\n    public state: string,\n    public appState: any = null\n  ) {\n    super(error, error_description);\n    //https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    Object.setPrototypeOf(this, AuthenticationError.prototype);\n  }\n}\n\n/**\n * Thrown when handling the redirect callback for the connect flow fails, will be one of Auth0's\n * Authentication API's Standard Error Responses: https://auth0.com/docs/api/authentication?javascript#standard-error-responses\n */\nexport class ConnectError extends GenericError {\n  constructor(\n    error: string,\n    error_description: string,\n    public connection: string,\n    public state: string,\n    public appState: any = null\n  ) {\n    super(error, error_description);\n    //https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    Object.setPrototypeOf(this, ConnectError.prototype);\n  }\n}\n\n/**\n * Thrown when silent auth times out (usually due to a configuration issue) or\n * when network requests to the Auth server timeout.\n */\nexport class TimeoutError extends GenericError {\n  constructor() {\n    super('timeout', 'Timeout');\n    //https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    Object.setPrototypeOf(this, TimeoutError.prototype);\n  }\n}\n\n/**\n * Error thrown when the login popup times out (if the user does not complete auth)\n */\nexport class PopupTimeoutError extends TimeoutError {\n  constructor(public popup: Window) {\n    super();\n    //https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    Object.setPrototypeOf(this, PopupTimeoutError.prototype);\n  }\n}\n\nexport class PopupCancelledError extends GenericError {\n  constructor(public popup: Window) {\n    super('cancelled', 'Popup closed');\n    //https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    Object.setPrototypeOf(this, PopupCancelledError.prototype);\n  }\n}\n\nexport class PopupOpenError extends GenericError {\n  constructor() {\n    super('popup_open', 'Unable to open a popup for loginWithPopup - window.open returned `null`');\n    //https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    Object.setPrototypeOf(this, PopupOpenError.prototype);\n  }\n}\n\n/**\n * Error thrown when the token exchange results in a `mfa_required` error\n */\nexport class MfaRequiredError extends GenericError {\n  constructor(\n    error: string,\n    error_description: string,\n    public mfa_token: string\n  ) {\n    super(error, error_description);\n    //https://github.com/Microsoft/TypeScript-wiki/blob/master/Breaking-Changes.md#extending-built-ins-like-error-array-and-map-may-no-longer-work\n    Object.setPrototypeOf(this, MfaRequiredError.prototype);\n  }\n}\n\n/**\n * Error thrown when there is no refresh token to use\n */\nexport class MissingRefreshTokenError extends GenericError {\n  constructor(public audience: string, public scope: string) {\n    super(\n      'missing_refresh_token',\n      `Missing Refresh Token (audience: '${valueOrEmptyString(audience, [\n        'default'\n      ])}', scope: '${valueOrEmptyString(scope)}')`\n    );\n    Object.setPrototypeOf(this, MissingRefreshTokenError.prototype);\n  }\n}\n\n/**\n * Error thrown when there are missing scopes after refreshing a token\n */\nexport class MissingScopesError extends GenericError {\n  constructor(public audience: string, public scope: string) {\n    super(\n      'missing_scopes',\n      `Missing requested scopes after refresh (audience: '${valueOrEmptyString(audience, [\n        'default'\n      ])}', missing scope: '${valueOrEmptyString(scope)}')`\n    );\n    Object.setPrototypeOf(this, MissingScopesError.prototype);\n  }\n}\n\n/**\n * Error thrown when the wrong DPoP nonce is used and a potential subsequent retry wasn't able to fix it.\n */\nexport class UseDpopNonceError extends GenericError {\n  constructor(public newDpopNonce: string | undefined) {\n    super('use_dpop_nonce', 'Server rejected DPoP proof: wrong nonce');\n\n    Object.setPrototypeOf(this, UseDpopNonceError.prototype);\n  }\n}\n\n/**\n * Returns an empty string when value is falsy, or when it's value is included in the exclude argument.\n * @param value The value to check\n * @param exclude An array of values that should result in an empty string.\n * @returns The value, or an empty string when falsy or included in the exclude argument.\n */\nfunction valueOrEmptyString(value: string, exclude: string[] = []) {\n  return value && !exclude.includes(value) ? value : '';\n}\n","import { AuthenticationResult, PopupConfigOptions } from './global';\n\nimport {\n  DEFAULT_AUTHORIZE_TIMEOUT_IN_SECONDS,\n  CLEANUP_IFRAME_TIMEOUT_IN_SECONDS\n} from './constants';\n\nimport {\n  PopupTimeoutError,\n  TimeoutError,\n  GenericError,\n  PopupCancelledError\n} from './errors';\n\nexport const parseAuthenticationResult = (\n  queryString: string\n): AuthenticationResult => {\n  if (queryString.indexOf('#') > -1) {\n    queryString = queryString.substring(0, queryString.indexOf('#'));\n  }\n\n  const searchParams = new URLSearchParams(queryString);\n\n  return {\n    state: searchParams.get('state')!,\n    code: searchParams.get('code') || undefined,\n    connect_code: searchParams.get('connect_code') || undefined,\n    error: searchParams.get('error') || undefined,\n    error_description: searchParams.get('error_description') || undefined\n  };\n};\n\nexport const runIframe = (\n  authorizeUrl: string,\n  eventOrigin: string,\n  timeoutInSeconds: number = DEFAULT_AUTHORIZE_TIMEOUT_IN_SECONDS\n) => {\n  return new Promise<AuthenticationResult>((res, rej) => {\n    const iframe = window.document.createElement('iframe');\n\n    iframe.setAttribute('width', '0');\n    iframe.setAttribute('height', '0');\n    iframe.style.display = 'none';\n\n    const removeIframe = () => {\n      if (window.document.body.contains(iframe)) {\n        window.document.body.removeChild(iframe);\n        window.removeEventListener('message', iframeEventHandler, false);\n      }\n    };\n\n    let iframeEventHandler: (e: MessageEvent) => void;\n\n    const timeoutSetTimeoutId = setTimeout(() => {\n      rej(new TimeoutError());\n      removeIframe();\n    }, timeoutInSeconds * 1000);\n\n    iframeEventHandler = function (e: MessageEvent) {\n      if (e.origin != eventOrigin) return;\n      if (!e.data || e.data.type !== 'authorization_response') return;\n\n      const eventSource = e.source;\n\n      if (eventSource) {\n        (eventSource as any).close();\n      }\n\n      e.data.response.error\n        ? rej(GenericError.fromPayload(e.data.response))\n        : res(e.data.response);\n\n      clearTimeout(timeoutSetTimeoutId);\n      window.removeEventListener('message', iframeEventHandler, false);\n\n      // Delay the removal of the iframe to prevent hanging loading status\n      // in Chrome: https://github.com/auth0/auth0-spa-js/issues/240\n      setTimeout(removeIframe, CLEANUP_IFRAME_TIMEOUT_IN_SECONDS * 1000);\n    };\n\n    window.addEventListener('message', iframeEventHandler, false);\n    window.document.body.appendChild(iframe);\n    iframe.setAttribute('src', authorizeUrl);\n  });\n};\n\nexport const openPopup = (url: string) => {\n  const width = 400;\n  const height = 600;\n  const left = window.screenX + (window.innerWidth - width) / 2;\n  const top = window.screenY + (window.innerHeight - height) / 2;\n\n  return window.open(\n    url,\n    'auth0:authorize:popup',\n    `left=${left},top=${top},width=${width},height=${height},resizable,scrollbars=yes,status=1`\n  );\n};\n\nexport const runPopup = (config: PopupConfigOptions) => {\n  return new Promise<AuthenticationResult>((resolve, reject) => {\n    let popupEventListener: (e: MessageEvent) => void;\n\n    // Check each second if the popup is closed triggering a PopupCancelledError\n    const popupTimer = setInterval(() => {\n      if (config.popup && config.popup.closed) {\n        clearInterval(popupTimer);\n        clearTimeout(timeoutId);\n        window.removeEventListener('message', popupEventListener, false);\n        reject(new PopupCancelledError(config.popup));\n      }\n    }, 1000);\n\n    const timeoutId = setTimeout(() => {\n      clearInterval(popupTimer);\n      reject(new PopupTimeoutError(config.popup));\n      window.removeEventListener('message', popupEventListener, false);\n    }, (config.timeoutInSeconds || DEFAULT_AUTHORIZE_TIMEOUT_IN_SECONDS) * 1000);\n\n    popupEventListener = function (e: MessageEvent) {\n      if (!e.data || e.data.type !== 'authorization_response') {\n        return;\n      }\n\n      clearTimeout(timeoutId);\n      clearInterval(popupTimer);\n      window.removeEventListener('message', popupEventListener, false);\n\n      // Close popup automatically unless closePopup is explicitly set to false\n      if (config.closePopup !== false) {\n        config.popup.close();\n      }\n\n      if (e.data.response.error) {\n        return reject(GenericError.fromPayload(e.data.response));\n      }\n\n      resolve(e.data.response);\n    };\n\n    window.addEventListener('message', popupEventListener);\n  });\n};\n\nexport const getCrypto = () => {\n  return window.crypto;\n};\n\nexport const createRandomString = () => {\n  const charset =\n    '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.';\n  let random = '';\n  const randomValues = Array.from(\n    getCrypto().getRandomValues(new Uint8Array(43))\n  );\n  randomValues.forEach(v => (random += charset[v % charset.length]));\n  return random;\n};\n\nexport const encode = (value: string) => btoa(value);\nexport const decode = (value: string) => atob(value);\n\nconst stripUndefined = (params: any) => {\n  return Object.keys(params)\n    .filter(k => typeof params[k] !== 'undefined')\n    .reduce((acc, key) => ({ ...acc, [key]: params[key] }), {});\n};\n\nconst ALLOWED_AUTH0CLIENT_PROPERTIES = [\n  {\n    key: 'name',\n    type: ['string']\n  },\n  {\n    key: 'version',\n    type: ['string', 'number']\n  },\n  {\n    key: 'env',\n    type: ['object']\n  }\n];\n\n/**\n * Strips any property that is not present in ALLOWED_AUTH0CLIENT_PROPERTIES\n * @param auth0Client - The full auth0Client object\n * @returns The stripped auth0Client object\n */\nexport const stripAuth0Client = (auth0Client: any) => {\n  return Object.keys(auth0Client).reduce((acc: any, key: string) => {\n    const allowedProperty = ALLOWED_AUTH0CLIENT_PROPERTIES.find(\n      p => p.key === key\n    );\n    if (\n      allowedProperty &&\n      allowedProperty.type.includes(typeof auth0Client[key])\n    ) {\n      acc[key] = auth0Client[key];\n    }\n\n    return acc;\n  }, {});\n};\n\nexport const createQueryParams = ({ clientId: client_id, ...params }: any) => {\n  return new URLSearchParams(\n    stripUndefined({ client_id, ...params })\n  ).toString();\n};\n\nexport const sha256 = async (s: string) => {\n  const digestOp: any = getCrypto().subtle.digest(\n    { name: 'SHA-256' },\n    new TextEncoder().encode(s)\n  );\n\n  return await digestOp;\n};\n\nconst urlEncodeB64 = (input: string) => {\n  const b64Chars: { [index: string]: string } = { '+': '-', '/': '_', '=': '' };\n  return input.replace(/[+/=]/g, (m: string) => b64Chars[m]);\n};\n\n// https://stackoverflow.com/questions/30106476/\nconst decodeB64 = (input: string) =>\n  decodeURIComponent(\n    atob(input)\n      .split('')\n      .map(c => {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n      })\n      .join('')\n  );\n\nexport const urlDecodeB64 = (input: string) =>\n  decodeB64(input.replace(/_/g, '/').replace(/-/g, '+'));\n\nexport const bufferToBase64UrlEncoded = (input: number[] | Uint8Array) => {\n  const ie11SafeInput = new Uint8Array(input);\n  return urlEncodeB64(\n    window.btoa(String.fromCharCode(...Array.from(ie11SafeInput)))\n  );\n};\n\nexport const validateCrypto = () => {\n  if (!getCrypto()) {\n    throw new Error(\n      'For security reasons, `window.crypto` is required to run `auth0-spa-js`.'\n    );\n  }\n  if (typeof getCrypto().subtle === 'undefined') {\n    throw new Error(`\n      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.\n    `);\n  }\n};\n\n/**\n * @ignore\n */\nexport const getDomain = (domainUrl: string) => {\n  if (!/^https?:\\/\\//.test(domainUrl)) {\n    return `https://${domainUrl}`;\n  }\n\n  return domainUrl;\n};\n\n/**\n * @ignore\n */\nexport const getTokenIssuer = (\n  issuer: string | undefined,\n  domainUrl: string\n) => {\n  if (issuer) {\n    return issuer.startsWith('https://') ? issuer : `https://${issuer}/`;\n  }\n\n  return `${domainUrl}/`;\n};\n\nexport const parseNumber = (value: any): number | undefined => {\n  if (typeof value !== 'string') {\n    return value;\n  }\n  return parseInt(value, 10) || undefined;\n};\n\n/**\n * Ponyfill for `Object.fromEntries()`, which is not available until ES2020.\n *\n * When the target of this project reaches ES2020, this can be removed.\n */\nexport const fromEntries = <T = any>(\n  iterable: Iterable<[PropertyKey, T]>\n): Record<PropertyKey, T> => {\n  return [...iterable].reduce((obj, [key, val]) => {\n    obj[key] = val;\n\n    return obj;\n  }, {} as Record<PropertyKey, T>);\n};\n",null,"import * as dpopLib from 'dpop';\n\nexport const DPOP_NONCE_HEADER = 'dpop-nonce';\n\nconst KEY_PAIR_ALGORITHM: dpopLib.JWSAlgorithm = 'ES256';\n\nconst SUPPORTED_GRANT_TYPES = [\n  'authorization_code',\n  'refresh_token',\n  'urn:ietf:params:oauth:grant-type:token-exchange'\n];\n\nexport type KeyPair = Readonly<dpopLib.KeyPair>;\n\ntype GenerateProofParams = {\n  keyPair: KeyPair;\n  url: string;\n  method: string;\n  nonce?: string;\n  accessToken?: string;\n};\n\nexport function generateKeyPair(): Promise<KeyPair> {\n  return dpopLib.generateKeyPair(KEY_PAIR_ALGORITHM, { extractable: false });\n}\n\nexport function calculateThumbprint(\n  keyPair: Pick<KeyPair, 'publicKey'>\n): Promise<string> {\n  return dpopLib.calculateThumbprint(keyPair.publicKey);\n}\n\nfunction normalizeUrl(url: string): string {\n  const parsedUrl = new URL(url);\n\n  /**\n   * \"The HTTP target URI (...) without query and fragment parts\"\n   * @see {@link https://www.rfc-editor.org/rfc/rfc9449.html#section-4.2-4.6}\n   */\n  parsedUrl.search = '';\n  parsedUrl.hash = '';\n\n  return parsedUrl.href;\n}\n\nexport function generateProof({\n  keyPair,\n  url,\n  method,\n  nonce,\n  accessToken\n}: GenerateProofParams): Promise<string> {\n  const normalizedUrl = normalizeUrl(url);\n\n  return dpopLib.generateProof(\n    keyPair,\n    normalizedUrl,\n    method,\n    nonce,\n    accessToken\n  );\n}\n\nexport function isGrantTypeSupported(grantType: string): boolean {\n  return SUPPORTED_GRANT_TYPES.includes(grantType);\n}\n","import { WorkerRefreshTokenMessage } from './worker.types';\n\n/**\n * Sends the specified message to the web worker\n * @param message The message to send\n * @param to The worker to send the message to\n */\nexport const sendMessage = (message: WorkerRefreshTokenMessage, to: Worker) =>\n  new Promise(function (resolve, reject) {\n    const messageChannel = new MessageChannel();\n\n    messageChannel.port1.onmessage = function (event) {\n      // Only for fetch errors, as these get retried\n      if (event.data.error) {\n        reject(new Error(event.data.error));\n      } else {\n        resolve(event.data);\n      }\n      messageChannel.port1.close();\n    };\n\n    to.postMessage(message, [messageChannel.port2]);\n  });\n","import {\n  DEFAULT_FETCH_TIMEOUT_MS,\n  DEFAULT_SILENT_TOKEN_RETRY_COUNT\n} from './constants';\n\nimport { fromEntries } from './utils';\nimport { sendMessage } from './worker/worker.utils';\nimport { FetchOptions, FetchResponse } from './global';\nimport {\n  GenericError,\n  MfaRequiredError,\n  MissingRefreshTokenError,\n  UseDpopNonceError\n} from './errors';\nimport { Dpop } from './dpop/dpop';\nimport { DPOP_NONCE_HEADER } from './dpop/utils';\n\nexport const createAbortController = () => new AbortController();\n\nconst dofetch = async (fetchUrl: string, fetchOptions: FetchOptions) => {\n  const response = await fetch(fetchUrl, fetchOptions);\n\n  return {\n    ok: response.ok,\n    json: await response.json(),\n\n    /**\n     * This is not needed, but do it anyway so the object shape is the\n     * same as when using a Web Worker (which *does* need this, see\n     * src/worker/token.worker.ts).\n     */\n    headers: fromEntries(response.headers)\n  };\n};\n\nconst fetchWithoutWorker = async (\n  fetchUrl: string,\n  fetchOptions: FetchOptions,\n  timeout: number\n) => {\n  const controller = createAbortController();\n  fetchOptions.signal = controller.signal;\n\n  let timeoutId: NodeJS.Timeout;\n\n  // The promise will resolve with one of these two promises (the fetch or the timeout), whichever completes first.\n  return Promise.race([\n    dofetch(fetchUrl, fetchOptions),\n\n    new Promise((_, reject) => {\n      timeoutId = setTimeout(() => {\n        controller.abort();\n        reject(new Error(\"Timeout when executing 'fetch'\"));\n      }, timeout);\n    })\n  ]).finally(() => {\n    clearTimeout(timeoutId);\n  });\n};\n\nconst fetchWithWorker = async (\n  fetchUrl: string,\n  audience: string,\n  scope: string,\n  fetchOptions: FetchOptions,\n  timeout: number,\n  worker: Worker,\n  useFormData?: boolean,\n  useMrrt?: boolean\n) => {\n  return sendMessage(\n    {\n      auth: {\n        audience,\n        scope\n      },\n      timeout,\n      fetchUrl,\n      fetchOptions,\n      useFormData,\n      useMrrt\n    },\n    worker\n  );\n};\n\nexport const switchFetch = async (\n  fetchUrl: string,\n  audience: string,\n  scope: string,\n  fetchOptions: FetchOptions,\n  worker?: Worker,\n  useFormData?: boolean,\n  timeout = DEFAULT_FETCH_TIMEOUT_MS,\n  useMrrt?: boolean,\n): Promise<any> => {\n  if (worker) {\n    return fetchWithWorker(\n      fetchUrl,\n      audience,\n      scope,\n      fetchOptions,\n      timeout,\n      worker,\n      useFormData,\n      useMrrt\n    );\n  } else {\n    return fetchWithoutWorker(fetchUrl, fetchOptions, timeout);\n  }\n};\n\nexport async function getJSON<T>(\n  url: string,\n  timeout: number | undefined,\n  audience: string,\n  scope: string,\n  options: FetchOptions,\n  worker?: Worker,\n  useFormData?: boolean,\n  useMrrt?: boolean,\n  dpop?: Pick<Dpop, 'generateProof' | 'getNonce' | 'setNonce'>,\n  isDpopRetry?: boolean\n): Promise<T> {\n  if (dpop) {\n    const dpopProof = await dpop.generateProof({\n      url,\n      method: options.method || 'GET',\n      nonce: await dpop.getNonce()\n    });\n\n    options.headers = { ...options.headers, dpop: dpopProof };\n  }\n\n  let fetchError: null | Error = null;\n  let response!: FetchResponse;\n\n  for (let i = 0; i < DEFAULT_SILENT_TOKEN_RETRY_COUNT; i++) {\n    try {\n      response = await switchFetch(\n        url,\n        audience,\n        scope,\n        options,\n        worker,\n        useFormData,\n        timeout,\n        useMrrt,\n      );\n      fetchError = null;\n      break;\n    } catch (e) {\n      // Fetch only fails in the case of a network issue, so should be\n      // retried here. Failure status (4xx, 5xx, etc) return a resolved Promise\n      // with the failure in the body.\n      // https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API\n      fetchError = e;\n    }\n  }\n\n  if (fetchError) {\n    throw fetchError;\n  }\n\n  const {\n    json: { error, error_description, ...data },\n    headers,\n    ok\n  } = response;\n\n  let newDpopNonce: string | undefined;\n\n  if (dpop) {\n    /**\n     * Note that a new DPoP nonce can appear in both error and success responses!\n     *\n     * @see {@link https://www.rfc-editor.org/rfc/rfc9449.html#section-8.2-3}\n     */\n    newDpopNonce = headers[DPOP_NONCE_HEADER];\n\n    if (newDpopNonce) {\n      await dpop.setNonce(newDpopNonce);\n    }\n  }\n\n  if (!ok) {\n    const errorMessage =\n      error_description || `HTTP error. Unable to fetch ${url}`;\n\n    if (error === 'mfa_required') {\n      throw new MfaRequiredError(error, errorMessage, data.mfa_token);\n    }\n\n    if (error === 'missing_refresh_token') {\n      throw new MissingRefreshTokenError(audience, scope);\n    }\n\n    /**\n     * When DPoP is used and we get a `use_dpop_nonce` error from the server,\n     * we must retry ONCE with any new nonce received in the rejected request.\n     *\n     * If a new nonce was not received or the retry fails again, we give up and\n     * throw the error as is.\n     */\n    if (error === 'use_dpop_nonce') {\n      if (!dpop || !newDpopNonce || isDpopRetry) {\n        throw new UseDpopNonceError(newDpopNonce);\n      }\n\n      // repeat the call but with isDpopRetry=true to avoid any more retries\n      return getJSON(\n        url,\n        timeout,\n        audience,\n        scope,\n        options,\n        worker,\n        useFormData,\n        useMrrt,\n        dpop,\n        true // !\n      );\n    }\n\n    throw new GenericError(error || 'request_error', errorMessage);\n  }\n\n  return data;\n}\n","import { TokenEndpointOptions, TokenEndpointResponse } from './global';\nimport { DEFAULT_AUTH0_CLIENT, DEFAULT_AUDIENCE } from './constants';\nimport * as dpopUtils from './dpop/utils';\nimport { getJSON } from './http';\nimport { createQueryParams, stripAuth0Client } from './utils';\n\nexport async function oauthToken(\n  {\n    baseUrl,\n    timeout,\n    audience,\n    scope,\n    auth0Client,\n    useFormData,\n    useMrrt,\n    dpop,\n    ...options\n  }: TokenEndpointOptions,\n  worker?: Worker\n) {\n  const isTokenExchange =\n    options.grant_type === 'urn:ietf:params:oauth:grant-type:token-exchange';\n\n  const refreshWithMrrt = options.grant_type === 'refresh_token' && useMrrt;\n\n  const allParams = {\n    ...options,\n    ...(isTokenExchange && audience && { audience }),\n    ...(isTokenExchange && scope && { scope }),\n    ...(refreshWithMrrt && { audience, scope })\n  };\n\n  const body = useFormData\n    ? createQueryParams(allParams)\n    : JSON.stringify(allParams);\n\n  const isDpopSupported = dpopUtils.isGrantTypeSupported(options.grant_type);\n\n  return await getJSON<TokenEndpointResponse>(\n    `${baseUrl}/oauth/token`,\n    timeout,\n    audience || DEFAULT_AUDIENCE,\n    scope,\n    {\n      method: 'POST',\n      body,\n      headers: {\n        'Content-Type': useFormData\n          ? 'application/x-www-form-urlencoded'\n          : 'application/json',\n        'Auth0-Client': btoa(\n          JSON.stringify(stripAuth0Client(auth0Client || DEFAULT_AUTH0_CLIENT))\n        )\n      }\n    },\n    worker,\n    useFormData,\n    useMrrt,\n    isDpopSupported ? dpop : undefined\n  );\n}\n","import { DEFAULT_AUDIENCE } from \"./constants\";\n\n/**\n * @ignore\n */\nconst dedupe = (arr: string[]) => Array.from(new Set(arr));\n\n/**\n * @ignore\n */\n/**\n * Returns a string of unique scopes by removing duplicates and unnecessary whitespace.\n *\n * @param {...(string | undefined)[]} scopes - A list of scope strings or undefined values.\n * @returns {string} A string containing unique scopes separated by a single space.\n */\nexport const getUniqueScopes = (...scopes: (string | undefined)[]) => {\n  return dedupe(scopes.filter(Boolean).join(' ').trim().split(/\\s+/)).join(' ');\n};\n\n/**\n * @ignore\n */\n/**\n * We will check if the developer has created the client with a string or object of audience:scopes. We will inject\n * the base scopes to each audience, and store the base ones inside default key. As well, if the developer created the Auth0Client\n * with a string of scopes, we will store the requested ones with the base scopes inside the default key as well.\n * @param authScopes The scopes requested by the user when creating the Auth0Client\n * @param openIdScope openId scope\n * @param extraScopes Other scopes to accumulate such as offline_access\n * @returns {Record<string, string>} An object with all scopes that are going to be accumulated.\n */\nexport const injectDefaultScopes = (authScopes: string | Record<string, string> | undefined, openIdScope: string, ...extraScopes: string[]): Record<string, string> => {\n  if (typeof authScopes !== 'object') {\n    return { [DEFAULT_AUDIENCE]: getUniqueScopes(openIdScope, authScopes, ...extraScopes) };\n  }\n\n  let requestedScopes: Record<string, string> = {\n    [DEFAULT_AUDIENCE]: getUniqueScopes(openIdScope, ...extraScopes),\n  };\n\n  Object.keys(authScopes).forEach((key) => {\n    const audienceScopes = authScopes[key];\n\n    requestedScopes[key] = getUniqueScopes(openIdScope, audienceScopes, ...extraScopes);\n  });\n\n  return requestedScopes;\n}\n\n/**\n * @ignore\n */\n/**\n * Will return a string of scopes. If a specific audience was requested and it exist inside the scopes object, we will return those\n * related to that audience that we want to accumulate. If not, we will return the ones stored inside the default key.\n * @param authScopes Object of audience:scopes that are going to be accumulated\n * @param methodScopes The scopes requested for the developer in a specific request\n * @param audience The audience the developer requested for an specific request or the one they configured in the Auth0Client\n * @returns {string} A combination of Auth0Client scopes and the ones requested by the developer for a specific request\n */\nexport const scopesToRequest = (authScopes: Record<string, string>, methodScopes: string | undefined, audience: string | undefined): string => {\n  let scope: string | undefined;\n\n  if (audience) {\n    scope = authScopes[audience];\n  }\n\n  if (!scope) {\n    scope = authScopes[DEFAULT_AUDIENCE];\n  }\n\n  return getUniqueScopes(scope, methodScopes);\n}","import { IdToken, User } from '../global';\n\nexport const CACHE_KEY_PREFIX = '@@auth0spajs@@';\nexport const CACHE_KEY_ID_TOKEN_SUFFIX = '@@user@@';\n\nexport type CacheKeyData = {\n  audience?: string;\n  scope?: string;\n  clientId: string;\n};\n\nexport class CacheKey {\n  public clientId: string;\n  public scope?: string;\n  public audience?: string;\n\n  constructor(\n    data: CacheKeyData,\n    public prefix: string = CACHE_KEY_PREFIX,\n    public suffix?: string\n  ) {\n    this.clientId = data.clientId;\n    this.scope = data.scope;\n    this.audience = data.audience;\n  }\n\n  /**\n   * Converts this `CacheKey` instance into a string for use in a cache\n   * @returns A string representation of the key\n   */\n  toKey(): string {\n    return [this.prefix, this.clientId, this.audience, this.scope, this.suffix]\n      .filter(Boolean)\n      .join('::');\n  }\n\n  /**\n   * Converts a cache key string into a `CacheKey` instance.\n   * @param key The key to convert\n   * @returns An instance of `CacheKey`\n   */\n  static fromKey(key: string): CacheKey {\n    const [prefix, clientId, audience, scope] = key.split('::');\n\n    return new CacheKey({ clientId, scope, audience }, prefix);\n  }\n\n  /**\n   * Utility function to build a `CacheKey` instance from a cache entry\n   * @param entry The entry\n   * @returns An instance of `CacheKey`\n   */\n  static fromCacheEntry(entry: CacheEntry): CacheKey {\n    const { scope, audience, client_id: clientId } = entry;\n\n    return new CacheKey({\n      scope,\n      audience,\n      clientId\n    });\n  }\n}\n\nexport interface DecodedToken {\n  claims: IdToken;\n  user: User;\n}\n\nexport interface IdTokenEntry {\n  id_token: string;\n  decodedToken: DecodedToken;\n}\n\nexport type CacheEntry = {\n  id_token?: string;\n  token_type?: string;\n  access_token: string;\n  expires_in: number;\n  decodedToken?: DecodedToken;\n  audience: string;\n  scope: string;\n  client_id: string;\n  refresh_token?: string;\n  oauthTokenScope?: string;\n};\n\nexport type WrappedCacheEntry = {\n  body: Partial<CacheEntry>;\n  expiresAt: number;\n};\n\nexport type KeyManifestEntry = {\n  keys: string[];\n};\n\nexport type Cacheable = WrappedCacheEntry | KeyManifestEntry;\n\nexport type MaybePromise<T> = Promise<T> | T;\n\nexport interface ICache {\n  set<T = Cacheable>(key: string, entry: T): MaybePromise<void>;\n  get<T = Cacheable>(key: string): MaybePromise<T | undefined>;\n  remove(key: string): MaybePromise<void>;\n  allKeys?(): MaybePromise<string[]>;\n}\n","import { ICache, Cacheable, CACHE_KEY_PREFIX, MaybePromise } from './shared';\n\nexport class LocalStorageCache implements ICache {\n  public set<T = Cacheable>(key: string, entry: T) {\n    localStorage.setItem(key, JSON.stringify(entry));\n  }\n\n  public get<T = Cacheable>(key: string): MaybePromise<T | undefined> {\n    const json = window.localStorage.getItem(key);\n\n    if (!json) return;\n\n    try {\n      const payload = JSON.parse(json) as T;\n      return payload;\n      /* c8 ignore next 3 */\n    } catch (e) {\n      return;\n    }\n  }\n\n  public remove(key: string) {\n    localStorage.removeItem(key);\n  }\n\n  public allKeys() {\n    return Object.keys(window.localStorage).filter(key =>\n      key.startsWith(CACHE_KEY_PREFIX)\n    );\n  }\n}\n","import { Cacheable, ICache, MaybePromise } from './shared';\n\nexport class InMemoryCache {\n  public enclosedCache: ICache = (function () {\n    let cache: Record<string, unknown> = {};\n\n    return {\n      set<T = Cacheable>(key: string, entry: T) {\n        cache[key] = entry;\n      },\n\n      get<T = Cacheable>(key: string): MaybePromise<T | undefined> {\n        const cacheEntry = cache[key] as T;\n\n        if (!cacheEntry) {\n          return;\n        }\n\n        return cacheEntry;\n      },\n\n      remove(key: string) {\n        delete cache[key];\n      },\n\n      allKeys(): string[] {\n        return Object.keys(cache);\n      }\n    };\n  })();\n}\n","import { DEFAULT_NOW_PROVIDER } from '../constants';\nimport { CacheKeyManifest } from './key-manifest';\n\nimport {\n  CacheEntry,\n  ICache,\n  CacheKey,\n  CACHE_KEY_PREFIX,\n  WrappedCacheEntry,\n  DecodedToken,\n  CACHE_KEY_ID_TOKEN_SUFFIX,\n  IdTokenEntry\n} from './shared';\n\nconst DEFAULT_EXPIRY_ADJUSTMENT_SECONDS = 0;\n\nexport class CacheManager {\n  private nowProvider: () => number | Promise<number>;\n\n  constructor(\n    private cache: ICache,\n    private keyManifest?: CacheKeyManifest,\n    nowProvider?: () => number | Promise<number>\n  ) {\n    this.nowProvider = nowProvider || DEFAULT_NOW_PROVIDER;\n  }\n\n  async setIdToken(\n    clientId: string,\n    idToken: string,\n    decodedToken: DecodedToken\n  ): Promise<void> {\n    const cacheKey = this.getIdTokenCacheKey(clientId);\n    await this.cache.set(cacheKey, {\n      id_token: idToken,\n      decodedToken\n    });\n    await this.keyManifest?.add(cacheKey);\n  }\n\n  async getIdToken(cacheKey: CacheKey): Promise<IdTokenEntry | undefined> {\n    const entry = await this.cache.get<IdTokenEntry>(\n      this.getIdTokenCacheKey(cacheKey.clientId)\n    );\n\n    if (!entry && cacheKey.scope && cacheKey.audience) {\n      const entryByScope = await this.get(cacheKey);\n\n      if (!entryByScope) {\n        return;\n      }\n\n      if (!entryByScope.id_token || !entryByScope.decodedToken) {\n        return;\n      }\n\n      return {\n        id_token: entryByScope.id_token,\n        decodedToken: entryByScope.decodedToken\n      };\n    }\n\n    if (!entry) {\n      return;\n    }\n\n    return { id_token: entry.id_token, decodedToken: entry.decodedToken };\n  }\n\n  async get(\n    cacheKey: CacheKey,\n    expiryAdjustmentSeconds = DEFAULT_EXPIRY_ADJUSTMENT_SECONDS,\n    useMrrt = false,\n    cacheMode?: string\n  ): Promise<Partial<CacheEntry> | undefined> {\n    let wrappedEntry = await this.cache.get<WrappedCacheEntry>(\n      cacheKey.toKey()\n    );\n\n    if (!wrappedEntry) {\n      const keys = await this.getCacheKeys();\n\n      if (!keys) return;\n\n      const matchedKey = this.matchExistingCacheKey(cacheKey, keys);\n\n      if (matchedKey) {\n        wrappedEntry = await this.cache.get<WrappedCacheEntry>(matchedKey);\n      }\n\n      // To refresh using MRRT we need to send a request to the server\n      // If cacheMode is 'cache-only', this will make us unable to call the server\n      // so it won't be needed to find a valid refresh token\n      if (!wrappedEntry && useMrrt && cacheMode !== 'cache-only') {\n        return this.getEntryWithRefreshToken(cacheKey, keys);\n      }\n    }\n\n    // If we still don't have an entry, exit.\n    if (!wrappedEntry) {\n      return;\n    }\n\n    const now = await this.nowProvider();\n    const nowSeconds = Math.floor(now / 1000);\n\n    if (wrappedEntry.expiresAt - expiryAdjustmentSeconds < nowSeconds) {\n      if (wrappedEntry.body.refresh_token) {\n        return this.modifiedCachedEntry(wrappedEntry, cacheKey);\n      }\n\n      await this.cache.remove(cacheKey.toKey());\n      await this.keyManifest?.remove(cacheKey.toKey());\n\n      return;\n    }\n\n    return wrappedEntry.body;\n  }\n\n  private async modifiedCachedEntry(wrappedEntry: WrappedCacheEntry, cacheKey: CacheKey): Promise<Partial<CacheEntry>> {\n    // We need to keep audience and scope in order to check them later when doing refresh\n    // using MRRT. See getScopeToRequest method.\n    wrappedEntry.body = {\n      refresh_token: wrappedEntry.body.refresh_token,\n      audience: wrappedEntry.body.audience,\n      scope: wrappedEntry.body.scope,\n    };\n\n    await this.cache.set(cacheKey.toKey(), wrappedEntry);\n\n    return {\n      refresh_token: wrappedEntry.body.refresh_token,\n      audience: wrappedEntry.body.audience,\n      scope: wrappedEntry.body.scope,\n    };\n  }\n\n  async set(entry: CacheEntry): Promise<void> {\n    const cacheKey = new CacheKey({\n      clientId: entry.client_id,\n      scope: entry.scope,\n      audience: entry.audience\n    });\n\n    const wrappedEntry = await this.wrapCacheEntry(entry);\n\n    await this.cache.set(cacheKey.toKey(), wrappedEntry);\n    await this.keyManifest?.add(cacheKey.toKey());\n  }\n\n  async remove(\n    client_id: string,\n    audience?: string,\n    scope?: string,\n  ): Promise<void> {\n    const cacheKey = new CacheKey({\n      clientId: client_id,\n      scope: scope,\n      audience: audience\n    });\n\n    await this.cache.remove(cacheKey.toKey());\n  }\n\n  async clear(clientId?: string): Promise<void> {\n    const keys = await this.getCacheKeys();\n\n    /* c8 ignore next */\n    if (!keys) return;\n\n    await keys\n      .filter(key => (clientId ? key.includes(clientId) : true))\n      .reduce(async (memo, key) => {\n        await memo;\n        await this.cache.remove(key);\n      }, Promise.resolve());\n\n    await this.keyManifest?.clear();\n  }\n\n  private async wrapCacheEntry(entry: CacheEntry): Promise<WrappedCacheEntry> {\n    const now = await this.nowProvider();\n    const expiresInTime = Math.floor(now / 1000) + entry.expires_in;\n\n    return {\n      body: entry,\n      expiresAt: expiresInTime\n    };\n  }\n\n  private async getCacheKeys(): Promise<string[] | undefined> {\n    if (this.keyManifest) {\n      return (await this.keyManifest.get())?.keys;\n    } else if (this.cache.allKeys) {\n      return this.cache.allKeys();\n    }\n  }\n\n  /**\n   * Returns the cache key to be used to store the id token\n   * @param clientId The client id used to link to the id token\n   * @returns The constructed cache key, as a string, to store the id token\n   */\n  private getIdTokenCacheKey(clientId: string) {\n    return new CacheKey(\n      { clientId },\n      CACHE_KEY_PREFIX,\n      CACHE_KEY_ID_TOKEN_SUFFIX\n    ).toKey();\n  }\n\n  /**\n   * Finds the corresponding key in the cache based on the provided cache key.\n   * The keys inside the cache are in the format {prefix}::{clientId}::{audience}::{scope}.\n   * The first key in the cache that satisfies the following conditions is returned\n   *  - `prefix` is strict equal to Auth0's internally configured `keyPrefix`\n   *  - `clientId` is strict equal to the `cacheKey.clientId`\n   *  - `audience` is strict equal to the `cacheKey.audience`\n   *  - `scope` contains at least all the `cacheKey.scope` values\n   *  *\n   * @param keyToMatch The provided cache key\n   * @param allKeys A list of existing cache keys\n   */\n  private matchExistingCacheKey(keyToMatch: CacheKey, allKeys: Array<string>) {\n    return allKeys.filter(key => {\n      const cacheKey = CacheKey.fromKey(key);\n      const scopeSet = new Set(cacheKey.scope && cacheKey.scope.split(' '));\n      const scopesToMatch = keyToMatch.scope?.split(' ') || [];\n\n      const hasAllScopes =\n        cacheKey.scope &&\n        scopesToMatch.reduce(\n          (acc, current) => acc && scopeSet.has(current),\n          true\n        );\n\n      return (\n        cacheKey.prefix === CACHE_KEY_PREFIX &&\n        cacheKey.clientId === keyToMatch.clientId &&\n        cacheKey.audience === keyToMatch.audience &&\n        hasAllScopes\n      );\n    })[0];\n  }\n\n  /**\n   * Returns the first entry that contains a refresh_token that satisfies the following conditions\n   * The keys inside the cache are in the format {prefix}::{clientId}::{audience}::{scope}.\n   * - `prefix` is strict equal to Auth0's internally configured `keyPrefix`\n   * - `clientId` is strict equal to the `cacheKey.clientId`\n   * @param keyToMatch The provided cache key\n   * @param allKeys A list of existing cache keys\n   */\n  private async getEntryWithRefreshToken(keyToMatch: CacheKey, allKeys: Array<string>): Promise<Partial<CacheEntry> | undefined> {\n    for (const key of allKeys) {\n      const cacheKey = CacheKey.fromKey(key);\n\n      if (cacheKey.prefix === CACHE_KEY_PREFIX &&\n        cacheKey.clientId === keyToMatch.clientId) {\n        const cachedEntry = await this.cache.get<WrappedCacheEntry>(key);\n\n        if (cachedEntry?.body?.refresh_token) {\n          return this.modifiedCachedEntry(cachedEntry, keyToMatch);\n        }\n      }\n    }\n\n    return undefined;\n  }\n\n  /**\n   * Updates in the cache all entries that has a match with previous refresh_token with the\n   * new refresh_token obtained from the server\n   * @param oldRefreshToken Old refresh_token used on refresh\n   * @param newRefreshToken New refresh_token obtained from the server after refresh\n  */\n  async updateEntry(\n    oldRefreshToken: string,\n    newRefreshToken: string,\n  ): Promise<void> {\n    const allKeys = await this.getCacheKeys();\n\n    if (!allKeys) return;\n\n    for (const key of allKeys) {\n      const entry = await this.cache.get<WrappedCacheEntry>(key);\n\n      if (entry?.body?.refresh_token === oldRefreshToken) {\n        const cacheEntry = {\n          ...entry.body,\n          refresh_token: newRefreshToken,\n        } as CacheEntry;\n\n        await this.set(cacheEntry);\n      }\n    }\n  }\n}\n","import { ClientStorage } from './storage';\n\nconst TRANSACTION_STORAGE_KEY_PREFIX = 'a0.spajs.txs';\n\nexport interface LoginTransaction {\n  nonce: string;\n  scope: string;\n  audience: string;\n  appState?: any;\n  code_verifier: string;\n  redirect_uri?: string;\n  organization?: string;\n  state?: string;\n  response_type: 'code';\n}\n\nexport interface ConnectAccountTransaction {\n  appState?: any;\n  audience?: string;\n  auth_session: string;\n  code_verifier: string;\n  redirect_uri: string;\n  scope?: string;\n  state: string;\n  connection: string;\n  response_type: 'connect_code';\n}\n\nexport class TransactionManager {\n  private storageKey: string;\n\n  constructor(\n    private storage: ClientStorage,\n    private clientId: string,\n    private cookieDomain?: string\n  ) {\n    this.storageKey = `${TRANSACTION_STORAGE_KEY_PREFIX}.${this.clientId}`;\n  }\n\n  public create<T extends Object = LoginTransaction>(transaction: T) {\n    this.storage.save(this.storageKey, transaction, {\n      daysUntilExpire: 1,\n      cookieDomain: this.cookieDomain\n    });\n  }\n\n  public get<T extends Object = LoginTransaction>(): T | undefined {\n    return this.storage.get(this.storageKey);\n  }\n\n  public remove() {\n    this.storage.remove(this.storageKey, {\n      cookieDomain: this.cookieDomain\n    });\n  }\n}","import { urlDecodeB64 } from './utils';\nimport { IdToken, JWTVerifyOptions } from './global';\n\nconst isNumber = (n: any) => typeof n === 'number';\n\nconst idTokendecoded = [\n  'iss',\n  'aud',\n  'exp',\n  'nbf',\n  'iat',\n  'jti',\n  'azp',\n  'nonce',\n  'auth_time',\n  'at_hash',\n  'c_hash',\n  'acr',\n  'amr',\n  'sub_jwk',\n  'cnf',\n  'sip_from_tag',\n  'sip_date',\n  'sip_callid',\n  'sip_cseq_num',\n  'sip_via_branch',\n  'orig',\n  'dest',\n  'mky',\n  'events',\n  'toe',\n  'txn',\n  'rph',\n  'sid',\n  'vot',\n  'vtm'\n];\n\nexport const decode = (token: string) => {\n  const parts = token.split('.');\n  const [header, payload, signature] = parts;\n\n  if (parts.length !== 3 || !header || !payload || !signature) {\n    throw new Error('ID token could not be decoded');\n  }\n  const payloadJSON = JSON.parse(urlDecodeB64(payload));\n  const claims: IdToken = { __raw: token };\n  const user: any = {};\n  Object.keys(payloadJSON).forEach(k => {\n    claims[k] = payloadJSON[k];\n    if (!idTokendecoded.includes(k)) {\n      user[k] = payloadJSON[k];\n    }\n  });\n  return {\n    encoded: { header, payload, signature },\n    header: JSON.parse(urlDecodeB64(header)),\n    claims,\n    user\n  };\n};\n\nexport const verify = (options: JWTVerifyOptions) => {\n  if (!options.id_token) {\n    throw new Error('ID token is required but missing');\n  }\n\n  const decoded = decode(options.id_token);\n\n  if (!decoded.claims.iss) {\n    throw new Error(\n      'Issuer (iss) claim must be a string present in the ID token'\n    );\n  }\n\n  if (decoded.claims.iss !== options.iss) {\n    throw new Error(\n      `Issuer (iss) claim mismatch in the ID token; expected \"${options.iss}\", found \"${decoded.claims.iss}\"`\n    );\n  }\n\n  if (!decoded.user.sub) {\n    throw new Error(\n      'Subject (sub) claim must be a string present in the ID token'\n    );\n  }\n\n  if (decoded.header.alg !== 'RS256') {\n    throw new Error(\n      `Signature algorithm of \"${decoded.header.alg}\" is not supported. Expected the ID token to be signed with \"RS256\".`\n    );\n  }\n\n  if (\n    !decoded.claims.aud ||\n    !(\n      typeof decoded.claims.aud === 'string' ||\n      Array.isArray(decoded.claims.aud)\n    )\n  ) {\n    throw new Error(\n      'Audience (aud) claim must be a string or array of strings present in the ID token'\n    );\n  }\n  if (Array.isArray(decoded.claims.aud)) {\n    if (!decoded.claims.aud.includes(options.aud)) {\n      throw new Error(\n        `Audience (aud) claim mismatch in the ID token; expected \"${\n          options.aud\n        }\" but was not one of \"${decoded.claims.aud.join(', ')}\"`\n      );\n    }\n    if (decoded.claims.aud.length > 1) {\n      if (!decoded.claims.azp) {\n        throw new Error(\n          'Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values'\n        );\n      }\n      if (decoded.claims.azp !== options.aud) {\n        throw new Error(\n          `Authorized Party (azp) claim mismatch in the ID token; expected \"${options.aud}\", found \"${decoded.claims.azp}\"`\n        );\n      }\n    }\n  } else if (decoded.claims.aud !== options.aud) {\n    throw new Error(\n      `Audience (aud) claim mismatch in the ID token; expected \"${options.aud}\" but found \"${decoded.claims.aud}\"`\n    );\n  }\n  if (options.nonce) {\n    if (!decoded.claims.nonce) {\n      throw new Error(\n        'Nonce (nonce) claim must be a string present in the ID token'\n      );\n    }\n    if (decoded.claims.nonce !== options.nonce) {\n      throw new Error(\n        `Nonce (nonce) claim mismatch in the ID token; expected \"${options.nonce}\", found \"${decoded.claims.nonce}\"`\n      );\n    }\n  }\n\n  if (options.max_age && !isNumber(decoded.claims.auth_time)) {\n    throw new Error(\n      'Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified'\n    );\n  }\n\n  /* c8 ignore next 5 */\n  if (decoded.claims.exp == null || !isNumber(decoded.claims.exp)) {\n    throw new Error(\n      'Expiration Time (exp) claim must be a number present in the ID token'\n    );\n  }\n  if (!isNumber(decoded.claims.iat)) {\n    throw new Error(\n      'Issued At (iat) claim must be a number present in the ID token'\n    );\n  }\n\n  const leeway = options.leeway || 60;\n  const now = new Date(options.now || Date.now());\n  const expDate = new Date(0);\n\n  expDate.setUTCSeconds(decoded.claims.exp + leeway);\n\n  if (now > expDate) {\n    throw new Error(\n      `Expiration Time (exp) claim error in the ID token; current time (${now}) is after expiration time (${expDate})`\n    );\n  }\n\n  if (decoded.claims.nbf != null && isNumber(decoded.claims.nbf)) {\n    const nbfDate = new Date(0);\n    nbfDate.setUTCSeconds(decoded.claims.nbf - leeway);\n    if (now < nbfDate) {\n      throw new Error(\n        `Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${now}) is before ${nbfDate}`\n      );\n    }\n  }\n\n  if (decoded.claims.auth_time != null && isNumber(decoded.claims.auth_time)) {\n    const authTimeDate = new Date(0);\n    authTimeDate.setUTCSeconds(\n      parseInt(decoded.claims.auth_time) + (options.max_age as number) + leeway\n    );\n\n    if (now > authTimeDate) {\n      throw new Error(\n        `Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${now}) is after last auth at ${authTimeDate}`\n      );\n    }\n  }\n\n  if (options.organization) {\n    const org = options.organization.trim();\n    if (org.startsWith('org_')) {\n      const orgId = org;\n      if (!decoded.claims.org_id) {\n        throw new Error(\n          'Organization ID (org_id) claim must be a string present in the ID token'\n        );\n      } else if (orgId !== decoded.claims.org_id) {\n        throw new Error(\n          `Organization ID (org_id) claim mismatch in the ID token; expected \"${orgId}\", found \"${decoded.claims.org_id}\"`\n        );\n      }\n    } else {\n      const orgName = org.toLowerCase();\n      // TODO should we verify if there is an `org_id` claim?\n      if (!decoded.claims.org_name) {\n        throw new Error(\n          'Organization Name (org_name) claim must be a string present in the ID token'\n        );\n      } else if (orgName !== decoded.claims.org_name) {\n        throw new Error(\n          `Organization Name (org_name) claim mismatch in the ID token; expected \"${orgName}\", found \"${decoded.claims.org_name}\"`\n        );\n      }\n    }\n  }\n\n  return decoded;\n};\n","\"use strict\";\r\nvar __assign = (this && this.__assign) || function () {\r\n    __assign = Object.assign || function(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n                t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\nexports.__esModule = true;\r\nfunction stringifyAttribute(name, value) {\r\n    if (!value) {\r\n        return '';\r\n    }\r\n    var stringified = '; ' + name;\r\n    if (value === true) {\r\n        return stringified; // boolean attributes shouldn't have a value\r\n    }\r\n    return stringified + '=' + value;\r\n}\r\nfunction stringifyAttributes(attributes) {\r\n    if (typeof attributes.expires === 'number') {\r\n        var expires = new Date();\r\n        expires.setMilliseconds(expires.getMilliseconds() + attributes.expires * 864e+5);\r\n        attributes.expires = expires;\r\n    }\r\n    return stringifyAttribute('Expires', attributes.expires ? attributes.expires.toUTCString() : '')\r\n        + stringifyAttribute('Domain', attributes.domain)\r\n        + stringifyAttribute('Path', attributes.path)\r\n        + stringifyAttribute('Secure', attributes.secure)\r\n        + stringifyAttribute('SameSite', attributes.sameSite);\r\n}\r\nfunction encode(name, value, attributes) {\r\n    return encodeURIComponent(name)\r\n        .replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent) // allowed special characters\r\n        .replace(/\\(/g, '%28').replace(/\\)/g, '%29') // replace opening and closing parens\r\n        + '=' + encodeURIComponent(value)\r\n        // allowed special characters\r\n        .replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent)\r\n        + stringifyAttributes(attributes);\r\n}\r\nexports.encode = encode;\r\nfunction parse(cookieString) {\r\n    var result = {};\r\n    var cookies = cookieString ? cookieString.split('; ') : [];\r\n    var rdecode = /(%[\\dA-F]{2})+/gi;\r\n    for (var i = 0; i < cookies.length; i++) {\r\n        var parts = cookies[i].split('=');\r\n        var cookie = parts.slice(1).join('=');\r\n        if (cookie.charAt(0) === '\"') {\r\n            cookie = cookie.slice(1, -1);\r\n        }\r\n        try {\r\n            var name_1 = parts[0].replace(rdecode, decodeURIComponent);\r\n            result[name_1] = cookie.replace(rdecode, decodeURIComponent);\r\n        }\r\n        catch (e) {\r\n            // ignore cookies with invalid name/value encoding\r\n        }\r\n    }\r\n    return result;\r\n}\r\nexports.parse = parse;\r\nfunction getAll() {\r\n    return parse(document.cookie);\r\n}\r\nexports.getAll = getAll;\r\nfunction get(name) {\r\n    return getAll()[name];\r\n}\r\nexports.get = get;\r\nfunction set(name, value, attributes) {\r\n    document.cookie = encode(name, value, __assign({ path: '/' }, attributes));\r\n}\r\nexports.set = set;\r\nfunction remove(name, attributes) {\r\n    set(name, '', __assign(__assign({}, attributes), { expires: -1 }));\r\n}\r\nexports.remove = remove;\r\n","import * as Cookies from 'es-cookie';\n\ninterface ClientStorageOptions {\n  daysUntilExpire?: number;\n  cookieDomain?: string;\n}\n\n/**\n * Defines a type that handles storage to/from a storage location\n */\nexport type ClientStorage = {\n  get<T extends Object>(key: string): T | undefined;\n  save(key: string, value: any, options?: ClientStorageOptions): void;\n  remove(key: string, options?: ClientStorageOptions): void;\n};\n\n/**\n * A storage protocol for marshalling data to/from cookies\n */\nexport const CookieStorage = {\n  get<T extends Object>(key: string) {\n    const value = Cookies.get(key);\n\n    if (typeof value === 'undefined') {\n      return;\n    }\n\n    return <T>JSON.parse(value);\n  },\n\n  save(key: string, value: any, options?: ClientStorageOptions): void {\n    let cookieAttributes: Cookies.CookieAttributes = {};\n\n    if ('https:' === window.location.protocol) {\n      cookieAttributes = {\n        secure: true,\n        sameSite: 'none'\n      };\n    }\n\n    if (options?.daysUntilExpire) {\n      cookieAttributes.expires = options.daysUntilExpire;\n    }\n\n    if (options?.cookieDomain) {\n      cookieAttributes.domain = options.cookieDomain;\n    }\n\n    Cookies.set(key, JSON.stringify(value), cookieAttributes);\n  },\n\n  remove(key: string, options?: ClientStorageOptions) {\n    let cookieAttributes: Cookies.CookieAttributes = {};\n\n    if (options?.cookieDomain) {\n      cookieAttributes.domain = options.cookieDomain;\n    }\n\n    Cookies.remove(key, cookieAttributes);\n  }\n} as ClientStorage;\n\n/**\n * @ignore\n */\nconst LEGACY_PREFIX = '_legacy_';\n\n/**\n * Cookie storage that creates a cookie for modern and legacy browsers.\n * See: https://web.dev/samesite-cookie-recipes/#handling-incompatible-clients\n */\nexport const CookieStorageWithLegacySameSite = {\n  get<T extends Object>(key: string) {\n    const value = CookieStorage.get<T>(key);\n\n    if (value) {\n      return value;\n    }\n\n    return CookieStorage.get<T>(`${LEGACY_PREFIX}${key}`);\n  },\n\n  save(key: string, value: any, options?: ClientStorageOptions): void {\n    let cookieAttributes: Cookies.CookieAttributes = {};\n\n    if ('https:' === window.location.protocol) {\n      cookieAttributes = { secure: true };\n    }\n\n    if (options?.daysUntilExpire) {\n      cookieAttributes.expires = options.daysUntilExpire;\n    }\n\n    if (options?.cookieDomain) {\n      cookieAttributes.domain = options.cookieDomain;\n    }\n\n    Cookies.set(\n      `${LEGACY_PREFIX}${key}`,\n      JSON.stringify(value),\n      cookieAttributes\n    );\n    CookieStorage.save(key, value, options);\n  },\n\n  remove(key: string, options?: ClientStorageOptions) {\n    let cookieAttributes: Cookies.CookieAttributes = {};\n\n    if (options?.cookieDomain) {\n      cookieAttributes.domain = options.cookieDomain;\n    }\n\n    Cookies.remove(key, cookieAttributes);\n    CookieStorage.remove(key, options);\n    CookieStorage.remove(`${LEGACY_PREFIX}${key}`, options);\n  }\n} as ClientStorage;\n\n/**\n * A storage protocol for marshalling data to/from session storage\n */\nexport const SessionStorage = {\n  get<T extends Object>(key: string) {\n    /* c8 ignore next 3 */\n    if (typeof sessionStorage === 'undefined') {\n      return;\n    }\n\n    const value = sessionStorage.getItem(key);\n\n    if (value == null) {\n      return;\n    }\n\n    return <T>JSON.parse(value);\n  },\n\n  save(key: string, value: any): void {\n    sessionStorage.setItem(key, JSON.stringify(value));\n  },\n\n  remove(key: string) {\n    sessionStorage.removeItem(key);\n  }\n} as ClientStorage;\n","import { ICache } from './cache';\nimport type { Dpop } from './dpop/dpop';\nimport { CompleteResponse } from './MyAccountApiClient';\n\nexport interface AuthorizationParams {\n  /**\n   * - `'page'`: displays the UI with a full page view\n   * - `'popup'`: displays the UI with a popup window\n   * - `'touch'`: displays the UI in a way that leverages a touch interface\n   * - `'wap'`: displays the UI with a \"feature phone\" type interface\n   */\n  display?: 'page' | 'popup' | 'touch' | 'wap';\n\n  /**\n   * - `'none'`: do not prompt user for login or consent on reauthentication\n   * - `'login'`: prompt user for reauthentication\n   * - `'consent'`: prompt user for consent before processing request\n   * - `'select_account'`: prompt user to select an account\n   */\n  prompt?: 'none' | 'login' | 'consent' | 'select_account';\n\n  /**\n   * Maximum allowable elapsed time (in seconds) since authentication.\n   * If the last time the user authenticated is greater than this value,\n   * the user must be reauthenticated.\n   */\n  max_age?: string | number;\n\n  /**\n   * The space-separated list of language tags, ordered by preference.\n   * For example: `'fr-CA fr en'`.\n   */\n  ui_locales?: string;\n\n  /**\n   * Previously issued ID Token.\n   */\n  id_token_hint?: string;\n\n  /**\n   * Provides a hint to Auth0 as to what flow should be displayed.\n   * The default behavior is to show a login page but you can override\n   * this by passing 'signup' to show the signup page instead.\n   *\n   * This only affects the New Universal Login Experience.\n   */\n  screen_hint?: 'signup' | 'login' | string;\n\n  /**\n   * The user's email address or other identifier. When your app knows\n   * which user is trying to authenticate, you can provide this parameter\n   * to pre-fill the email box or select the right session for sign-in.\n   *\n   * This currently only affects the classic Lock experience.\n   */\n  login_hint?: string;\n\n  acr_values?: string;\n\n  /**\n   * The default scope to be used on authentication requests.\n   *\n   * This defaults to `profile email` if not set. If you are setting extra scopes and require\n   * `profile` and `email` to be included then you must include them in the provided scope.\n   *\n   * Note: The `openid` scope is **always applied** regardless of this setting.\n   */\n  scope?: string;\n\n  /**\n   * The default audience to be used for requesting API access.\n   */\n  audience?: string;\n\n  /**\n   * The name of the connection configured for your application.\n   * If null, it will redirect to the Auth0 Login Page and show\n   * the Login Widget.\n   */\n  connection?: string;\n\n  /**\n   * The organization to log in to.\n   *\n   * This will specify an `organization` parameter in your user's login request.\n   *\n   * - If you provide an Organization ID (a string with the prefix `org_`), it will be validated against the `org_id` claim of your user's ID Token. The validation is case-sensitive.\n   * - If you provide an Organization Name (a string *without* the prefix `org_`), it will be validated against the `org_name` claim of your user's ID Token. The validation is case-insensitive.\n   *   To use an Organization Name you must have \"Allow Organization Names in Authentication API\" switched on in your Auth0 settings dashboard.\n   *   More information is available on the [Auth0 documentation portal](https://auth0.com/docs/manage-users/organizations/configure-organizations/use-org-name-authentication-api)\n   *\n   */\n  organization?: string;\n\n  /**\n   * The Id of an invitation to accept. This is available from the user invitation URL that is given when participating in a user invitation flow.\n   */\n  invitation?: string;\n\n  /**\n   * The default URL where Auth0 will redirect your browser to with\n   * the authentication result. It must be whitelisted in\n   * the \"Allowed Callback URLs\" field in your Auth0 Application's\n   * settings. If not provided here, it should be provided in the other\n   * methods that provide authentication.\n   */\n  redirect_uri?: string;\n\n  /**\n   * If you need to send custom parameters to the Authorization Server,\n   * make sure to use the original parameter name.\n   */\n  [key: string]: any;\n}\n\nexport interface ClientAuthorizationParams extends Omit<AuthorizationParams, 'scope'> {\n  scope?: string | Record<string, string>\n};\n\ninterface BaseLoginOptions {\n  /**\n   * URL parameters that will be sent back to the Authorization Server. This can be known parameters\n   * defined by Auth0 or custom parameters that you define.\n   */\n  authorizationParams?: AuthorizationParams;\n}\n\nexport interface Auth0ClientOptions {\n  /**\n   * Your Auth0 account domain such as `'example.auth0.com'`,\n   * `'example.eu.auth0.com'` or , `'example.mycompany.com'`\n   * (when using [custom domains](https://auth0.com/docs/custom-domains))\n   */\n  domain: string;\n  /**\n   * The issuer to be used for validation of JWTs, optionally defaults to the domain above\n   */\n  issuer?: string;\n  /**\n   * The Client ID found on your Application settings page\n   */\n  clientId: string;\n  /**\n   * The value in seconds used to account for clock skew in JWT expirations.\n   * Typically, this value is no more than a minute or two at maximum.\n   * Defaults to 60s.\n   */\n  leeway?: number;\n\n  /**\n   * The location to use when storing cache data. Valid values are `memory` or `localstorage`.\n   * The default setting is `memory`.\n   *\n   * Read more about [changing storage options in the Auth0 docs](https://auth0.com/docs/libraries/auth0-single-page-app-sdk#change-storage-options)\n   */\n  cacheLocation?: CacheLocation;\n\n  /**\n   * Specify a custom cache implementation to use for token storage and retrieval. This setting takes precedence over `cacheLocation` if they are both specified.\n   */\n  cache?: ICache;\n\n  /**\n   * If true, refresh tokens are used to fetch new access tokens from the Auth0 server. If false, the standard technique of using a hidden iframe and the `authorization_code` grant with `prompt=none` is used.\n   * The default setting is `false`.\n   *\n   * Standard technique relies on cookies. Because browsers increasingly block third-party cookies, it requires a Custom Domain to function reliably. Refresh tokens serve as a fallback for environments where third-party cookies are blocked.\n   * Using a Custom Domain with this set to `false` is the most secure and recommended approach.\n   *\n   * **Note**: Use of refresh tokens must be enabled by an administrator on your Auth0 client application.\n   */\n  useRefreshTokens?: boolean;\n\n  /**\n   * If true, fallback to the technique of using a hidden iframe and the `authorization_code` grant with `prompt=none` when unable to use refresh tokens. If false, the iframe fallback is not used and\n   * errors relating to a failed `refresh_token` grant should be handled appropriately. The default setting is `false`.\n   *\n   * **Note**: There might be situations where doing silent auth with a Web Message response from an iframe is not possible,\n   * like when you're serving your application from the file system or a custom protocol (like in a Desktop or Native app).\n   * In situations like this you can disable the iframe fallback and handle the failed `refresh_token` grant and prompt the user to login interactively with `loginWithRedirect` or `loginWithPopup`.\"\n   *\n   * E.g. Using the `file:` protocol in an Electron application does not support that legacy technique.\n   *\n   * @example\n   * let token: string;\n   * try {\n   *   token = await auth0.getTokenSilently();\n   * } catch (e) {\n   *   if (e.error === 'missing_refresh_token' || e.error === 'invalid_grant') {\n   *     auth0.loginWithRedirect();\n   *   }\n   * }\n   */\n  useRefreshTokensFallback?: boolean;\n\n  /**\n   * A maximum number of seconds to wait before declaring background calls to /authorize as failed for timeout\n   * Defaults to 60s.\n   */\n  authorizeTimeoutInSeconds?: number;\n\n  /**\n   * Specify the timeout for HTTP calls using `fetch`. The default is 10 seconds.\n   */\n  httpTimeoutInSeconds?: number;\n\n  /**\n   * Internal property to send information about the client to the authorization server.\n   * @internal\n   */\n  auth0Client?: {\n    name: string;\n    version: string;\n    env?: { [key: string]: string };\n  };\n\n  /**\n   * Sets an additional cookie with no SameSite attribute to support legacy browsers\n   * that are not compatible with the latest SameSite changes.\n   * This will log a warning on modern browsers, you can disable the warning by setting\n   * this to false but be aware that some older useragents will not work,\n   * See https://www.chromium.org/updates/same-site/incompatible-clients\n   * Defaults to true\n   */\n  legacySameSiteCookie?: boolean;\n\n  /**\n   * If `true`, the SDK will use a cookie when storing information about the auth transaction while\n   * the user is going through the authentication flow on the authorization server.\n   *\n   * The default is `false`, in which case the SDK will use session storage.\n   *\n   * @notes\n   *\n   * You might want to enable this if you rely on your users being able to authenticate using flows that\n   * may end up spanning across multiple tabs (e.g. magic links) or you cannot otherwise rely on session storage being available.\n   */\n  useCookiesForTransactions?: boolean;\n\n  /**\n   * Number of days until the cookie `auth0.is.authenticated` will expire\n   * Defaults to 1.\n   */\n  sessionCheckExpiryDays?: number;\n\n  /**\n   * The domain the cookie is accessible from. If not set, the cookie is scoped to\n   * the current domain, including the subdomain.\n   *\n   * Note: setting this incorrectly may cause silent authentication to stop working\n   * on page load.\n   *\n   *\n   * To keep a user logged in across multiple subdomains set this to your\n   * top-level domain and prefixed with a `.` (eg: `.example.com`).\n   */\n  cookieDomain?: string;\n\n  /**\n   * If true, data to the token endpoint is transmitted as x-www-form-urlencoded data, if false it will be transmitted as JSON. The default setting is `true`.\n   *\n   * **Note:** Setting this to `false` may affect you if you use Auth0 Rules and are sending custom, non-primitive data. If you disable this,\n   * please verify that your Auth0 Rules continue to work as intended.\n   */\n  useFormData?: boolean;\n\n  /**\n   * Modify the value used as the current time during the token validation.\n   *\n   * **Note**: Using this improperly can potentially compromise the token validation.\n   */\n  nowProvider?: () => Promise<number> | number;\n\n  /**\n   * If provided, the SDK will load the token worker from this URL instead of the integrated `blob`. An example of when this is useful is if you have strict\n   * Content-Security-Policy (CSP) and wish to avoid needing to set `worker-src: blob:`. We recommend either serving the worker, which you can find in the module\n   * at `<module_path>/dist/auth0-spa-js.worker.production.js`, from the same host as your application or using the Auth0 CDN\n   * `https://cdn.auth0.com/js/auth0-spa-js/<version>/auth0-spa-js.worker.production.js`.\n   *\n   * **Note**: The worker is only used when `useRefreshTokens: true`, `cacheLocation: 'memory'`, and the `cache` is not custom.\n   */\n  workerUrl?: string;\n\n\n  /**\n   * If `true`, the SDK will allow the refreshing of tokens using MRRT\n   */\n  useMrrt?: boolean;\n\n  /**\n   * If `true`, DPoP (OAuth 2.0 Demonstrating Proof of Possession, RFC9449)\n   * will be used to cryptographically bind tokens to this specific browser\n   * so they can't be used from a different device in case of a leak.\n   *\n   * The default setting is `false`.\n   */\n  useDpop?: boolean;\n\n  /**\n   * URL parameters that will be sent back to the Authorization Server. This can be known parameters\n   * defined by Auth0 or custom parameters that you define.\n   */\n  authorizationParams?: ClientAuthorizationParams;\n}\n\n/**\n * Configuration details exposed by the Auth0Client after initialization.\n *\n * @category Main\n */\nexport interface ClientConfiguration {\n  /**\n   * The Auth0 domain that was configured\n   */\n  domain: string;\n\n  /**\n   * The Auth0 client ID that was configured\n   */\n  clientId: string;\n}\n\n/**\n * The possible locations where tokens can be stored\n */\nexport type CacheLocation = 'memory' | 'localstorage';\n\n/**\n * @ignore\n */\nexport interface AuthorizeOptions extends AuthorizationParams {\n  response_type: string;\n  response_mode: string;\n  redirect_uri?: string;\n  nonce: string;\n  state: string;\n  scope: string;\n  code_challenge: string;\n  code_challenge_method: string;\n}\n\nexport interface RedirectLoginOptions<TAppState = any>\n  extends BaseLoginOptions {\n  /**\n   * Used to store state before doing the redirect\n   */\n  appState?: TAppState;\n  /**\n   * Used to add to the URL fragment before redirecting\n   */\n  fragment?: string;\n  /**\n   * Used to control the redirect and not rely on the SDK to do the actual redirect.\n   *\n   * @example\n   * const client = new Auth0Client({\n   *   async onRedirect(url) {\n   *     window.location.replace(url);\n   *   }\n   * });\n   * @deprecated since v2.0.1, use `openUrl` instead.\n   */\n  onRedirect?: (url: string) => Promise<void>;\n\n  /**\n   * Used to control the redirect and not rely on the SDK to do the actual redirect.\n   *\n   * @example\n   * const client = new Auth0Client({\n   *   openUrl(url) {\n   *     window.location.replace(url);\n   *   }\n   * });\n   *\n   * @example\n   * import { Browser } from '@capacitor/browser';\n   *\n   * const client = new Auth0Client({\n   *   async openUrl(url) {\n   *     await Browser.open({ url });\n   *   }\n   * });\n   */\n  openUrl?: (url: string) => Promise<void> | void;\n}\n\n/**\n * The types of responses expected from the authorization server.\n * - `code`: used for the standard login flow.\n * - `connect_code`: used for the connect account flow.\n */\nexport enum ResponseType {\n  Code = 'code',\n  ConnectCode = 'connect_code'\n}\n\nexport interface RedirectLoginResult<TAppState = any> {\n  /**\n   * State stored when the redirect request was made\n   */\n  appState?: TAppState;\n\n  /**\n   * The type of response, for login it will be `code`\n   */\n  response_type: ResponseType.Code;\n}\n\nexport interface PopupLoginOptions extends BaseLoginOptions { }\n\nexport interface PopupConfigOptions {\n  /**\n   * The number of seconds to wait for a popup response before\n   * throwing a timeout error. Defaults to 60s\n   */\n  timeoutInSeconds?: number;\n\n  /**\n   * Accepts an already-created popup window to use. If not specified, the SDK\n   * will create its own. This may be useful for platforms like iOS that have\n   * security restrictions around when popups can be invoked (e.g. from a user click event)\n   */\n  popup?: any;\n\n  /**\n   * Controls whether the SDK automatically closes the popup window.\n   *\n   * - `true` (default): SDK closes the popup automatically after receiving the authorization response\n   * - `false`: SDK does not close the popup. The caller is responsible for closing it, including on errors.\n   *\n   * Setting this to `false` is useful when you need full control over the popup lifecycle,\n   * such as in Chrome extensions where closing the popup too early can terminate the\n   * extension's service worker before authentication completes.\n   *\n   * When `closePopup: false`, you should close the popup in a try/finally block:\n   * ```\n   * const popup = window.open('', '_blank');\n   * try {\n   *   await auth0.loginWithPopup({}, { popup, closePopup: false });\n   * } finally {\n   *   popup.close();\n   * }\n   * ```\n   *\n   * @default true\n   */\n  closePopup?: boolean;\n}\n\nexport interface GetTokenSilentlyOptions {\n  /**\n   * When `off`, ignores the cache and always sends a\n   * request to Auth0.\n   * When `cache-only`, only reads from the cache and never sends a request to Auth0.\n   * Defaults to `on`, where it both reads from the cache and sends a request to Auth0 as needed.\n   */\n  cacheMode?: 'on' | 'off' | 'cache-only';\n\n  /**\n   * Parameters that will be sent back to Auth0 as part of a request.\n   */\n  authorizationParams?: {\n    /**\n     * There's no actual redirect when getting a token silently,\n     * but, according to the spec, a `redirect_uri` param is required.\n     * Auth0 uses this parameter to validate that the current `origin`\n     * matches the `redirect_uri` `origin` when sending the response.\n     * It must be whitelisted in the \"Allowed Web Origins\" in your\n     * Auth0 Application's settings.\n     */\n    redirect_uri?: string;\n\n    /**\n     * The scope that was used in the authentication request\n     */\n    scope?: string;\n\n    /**\n     * The audience that was used in the authentication request\n     */\n    audience?: string;\n\n    /**\n     * If you need to send custom parameters to the Authorization Server,\n     * make sure to use the original parameter name.\n     */\n    [key: string]: any;\n  };\n\n  /** A maximum number of seconds to wait before declaring the background /authorize call as failed for timeout\n   * Defaults to 60s.\n   */\n  timeoutInSeconds?: number;\n\n  /**\n   * If true, the full response from the /oauth/token endpoint (or the cache, if the cache was used) is returned\n   * (minus `refresh_token` if one was issued). Otherwise, just the access token is returned.\n   *\n   * The default is `false`.\n   */\n  detailedResponse?: boolean;\n}\n\nexport interface GetTokenWithPopupOptions extends PopupLoginOptions {\n  /**\n   * When `off`, ignores the cache and always sends a request to Auth0.\n   * When `cache-only`, only reads from the cache and never sends a request to Auth0.\n   * Defaults to `on`, where it both reads from the cache and sends a request to Auth0 as needed.\n   */\n  cacheMode?: 'on' | 'off' | 'cache-only';\n}\n\nexport interface LogoutUrlOptions {\n  /**\n   * The `clientId` of your application.\n   *\n   * If this property is not set, then the `clientId` that was used during initialization of the SDK is sent to the logout endpoint.\n   *\n   * If this property is set to `null`, then no client ID value is sent to the logout endpoint.\n   *\n   * [Read more about how redirecting after logout works](https://auth0.com/docs/logout/guides/redirect-users-after-logout)\n   */\n  clientId?: string | null;\n\n  /**\n   * Parameters to pass to the logout endpoint. This can be known parameters defined by Auth0 or custom parameters\n   * you wish to provide.\n   */\n  logoutParams?: {\n    /**\n     * When supported by the upstream identity provider,\n     * forces the user to logout of their identity provider\n     * and from Auth0.\n     * [Read more about how federated logout works at Auth0](https://auth0.com/docs/logout/guides/logout-idps)\n     */\n    federated?: boolean;\n    /**\n     * The URL where Auth0 will redirect your browser to after the logout.\n     *\n     * **Note**: If the `client_id` parameter is included, the\n     * `returnTo` URL that is provided must be listed in the\n     * Application's \"Allowed Logout URLs\" in the Auth0 dashboard.\n     * However, if the `client_id` parameter is not included, the\n     * `returnTo` URL must be listed in the \"Allowed Logout URLs\" at\n     * the account level in the Auth0 dashboard.\n     *\n     * [Read more about how redirecting after logout works](https://auth0.com/docs/logout/guides/redirect-users-after-logout)\n     */\n    returnTo?: string;\n\n    /**\n     * If you need to send custom parameters to the logout endpoint, make sure to use the original parameter name.\n     */\n    [key: string]: any;\n  };\n}\n\nexport interface LogoutOptions extends LogoutUrlOptions {\n  /**\n   * Used to control the redirect and not rely on the SDK to do the actual redirect.\n   *\n   * @example\n   * await auth0.logout({\n   *   async onRedirect(url) {\n   *     window.location.replace(url);\n   *   }\n   * });\n   * @deprecated since v2.0.1, use `openUrl` instead.\n   */\n  onRedirect?: (url: string) => Promise<void>;\n\n  /**\n   * Used to control the redirect and not rely on the SDK to do the actual redirect.\n   *\n   * Set to `false` to disable the redirect, or provide a function to handle the actual redirect yourself.\n   *\n   * @example\n   * await auth0.logout({\n   *   openUrl(url) {\n   *     window.location.replace(url);\n   *   }\n   * });\n   *\n   * @example\n   * import { Browser } from '@capacitor/browser';\n   *\n   * await auth0.logout({\n   *   async openUrl(url) {\n   *     await Browser.open({ url });\n   *   }\n   * });\n   */\n  openUrl?: false | ((url: string) => Promise<void> | void);\n}\n\nexport interface RedirectConnectAccountOptions<TAppState = any> {\n  /**\n   * The name of the connection to link (e.g. 'google-oauth2').\n   */\n  connection: string;\n\n  /**\n   * Array of scopes to request from the Identity Provider during the connect account flow.\n   * \n   * @example\n   * await auth0.connectAccountWithRedirect({\n   *   connection: 'google-oauth2',\n   *   scopes: ['https://www.googleapis.com/auth/calendar']\n   * });\n   */\n  scopes?: string[];\n\n  /**\n   * Additional authorization parameters for the request.\n   *\n   * @example\n   * await auth0.connectAccountWithRedirect({\n   *   connection: 'github',\n   *   authorization_params: {\n   *     audience: 'https://api.github.com'\n   *   }\n   * });\n   */\n  authorization_params?: AuthorizationParams;\n\n  /**\n   * The URI to redirect back to after connecting the account.\n   */\n  redirectUri?: string;\n\n  /**\n   * Optional application state to persist through the transaction.\n   *\n   * @example\n   * await auth0.connectAccountWithRedirect({\n   *   connection: 'google-oauth2',\n   *   appState: { returnTo: '/settings' }\n   * });\n   */\n  appState?: TAppState;\n\n  /**\n   * Optional function to handle the redirect URL.\n   *\n   * @example\n   * await auth0.connectAccountWithRedirect({\n   *   connection: 'google-oauth2',\n   *   openUrl: async (url) => { myBrowserApi.open(url); }\n   * });\n   */\n  openUrl?: (url: string) => Promise<void>;\n}\n\n/**\n * The result returned after a successful account connection redirect.\n *\n * Combines the redirect login result (including any persisted app state)\n * with the complete response from the My Account API.\n *\n * @template TAppState - The type of application state persisted through the transaction.\n * @example\n * const result = await auth0.connectAccountWithRedirect(options);\n * console.log(result.appState); // Access persisted app state\n * console.log(result.connection);   // The connection of the account you connected to.\n * console.log(result.response_type === 'connect_code');   // The response type will be 'connect_code'\n */\nexport type ConnectAccountRedirectResult<TAppState = any> = CompleteResponse & {\n  /**\n   * State stored when the redirect request was made\n   */\n  appState?: TAppState;\n\n  /**\n   * The type of response, for connect account it will be `connect_code`\n   */\n  response_type: ResponseType.ConnectCode;\n};\n\n/**\n * @ignore\n */\nexport interface AuthenticationResult {\n  state: string;\n  code?: string;\n  /**\n   * This is for the redirect from the connect account flow.\n   */\n  connect_code?: string;\n  error?: string;\n  error_description?: string;\n}\n\n/**\n * @ignore\n */\nexport interface TokenEndpointOptions {\n  baseUrl: string;\n  client_id: string;\n  grant_type: string;\n  timeout?: number;\n  auth0Client: any;\n  useFormData?: boolean;\n  dpop?: Pick<Dpop, 'generateProof' | 'getNonce' | 'setNonce'>;\n  [key: string]: any;\n}\n\nexport type TokenEndpointResponse = {\n  id_token: string;\n  token_type: string;\n  access_token: string;\n  refresh_token?: string;\n  expires_in: number;\n  scope?: string;\n};\n\n/**\n * @ignore\n */\nexport interface OAuthTokenOptions extends TokenEndpointOptions {\n  code_verifier: string;\n  code: string;\n  redirect_uri: string;\n  audience: string;\n  scope: string;\n}\n\n/**\n * @ignore\n */\nexport interface RefreshTokenOptions extends TokenEndpointOptions {\n  refresh_token: string;\n}\n\n/**\n * @ignore\n */\nexport interface JWTVerifyOptions {\n  iss: string;\n  aud: string;\n  id_token: string;\n  nonce?: string;\n  leeway?: number;\n  max_age?: number;\n  organization?: string;\n  now?: number;\n}\n\nexport interface IdToken {\n  __raw: string;\n  name?: string;\n  given_name?: string;\n  family_name?: string;\n  middle_name?: string;\n  nickname?: string;\n  preferred_username?: string;\n  profile?: string;\n  picture?: string;\n  website?: string;\n  email?: string;\n  email_verified?: boolean;\n  gender?: string;\n  birthdate?: string;\n  zoneinfo?: string;\n  locale?: string;\n  phone_number?: string;\n  phone_number_verified?: boolean;\n  address?: string;\n  updated_at?: string;\n  iss?: string;\n  aud?: string;\n  exp?: number;\n  nbf?: number;\n  iat?: number;\n  jti?: string;\n  azp?: string;\n  nonce?: string;\n  auth_time?: string;\n  at_hash?: string;\n  c_hash?: string;\n  acr?: string;\n  amr?: string[];\n  sub_jwk?: string;\n  cnf?: string;\n  sid?: string;\n  org_id?: string;\n  org_name?: string;\n  [key: string]: any;\n}\n\nexport class User {\n  name?: string;\n  given_name?: string;\n  family_name?: string;\n  middle_name?: string;\n  nickname?: string;\n  preferred_username?: string;\n  profile?: string;\n  picture?: string;\n  website?: string;\n  email?: string;\n  email_verified?: boolean;\n  gender?: string;\n  birthdate?: string;\n  zoneinfo?: string;\n  locale?: string;\n  phone_number?: string;\n  phone_number_verified?: boolean;\n  address?: string;\n  updated_at?: string;\n  sub?: string;\n  [key: string]: any;\n}\n\n/**\n * @ignore\n */\nexport type FetchOptions = {\n  method?: string;\n  headers?: Record<string, string>;\n  credentials?: 'include' | 'omit';\n  body?: string;\n  signal?: AbortSignal;\n};\n\n/**\n * @ignore\n */\nexport type FetchResponse = {\n  ok: boolean;\n  headers: Record<string, string | undefined>;\n  json: any;\n};\n\nexport type GetTokenSilentlyVerboseResponse = Omit<\n  TokenEndpointResponse,\n  'refresh_token'\n>;\n","const singlePromiseMap: Record<string, Promise<any>> = {};\n\nexport const singlePromise = <T>(\n  cb: () => Promise<T>,\n  key: string\n): Promise<T> => {\n  let promise: null | Promise<T> = singlePromiseMap[key];\n  if (!promise) {\n    promise = cb().finally(() => {\n      delete singlePromiseMap[key];\n      promise = null;\n    });\n    singlePromiseMap[key] = promise;\n  }\n  return promise;\n};\n\nexport const retryPromise = async (\n  cb: () => Promise<boolean>,\n  maxNumberOfRetries = 3\n) => {\n  for (let i = 0; i < maxNumberOfRetries; i++) {\n    if (await cb()) {\n      return true;\n    }\n  }\n\n  return false;\n};\n","import {\n  CACHE_KEY_PREFIX,\n  ICache,\n  KeyManifestEntry,\n  MaybePromise\n} from './shared';\n\nexport class CacheKeyManifest {\n  private readonly manifestKey: string;\n\n  constructor(private cache: ICache, private clientId: string) {\n    this.manifestKey = this.createManifestKeyFrom(this.clientId);\n  }\n\n  async add(key: string): Promise<void> {\n    const keys = new Set(\n      (await this.cache.get<KeyManifestEntry>(this.manifestKey))?.keys || []\n    );\n\n    keys.add(key);\n\n    await this.cache.set<KeyManifestEntry>(this.manifestKey, {\n      keys: [...keys]\n    });\n  }\n\n  async remove(key: string): Promise<void> {\n    const entry = await this.cache.get<KeyManifestEntry>(this.manifestKey);\n\n    if (entry) {\n      const keys = new Set(entry.keys);\n      keys.delete(key);\n\n      if (keys.size > 0) {\n        return await this.cache.set(this.manifestKey, { keys: [...keys] });\n      }\n\n      return await this.cache.remove(this.manifestKey);\n    }\n  }\n\n  get(): MaybePromise<KeyManifestEntry | undefined> {\n    return this.cache.get<KeyManifestEntry>(this.manifestKey);\n  }\n\n  clear(): MaybePromise<void> {\n    return this.cache.remove(this.manifestKey);\n  }\n\n  private createManifestKeyFrom(clientId: string): string {\n    return `${CACHE_KEY_PREFIX}::${clientId}`;\n  }\n}\n","import { ICache, InMemoryCache, LocalStorageCache } from './cache';\nimport {\n  Auth0ClientOptions,\n  AuthorizationParams,\n  AuthorizeOptions,\n  ClientAuthorizationParams,\n  LogoutOptions\n} from './global';\nimport { scopesToRequest } from './scope';\n\n/**\n * @ignore\n */\nexport const GET_TOKEN_SILENTLY_LOCK_KEY = 'auth0.lock.getTokenSilently';\n\n/**\n * @ignore\n */\nexport const GET_TOKEN_FROM_IFRAME_LOCK_KEY = 'auth0.lock.getTokenFromIFrame';\n\n/**\n * @ignore\n */\nexport const buildGetTokenSilentlyLockKey = (\n  clientId: string,\n  audience: string\n) => `${GET_TOKEN_SILENTLY_LOCK_KEY}.${clientId}.${audience}`;\n\n/**\n * @ignore\n * Builds a global lock key for iframe-based authentication flows.\n * This ensures only one iframe authorization request runs at a time per client,\n * preventing \"Invalid state\" errors from concurrent iframe requests overwriting\n * each other's state in the Auth0 session.\n */\nexport const buildIframeLockKey = (clientId: string) =>\n  `${GET_TOKEN_FROM_IFRAME_LOCK_KEY}.${clientId}`;\n\n/**\n * @ignore\n */\nexport const buildOrganizationHintCookieName = (clientId: string) =>\n  `auth0.${clientId}.organization_hint`;\n\n/**\n * @ignore\n */\nexport const OLD_IS_AUTHENTICATED_COOKIE_NAME = 'auth0.is.authenticated';\n\n/**\n * @ignore\n */\nexport const buildIsAuthenticatedCookieName = (clientId: string) =>\n  `auth0.${clientId}.is.authenticated`;\n\n/**\n * @ignore\n */\nconst cacheLocationBuilders: Record<string, () => ICache> = {\n  memory: () => new InMemoryCache().enclosedCache,\n  localstorage: () => new LocalStorageCache()\n};\n\n/**\n * @ignore\n */\nexport const cacheFactory = (location: string) => {\n  return cacheLocationBuilders[location];\n};\n\n/**\n * @ignore\n */\nexport const getAuthorizeParams = (\n  clientOptions: Auth0ClientOptions & {\n    authorizationParams: ClientAuthorizationParams;\n  },\n  scope: Record<string, string>,\n  authorizationParams: AuthorizationParams & { scope?: string },\n  state: string,\n  nonce: string,\n  code_challenge: string,\n  redirect_uri: string | undefined,\n  response_mode: string | undefined,\n  thumbprint: string | undefined\n): AuthorizeOptions => {\n  return {\n    client_id: clientOptions.clientId,\n    ...clientOptions.authorizationParams,\n    ...authorizationParams,\n    scope: scopesToRequest(scope, authorizationParams.scope, authorizationParams.audience),\n    response_type: 'code',\n    response_mode: response_mode || 'query',\n    state,\n    nonce,\n    redirect_uri:\n      redirect_uri || clientOptions.authorizationParams.redirect_uri,\n    code_challenge,\n    code_challenge_method: 'S256',\n    dpop_jkt: thumbprint\n  };\n};\n\n/**\n * @ignore\n *\n * Function used to provide support for the deprecated onRedirect through openUrl.\n */\nexport const patchOpenUrlWithOnRedirect = <\n  T extends Pick<LogoutOptions, 'openUrl' | 'onRedirect'>\n>(\n  options: T\n) => {\n  const { openUrl, onRedirect, ...originalOptions } = options;\n\n  const result = {\n    ...originalOptions,\n    openUrl: openUrl === false || openUrl ? openUrl : onRedirect\n  };\n\n  return result as T;\n};\n\n/**\n * @ignore\n * \n * Checks if all scopes are included inside other array of scopes\n */\nexport const allScopesAreIncluded = (scopeToInclude?: string, scopes?: string): boolean => {\n  const scopeGroup = scopes?.split(\" \") || [];\n  const scopesToInclude = scopeToInclude?.split(\" \") || [];\n  return scopesToInclude.every((key) => scopeGroup.includes(key));\n}\n\n/**\n * @ignore\n * \n * Returns the scopes that are missing after a refresh\n */\nexport const getMissingScopes = (requestedScope?: string, respondedScope?: string): string => {\n  const requestedScopes = requestedScope?.split(\" \") || [];\n  const respondedScopes = respondedScope?.split(\" \") || [];\n\n  const missingScopes = requestedScopes.filter((scope) => respondedScopes.indexOf(scope) == -1);\n\n  return missingScopes.join(\",\");\n}\n\n/**\n * @ignore\n *\n * For backward compatibility we are going to check if we are going to downscope while doing a refresh request\n * while MRRT is allowed. If the audience is the same for the refresh_token we are going to use and it has\n * lower scopes than the ones originally in the token, we are going to return the scopes that were stored\n * with the refresh_token in the tokenset.\n * @param useMrrt Setting that the user can activate to use MRRT in their requests\n * @param authorizationParams Contains the audience and scope that the user requested to obtain a token\n * @param cachedAudience Audience stored with the refresh_token wich we are going to use in the request\n * @param cachedScope Scope stored with the refresh_token wich we are going to use in the request\n */\nexport const getScopeToRequest = (\n  useMrrt: boolean | undefined,\n  authorizationParams: { audience?: string, scope: string },\n  cachedAudience?: string,\n  cachedScope?: string\n): string => {\n  if (useMrrt && cachedAudience && cachedScope) {\n    if (authorizationParams.audience !== cachedAudience) {\n      return authorizationParams.scope;\n    }\n\n    const cachedScopes = cachedScope.split(\" \");\n    const newScopes = authorizationParams.scope?.split(\" \") || [];\n    const newScopesAreIncluded = newScopes.every((scope) => cachedScopes.includes(scope));\n\n    return cachedScopes.length >= newScopes.length && newScopesAreIncluded ? cachedScope : authorizationParams.scope;\n  }\n\n  return authorizationParams.scope;\n}\n\n/**\n * @ignore\n * \n * Checks if the refresh request has been done using MRRT\n * @param cachedAudience Audience from the refresh token used to refresh\n * @param cachedScope Scopes from the refresh token used to refresh\n * @param requestAudience Audience sent to the server\n * @param requestScope Scopes sent to the server\n */\nexport const isRefreshWithMrrt = (\n  cachedAudience: string | undefined,\n  cachedScope: string | undefined,\n  requestAudience: string | undefined,\n  requestScope: string,\n): boolean => {\n  if (cachedAudience !== requestAudience) {\n    return true;\n  }\n\n  return !allScopesAreIncluded(requestScope, cachedScope);\n}","import { type KeyPair } from './utils';\n\nconst VERSION = 1;\nconst NAME = 'auth0-spa-js';\nconst TABLES = {\n  NONCE: 'nonce',\n  KEYPAIR: 'keypair'\n} as const;\n\nconst AUTH0_NONCE_ID = 'auth0';\n\ntype Table = (typeof TABLES)[keyof typeof TABLES];\n\nexport class DpopStorage {\n  protected readonly clientId: string;\n  protected dbHandle: IDBDatabase | undefined;\n\n  constructor(clientId: string) {\n    this.clientId = clientId;\n  }\n\n  protected getVersion(): number {\n    return VERSION;\n  }\n\n  protected createDbHandle(): Promise<IDBDatabase> {\n    const req = window.indexedDB.open(NAME, this.getVersion());\n\n    return new Promise((resolve, reject) => {\n      req.onupgradeneeded = () =>\n        Object.values(TABLES).forEach(t => req.result.createObjectStore(t));\n\n      req.onerror = () => reject(req.error);\n      req.onsuccess = () => resolve(req.result);\n    });\n  }\n\n  protected async getDbHandle(): Promise<IDBDatabase> {\n    if (!this.dbHandle) {\n      this.dbHandle = await this.createDbHandle();\n    }\n\n    return this.dbHandle;\n  }\n\n  protected async executeDbRequest<T = unknown>(\n    table: string,\n    mode: IDBTransactionMode,\n    requestFactory: (table: IDBObjectStore) => IDBRequest<T>\n  ): Promise<T> {\n    const db = await this.getDbHandle();\n\n    const txn = db.transaction(table, mode);\n    const store = txn.objectStore(table);\n\n    const request = requestFactory(store);\n\n    return new Promise((resolve, reject) => {\n      request.onsuccess = () => resolve(request.result);\n      request.onerror = () => reject(request.error);\n    });\n  }\n\n  protected buildKey(id?: string): string {\n    const finalId = id\n      ? `_${id}` // prefix to avoid collisions\n      : AUTH0_NONCE_ID;\n\n    return `${this.clientId}::${finalId}`;\n  }\n\n  public setNonce(nonce: string, id?: string): Promise<void> {\n    return this.save(TABLES.NONCE, this.buildKey(id), nonce);\n  }\n\n  public setKeyPair(keyPair: KeyPair): Promise<void> {\n    return this.save(TABLES.KEYPAIR, this.buildKey(), keyPair);\n  }\n\n  protected async save(\n    table: Table,\n    key: IDBValidKey,\n    obj: unknown\n  ): Promise<void> {\n    return void await this.executeDbRequest(table, 'readwrite', table =>\n      table.put(obj, key)\n    );\n  }\n\n  public findNonce(id?: string): Promise<string | undefined> {\n    return this.find(TABLES.NONCE, this.buildKey(id));\n  }\n\n  public findKeyPair(): Promise<KeyPair | undefined> {\n    return this.find(TABLES.KEYPAIR, this.buildKey());\n  }\n\n  protected find<T = unknown>(\n    table: Table,\n    key: IDBValidKey\n  ): Promise<T | undefined> {\n    return this.executeDbRequest(table, 'readonly', table => table.get(key));\n  }\n\n  protected async deleteBy(\n    table: Table,\n    predicate: (key: IDBValidKey) => boolean\n  ): Promise<void> {\n    const allKeys = await this.executeDbRequest(table, 'readonly', table =>\n      table.getAllKeys()\n    );\n\n    allKeys\n      ?.filter(predicate)\n      .map(k =>\n        this.executeDbRequest(table, 'readwrite', table => table.delete(k))\n      );\n  }\n\n  protected deleteByClientId(table: Table, clientId: string): Promise<void> {\n    return this.deleteBy(\n      table,\n      k => typeof k === 'string' && k.startsWith(`${clientId}::`)\n    );\n  }\n\n  public clearNonces(): Promise<void> {\n    return this.deleteByClientId(TABLES.NONCE, this.clientId);\n  }\n\n  public clearKeyPairs(): Promise<void> {\n    return this.deleteByClientId(TABLES.KEYPAIR, this.clientId);\n  }\n}\n","import { DpopStorage } from './storage';\nimport * as dpopUtils from './utils';\n\nexport class Dpop {\n  protected readonly storage: DpopStorage;\n\n  public constructor(clientId: string) {\n    this.storage = new DpopStorage(clientId);\n  }\n\n  public getNonce(id?: string): Promise<string | undefined> {\n    return this.storage.findNonce(id);\n  }\n\n  public setNonce(nonce: string, id?: string): Promise<void> {\n    return this.storage.setNonce(nonce, id);\n  }\n\n  protected async getOrGenerateKeyPair(): Promise<dpopUtils.KeyPair> {\n    let keyPair = await this.storage.findKeyPair();\n\n    if (!keyPair) {\n      keyPair = await dpopUtils.generateKeyPair();\n      await this.storage.setKeyPair(keyPair);\n    }\n\n    return keyPair;\n  }\n\n  public async generateProof(params: {\n    url: string;\n    method: string;\n    nonce?: string;\n    accessToken?: string;\n  }): Promise<string> {\n    const keyPair = await this.getOrGenerateKeyPair();\n\n    return dpopUtils.generateProof({\n      keyPair,\n      ...params\n    });\n  }\n\n  public async calculateThumbprint(): Promise<string> {\n    const keyPair = await this.getOrGenerateKeyPair();\n\n    return dpopUtils.calculateThumbprint(keyPair);\n  }\n\n  public async clear(): Promise<void> {\n    await Promise.all([\n      this.storage.clearNonces(),\n      this.storage.clearKeyPairs()\n    ]);\n  }\n}\n","import { DPOP_NONCE_HEADER } from './dpop/utils';\nimport { UseDpopNonceError } from './errors';\nimport { GetTokenSilentlyVerboseResponse } from './global';\n\nexport type ResponseHeaders =\n  | Record<string, string | null | undefined>\n  | [string, string][]\n  | { get(name: string): string | null | undefined };\n\nexport type CustomFetchMinimalOutput = {\n  status: number;\n  headers: ResponseHeaders;\n};\n\nexport type CustomFetchImpl<TOutput extends CustomFetchMinimalOutput> = (\n  req: Request\n) => Promise<TOutput>;\n\nexport type AuthParams = {\n  scope?: string[];\n  audience?: string;\n};\n\ntype AccessTokenFactory = (authParams?: AuthParams) => Promise<string | GetTokenSilentlyVerboseResponse>;\n\nenum TokenType {\n  Bearer = 'Bearer',\n  DPoP = 'DPoP'\n}\n\nexport type FetcherConfig<TOutput extends CustomFetchMinimalOutput> = {\n  getAccessToken?: AccessTokenFactory;\n  baseUrl?: string;\n  fetch?: CustomFetchImpl<TOutput>;\n  dpopNonceId?: string;\n};\n\nexport type FetcherHooks = {\n  isDpopEnabled: () => boolean;\n  getAccessToken: AccessTokenFactory;\n  getDpopNonce: () => Promise<string | undefined>;\n  setDpopNonce: (nonce: string) => Promise<void>;\n  generateDpopProof: (params: {\n    url: string;\n    method: string;\n    nonce?: string;\n    accessToken: string;\n  }) => Promise<string>;\n};\n\nexport type FetchWithAuthCallbacks<TOutput> = {\n  onUseDpopNonceError?(): Promise<TOutput>;\n};\n\nexport class Fetcher<TOutput extends CustomFetchMinimalOutput> {\n  protected readonly config: Omit<FetcherConfig<TOutput>, 'fetch'> &\n    Required<Pick<FetcherConfig<TOutput>, 'fetch'>>;\n\n  protected readonly hooks: FetcherHooks;\n\n  constructor(config: FetcherConfig<TOutput>, hooks: FetcherHooks) {\n    this.hooks = hooks;\n\n    this.config = {\n      ...config,\n      fetch:\n        config.fetch ||\n        // For easier testing and constructor compatibility with SSR.\n        ((typeof window === 'undefined'\n          ? fetch\n          : window.fetch.bind(window)) as () => Promise<any>)\n    };\n  }\n\n  protected isAbsoluteUrl(url: string): boolean {\n    // `http://example.com`, `https://example.com` or `//example.com`\n    return /^(https?:)?\\/\\//i.test(url);\n  }\n\n  protected buildUrl(\n    baseUrl: string | undefined,\n    url: string | undefined\n  ): string {\n    if (url) {\n      if (this.isAbsoluteUrl(url)) {\n        return url;\n      }\n\n      if (baseUrl) {\n        return `${baseUrl.replace(/\\/?\\/$/, '')}/${url.replace(/^\\/+/, '')}`;\n      }\n    }\n\n    throw new TypeError('`url` must be absolute or `baseUrl` non-empty.');\n  }\n\n  protected getAccessToken(authParams?: AuthParams): Promise<string | GetTokenSilentlyVerboseResponse> {\n    return this.config.getAccessToken\n      ? this.config.getAccessToken(authParams)\n      : this.hooks.getAccessToken(authParams);\n  }\n\n  protected extractUrl(info: RequestInfo | URL): string {\n    if (typeof info === 'string') {\n      return info;\n    }\n\n    if (info instanceof URL) {\n      return info.href;\n    }\n\n    return info.url;\n  }\n\n  protected buildBaseRequest(\n    info: RequestInfo | URL,\n    init: RequestInit | undefined\n  ): Request {\n    // In the native `fetch()` behavior, `init` can override `info` and the result\n    // is the merge of both. So let's replicate that behavior by passing those into\n    // a fresh `Request` object.\n\n    // No `baseUrl`? We can use `info` and `init` as is.\n    if (!this.config.baseUrl) {\n      return new Request(info, init);\n    }\n\n    // But if `baseUrl` is present, first we have to build the final URL...\n    const finalUrl = this.buildUrl(this.config.baseUrl, this.extractUrl(info));\n\n    // ... and then overwrite `info`'s URL with it, making sure we keep any other\n    // properties that might be there already (headers, etc).\n    const finalInfo = info instanceof Request\n      ? new Request(finalUrl, info)\n      : finalUrl;\n\n    return new Request(finalInfo, init);\n  }\n\n  protected setAuthorizationHeader(\n    request: Request,\n    accessToken: string,\n    tokenType: string = TokenType.Bearer\n  ): void {\n    request.headers.set(\n      'authorization',\n      `${tokenType} ${accessToken}`\n    );\n  }\n\n  protected async setDpopProofHeader(\n    request: Request,\n    accessToken: string\n  ): Promise<void> {\n    if (!this.config.dpopNonceId) {\n      return;\n    }\n\n    const dpopNonce = await this.hooks.getDpopNonce();\n\n    const dpopProof = await this.hooks.generateDpopProof({\n      accessToken,\n      method: request.method,\n      nonce: dpopNonce,\n      url: request.url\n    });\n\n    request.headers.set('dpop', dpopProof);\n  }\n\n  protected async prepareRequest(request: Request, authParams?: AuthParams) {\n    const accessTokenResponse = await this.getAccessToken(authParams);\n\n    let tokenType: string;\n    let accessToken: string;\n    if (typeof accessTokenResponse === 'string') {\n      tokenType = this.config.dpopNonceId ? TokenType.DPoP : TokenType.Bearer;\n      accessToken = accessTokenResponse;\n    } else {\n      tokenType = accessTokenResponse.token_type;\n      accessToken = accessTokenResponse.access_token;\n    }\n\n    this.setAuthorizationHeader(request, accessToken, tokenType);\n    if (tokenType === TokenType.DPoP) {\n      await this.setDpopProofHeader(request, accessToken);\n    }\n  }\n\n  protected getHeader(headers: ResponseHeaders, name: string): string {\n    if (Array.isArray(headers)) {\n      return new Headers(headers).get(name) || '';\n    }\n\n    if (typeof headers.get === 'function') {\n      return headers.get(name) || '';\n    }\n\n    return (headers as Record<string, string | null | undefined>)[name] || '';\n  }\n\n  protected hasUseDpopNonceError(response: TOutput): boolean {\n    if (response.status !== 401) {\n      return false;\n    }\n\n    const wwwAuthHeader = this.getHeader(response.headers, 'www-authenticate');\n\n    return wwwAuthHeader.includes('invalid_dpop_nonce') || wwwAuthHeader.includes('use_dpop_nonce');\n  }\n\n  protected async handleResponse(\n    response: TOutput,\n    callbacks: FetchWithAuthCallbacks<TOutput>\n  ): Promise<TOutput> {\n    const newDpopNonce = this.getHeader(response.headers, DPOP_NONCE_HEADER);\n\n    if (newDpopNonce) {\n      await this.hooks.setDpopNonce(newDpopNonce);\n    }\n\n    if (!this.hasUseDpopNonceError(response)) {\n      return response;\n    }\n\n    // After a `use_dpop_nonce` error, if we didn't get a new DPoP nonce or we\n    // did but it still got rejected for the same reason, we have to give up.\n    if (!newDpopNonce || !callbacks.onUseDpopNonceError) {\n      throw new UseDpopNonceError(newDpopNonce);\n    }\n\n    return callbacks.onUseDpopNonceError();\n  }\n\n  protected async internalFetchWithAuth(\n    info: RequestInfo | URL,\n    init: RequestInit | undefined,\n    callbacks: FetchWithAuthCallbacks<TOutput>,\n    authParams?: AuthParams\n  ): Promise<TOutput> {\n    const request = this.buildBaseRequest(info, init);\n\n    await this.prepareRequest(request, authParams);\n\n    const response = await this.config.fetch(request);\n\n    return this.handleResponse(response, callbacks);\n  }\n\n  public fetchWithAuth(\n    info: RequestInfo | URL,\n    init?: RequestInit,\n    authParams?: AuthParams\n  ): Promise<TOutput> {\n    const callbacks: FetchWithAuthCallbacks<TOutput> = {\n      onUseDpopNonceError: () =>\n        this.internalFetchWithAuth(\n          info,\n          init,\n          {\n            ...callbacks,\n            // Retry on a `use_dpop_nonce` error, but just once.\n            onUseDpopNonceError: undefined\n          },\n          authParams\n        )\n    };\n\n    return this.internalFetchWithAuth(info, init, callbacks, authParams);\n  }\n}\n","import { AuthorizationParams } from './global';\nimport { Fetcher } from './fetcher';\n\ninterface ConnectRequest {\n  /** The name of the connection to link the account with (e.g., 'google-oauth2', 'facebook'). */\n  connection: string;\n  /** Array of scopes to request from the Identity Provider during the connect account flow. */\n  scopes?: string[];\n  /** The URI to redirect to after the connection process completes. */\n  redirect_uri: string;\n  /** An opaque value used to maintain state between the request and callback. */\n  state?: string;\n  /** The PKCE code challenge derived from the code verifier. */\n  code_challenge?: string;\n  /** The method used to derive the code challenge. Required when code_challenge is provided. */\n  code_challenge_method?: 'S256';\n  authorization_params?: AuthorizationParams;\n}\n\ninterface ConnectResponse {\n  /** The base URI to initiate the account connection flow. */\n  connect_uri: string;\n  /** The authentication session identifier. */\n  auth_session: string;\n  /** Parameters to be used with the connect URI. */\n  connect_params: {\n    /** The ticket identifier to be used with the connection URI. */\n    ticket: string;\n  };\n  /** The number of seconds until the ticket expires. */\n  expires_in: number;\n}\n\ninterface CompleteRequest {\n  /** The authentication session identifier */\n  auth_session: string;\n  /** The authorization code returned from the connect flow */\n  connect_code: string;\n  /** The redirect URI used in the original request */\n  redirect_uri: string;\n  /** The PKCE code verifier */\n  code_verifier?: string;\n}\n\nexport interface CompleteResponse {\n  /** The unique identifier of the connected account */\n  id: string;\n  /** The connection name */\n  connection: string;\n  /** The access type, always 'offline' */\n  access_type: 'offline';\n  /** Array of scopes granted */\n  scopes?: string[];\n  /** ISO date string of when the connected account was created */\n  created_at: string;\n  /** ISO date string of when the refresh token expires (optional) */\n  expires_at?: string;\n}\n\n// Validation error returned from MyAccount API\nexport interface ErrorResponse {\n  type: string;\n  status: number;\n  title: string;\n  detail: string;\n  validation_errors?: {\n    detail: string;\n    field?: string;\n    pointer?: string;\n    source?: string;\n  }[];\n}\n\n/**\n * Subset of the MyAccount API that handles the connect accounts flow.\n */\nexport class MyAccountApiClient {\n  constructor(\n    private myAccountFetcher: Fetcher<Response>,\n    private apiBase: string\n  ) {}\n\n  /**\n   * Get a ticket for the connect account flow.\n   */\n  async connectAccount(params: ConnectRequest): Promise<ConnectResponse> {\n    const res = await this.myAccountFetcher.fetchWithAuth(\n      `${this.apiBase}v1/connected-accounts/connect`,\n      {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(params)\n      }\n    );\n    return this._handleResponse(res);\n  }\n\n  /**\n   * Verify the redirect from the connect account flow and complete the connecting of the account.\n   */\n  async completeAccount(params: CompleteRequest): Promise<CompleteResponse> {\n    const res = await this.myAccountFetcher.fetchWithAuth(\n      `${this.apiBase}v1/connected-accounts/complete`,\n      {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(params)\n      }\n    );\n    return this._handleResponse(res);\n  }\n\n  private async _handleResponse(res: Response) {\n    let body: any;\n    try {\n      body = await res.text();\n      body = JSON.parse(body);\n    } catch (err) {\n      throw new MyAccountApiError({\n        type: 'invalid_json',\n        status: res.status,\n        title: 'Invalid JSON response',\n        detail: body || String(err)\n      });\n    }\n\n    if (res.ok) {\n      return body;\n    } else {\n      throw new MyAccountApiError(body);\n    }\n  }\n}\n\nexport class MyAccountApiError extends Error {\n  public readonly type: string;\n  public readonly status: number;\n  public readonly title: string;\n  public readonly detail: string;\n  public readonly validation_errors?: ErrorResponse['validation_errors'];\n\n  constructor({\n    type,\n    status,\n    title,\n    detail,\n    validation_errors\n  }: ErrorResponse) {\n    super(detail);\n    this.name = 'MyAccountApiError';\n    this.type = type;\n    this.status = status;\n    this.title = title;\n    this.detail = detail;\n    this.validation_errors = validation_errors;\n    Object.setPrototypeOf(this, MyAccountApiError.prototype);\n  }\n}\n",null,"export const encoder = new TextEncoder();\nexport const decoder = new TextDecoder();\nconst MAX_INT32 = 2 ** 32;\nexport function concat(...buffers) {\n    const size = buffers.reduce((acc, { length }) => acc + length, 0);\n    const buf = new Uint8Array(size);\n    let i = 0;\n    for (const buffer of buffers) {\n        buf.set(buffer, i);\n        i += buffer.length;\n    }\n    return buf;\n}\nfunction writeUInt32BE(buf, value, offset) {\n    if (value < 0 || value >= MAX_INT32) {\n        throw new RangeError(`value must be >= 0 and <= ${MAX_INT32 - 1}. Received ${value}`);\n    }\n    buf.set([value >>> 24, value >>> 16, value >>> 8, value & 0xff], offset);\n}\nexport function uint64be(value) {\n    const high = Math.floor(value / MAX_INT32);\n    const low = value % MAX_INT32;\n    const buf = new Uint8Array(8);\n    writeUInt32BE(buf, high, 0);\n    writeUInt32BE(buf, low, 4);\n    return buf;\n}\nexport function uint32be(value) {\n    const buf = new Uint8Array(4);\n    writeUInt32BE(buf, value);\n    return buf;\n}\nexport function encode(string) {\n    const bytes = new Uint8Array(string.length);\n    for (let i = 0; i < string.length; i++) {\n        const code = string.charCodeAt(i);\n        if (code > 127) {\n            throw new TypeError('non-ASCII string encountered in encode()');\n        }\n        bytes[i] = code;\n    }\n    return bytes;\n}\n","export function encodeBase64(input) {\n    if (Uint8Array.prototype.toBase64) {\n        return input.toBase64();\n    }\n    const CHUNK_SIZE = 0x8000;\n    const arr = [];\n    for (let i = 0; i < input.length; i += CHUNK_SIZE) {\n        arr.push(String.fromCharCode.apply(null, input.subarray(i, i + CHUNK_SIZE)));\n    }\n    return btoa(arr.join(''));\n}\nexport function decodeBase64(encoded) {\n    if (Uint8Array.fromBase64) {\n        return Uint8Array.fromBase64(encoded);\n    }\n    const binary = atob(encoded);\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return bytes;\n}\n","import { encoder, decoder } from '../lib/buffer_utils.js';\nimport { encodeBase64, decodeBase64 } from '../lib/base64.js';\nexport function decode(input) {\n    if (Uint8Array.fromBase64) {\n        return Uint8Array.fromBase64(typeof input === 'string' ? input : decoder.decode(input), {\n            alphabet: 'base64url',\n        });\n    }\n    let encoded = input;\n    if (encoded instanceof Uint8Array) {\n        encoded = decoder.decode(encoded);\n    }\n    encoded = encoded.replace(/-/g, '+').replace(/_/g, '/');\n    try {\n        return decodeBase64(encoded);\n    }\n    catch {\n        throw new TypeError('The input to be decoded is not correctly encoded.');\n    }\n}\nexport function encode(input) {\n    let unencoded = input;\n    if (typeof unencoded === 'string') {\n        unencoded = encoder.encode(unencoded);\n    }\n    if (Uint8Array.prototype.toBase64) {\n        return unencoded.toBase64({ alphabet: 'base64url', omitPadding: true });\n    }\n    return encodeBase64(unencoded).replace(/=/g, '').replace(/\\+/g, '-').replace(/\\//g, '_');\n}\n","export class JOSEError extends Error {\n    static code = 'ERR_JOSE_GENERIC';\n    code = 'ERR_JOSE_GENERIC';\n    constructor(message, options) {\n        super(message, options);\n        this.name = this.constructor.name;\n        Error.captureStackTrace?.(this, this.constructor);\n    }\n}\nexport class JWTClaimValidationFailed extends JOSEError {\n    static code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n    code = 'ERR_JWT_CLAIM_VALIDATION_FAILED';\n    claim;\n    reason;\n    payload;\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nexport class JWTExpired extends JOSEError {\n    static code = 'ERR_JWT_EXPIRED';\n    code = 'ERR_JWT_EXPIRED';\n    claim;\n    reason;\n    payload;\n    constructor(message, payload, claim = 'unspecified', reason = 'unspecified') {\n        super(message, { cause: { claim, reason, payload } });\n        this.claim = claim;\n        this.reason = reason;\n        this.payload = payload;\n    }\n}\nexport class JOSEAlgNotAllowed extends JOSEError {\n    static code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n    code = 'ERR_JOSE_ALG_NOT_ALLOWED';\n}\nexport class JOSENotSupported extends JOSEError {\n    static code = 'ERR_JOSE_NOT_SUPPORTED';\n    code = 'ERR_JOSE_NOT_SUPPORTED';\n}\nexport class JWEDecryptionFailed extends JOSEError {\n    static code = 'ERR_JWE_DECRYPTION_FAILED';\n    code = 'ERR_JWE_DECRYPTION_FAILED';\n    constructor(message = 'decryption operation failed', options) {\n        super(message, options);\n    }\n}\nexport class JWEInvalid extends JOSEError {\n    static code = 'ERR_JWE_INVALID';\n    code = 'ERR_JWE_INVALID';\n}\nexport class JWSInvalid extends JOSEError {\n    static code = 'ERR_JWS_INVALID';\n    code = 'ERR_JWS_INVALID';\n}\nexport class JWTInvalid extends JOSEError {\n    static code = 'ERR_JWT_INVALID';\n    code = 'ERR_JWT_INVALID';\n}\nexport class JWKInvalid extends JOSEError {\n    static code = 'ERR_JWK_INVALID';\n    code = 'ERR_JWK_INVALID';\n}\nexport class JWKSInvalid extends JOSEError {\n    static code = 'ERR_JWKS_INVALID';\n    code = 'ERR_JWKS_INVALID';\n}\nexport class JWKSNoMatchingKey extends JOSEError {\n    static code = 'ERR_JWKS_NO_MATCHING_KEY';\n    code = 'ERR_JWKS_NO_MATCHING_KEY';\n    constructor(message = 'no applicable key found in the JSON Web Key Set', options) {\n        super(message, options);\n    }\n}\nexport class JWKSMultipleMatchingKeys extends JOSEError {\n    [Symbol.asyncIterator];\n    static code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    code = 'ERR_JWKS_MULTIPLE_MATCHING_KEYS';\n    constructor(message = 'multiple matching keys found in the JSON Web Key Set', options) {\n        super(message, options);\n    }\n}\nexport class JWKSTimeout extends JOSEError {\n    static code = 'ERR_JWKS_TIMEOUT';\n    code = 'ERR_JWKS_TIMEOUT';\n    constructor(message = 'request timed out', options) {\n        super(message, options);\n    }\n}\nexport class JWSSignatureVerificationFailed extends JOSEError {\n    static code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    code = 'ERR_JWS_SIGNATURE_VERIFICATION_FAILED';\n    constructor(message = 'signature verification failed', options) {\n        super(message, options);\n    }\n}\n","const unusable = (name, prop = 'algorithm.name') => new TypeError(`CryptoKey does not support this operation, its ${prop} must be ${name}`);\nconst isAlgorithm = (algorithm, name) => algorithm.name === name;\nfunction getHashLength(hash) {\n    return parseInt(hash.name.slice(4), 10);\n}\nfunction getNamedCurve(alg) {\n    switch (alg) {\n        case 'ES256':\n            return 'P-256';\n        case 'ES384':\n            return 'P-384';\n        case 'ES512':\n            return 'P-521';\n        default:\n            throw new Error('unreachable');\n    }\n}\nfunction checkUsage(key, usage) {\n    if (usage && !key.usages.includes(usage)) {\n        throw new TypeError(`CryptoKey does not support this operation, its usages must include ${usage}.`);\n    }\n}\nexport function checkSigCryptoKey(key, alg, usage) {\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512': {\n            if (!isAlgorithm(key.algorithm, 'HMAC'))\n                throw unusable('HMAC');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'RS256':\n        case 'RS384':\n        case 'RS512': {\n            if (!isAlgorithm(key.algorithm, 'RSASSA-PKCS1-v1_5'))\n                throw unusable('RSASSA-PKCS1-v1_5');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'PS256':\n        case 'PS384':\n        case 'PS512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-PSS'))\n                throw unusable('RSA-PSS');\n            const expected = parseInt(alg.slice(2), 10);\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        case 'Ed25519':\n        case 'EdDSA': {\n            if (!isAlgorithm(key.algorithm, 'Ed25519'))\n                throw unusable('Ed25519');\n            break;\n        }\n        case 'ML-DSA-44':\n        case 'ML-DSA-65':\n        case 'ML-DSA-87': {\n            if (!isAlgorithm(key.algorithm, alg))\n                throw unusable(alg);\n            break;\n        }\n        case 'ES256':\n        case 'ES384':\n        case 'ES512': {\n            if (!isAlgorithm(key.algorithm, 'ECDSA'))\n                throw unusable('ECDSA');\n            const expected = getNamedCurve(alg);\n            const actual = key.algorithm.namedCurve;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.namedCurve');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usage);\n}\nexport function checkEncCryptoKey(key, alg, usage) {\n    switch (alg) {\n        case 'A128GCM':\n        case 'A192GCM':\n        case 'A256GCM': {\n            if (!isAlgorithm(key.algorithm, 'AES-GCM'))\n                throw unusable('AES-GCM');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'A128KW':\n        case 'A192KW':\n        case 'A256KW': {\n            if (!isAlgorithm(key.algorithm, 'AES-KW'))\n                throw unusable('AES-KW');\n            const expected = parseInt(alg.slice(1, 4), 10);\n            const actual = key.algorithm.length;\n            if (actual !== expected)\n                throw unusable(expected, 'algorithm.length');\n            break;\n        }\n        case 'ECDH': {\n            switch (key.algorithm.name) {\n                case 'ECDH':\n                case 'X25519':\n                    break;\n                default:\n                    throw unusable('ECDH or X25519');\n            }\n            break;\n        }\n        case 'PBES2-HS256+A128KW':\n        case 'PBES2-HS384+A192KW':\n        case 'PBES2-HS512+A256KW':\n            if (!isAlgorithm(key.algorithm, 'PBKDF2'))\n                throw unusable('PBKDF2');\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512': {\n            if (!isAlgorithm(key.algorithm, 'RSA-OAEP'))\n                throw unusable('RSA-OAEP');\n            const expected = parseInt(alg.slice(9), 10) || 1;\n            const actual = getHashLength(key.algorithm.hash);\n            if (actual !== expected)\n                throw unusable(`SHA-${expected}`, 'algorithm.hash');\n            break;\n        }\n        default:\n            throw new TypeError('CryptoKey does not support this operation');\n    }\n    checkUsage(key, usage);\n}\n","function message(msg, actual, ...types) {\n    types = types.filter(Boolean);\n    if (types.length > 2) {\n        const last = types.pop();\n        msg += `one of type ${types.join(', ')}, or ${last}.`;\n    }\n    else if (types.length === 2) {\n        msg += `one of type ${types[0]} or ${types[1]}.`;\n    }\n    else {\n        msg += `of type ${types[0]}.`;\n    }\n    if (actual == null) {\n        msg += ` Received ${actual}`;\n    }\n    else if (typeof actual === 'function' && actual.name) {\n        msg += ` Received function ${actual.name}`;\n    }\n    else if (typeof actual === 'object' && actual != null) {\n        if (actual.constructor?.name) {\n            msg += ` Received an instance of ${actual.constructor.name}`;\n        }\n    }\n    return msg;\n}\nexport const invalidKeyInput = (actual, ...types) => message('Key must be ', actual, ...types);\nexport const withAlg = (alg, actual, ...types) => message(`Key for the ${alg} algorithm must be `, actual, ...types);\n","export function assertCryptoKey(key) {\n    if (!isCryptoKey(key)) {\n        throw new Error('CryptoKey instance expected');\n    }\n}\nexport const isCryptoKey = (key) => {\n    if (key?.[Symbol.toStringTag] === 'CryptoKey')\n        return true;\n    try {\n        return key instanceof CryptoKey;\n    }\n    catch {\n        return false;\n    }\n};\nexport const isKeyObject = (key) => key?.[Symbol.toStringTag] === 'KeyObject';\nexport const isKeyLike = (key) => isCryptoKey(key) || isKeyObject(key);\n","const isObjectLike = (value) => typeof value === 'object' && value !== null;\nexport function isObject(input) {\n    if (!isObjectLike(input) || Object.prototype.toString.call(input) !== '[object Object]') {\n        return false;\n    }\n    if (Object.getPrototypeOf(input) === null) {\n        return true;\n    }\n    let proto = input;\n    while (Object.getPrototypeOf(proto) !== null) {\n        proto = Object.getPrototypeOf(proto);\n    }\n    return Object.getPrototypeOf(input) === proto;\n}\n","import { invalidKeyInput } from './invalid_key_input.js';\nimport { encodeBase64, decodeBase64 } from '../lib/base64.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport { isCryptoKey, isKeyObject } from './is_key_like.js';\nconst formatPEM = (b64, descriptor) => {\n    const newlined = (b64.match(/.{1,64}/g) || []).join('\\n');\n    return `-----BEGIN ${descriptor}-----\\n${newlined}\\n-----END ${descriptor}-----`;\n};\nconst genericExport = async (keyType, keyFormat, key) => {\n    if (isKeyObject(key)) {\n        if (key.type !== keyType) {\n            throw new TypeError(`key is not a ${keyType} key`);\n        }\n        return key.export({ format: 'pem', type: keyFormat });\n    }\n    if (!isCryptoKey(key)) {\n        throw new TypeError(invalidKeyInput(key, 'CryptoKey', 'KeyObject'));\n    }\n    if (!key.extractable) {\n        throw new TypeError('CryptoKey is not extractable');\n    }\n    if (key.type !== keyType) {\n        throw new TypeError(`key is not a ${keyType} key`);\n    }\n    return formatPEM(encodeBase64(new Uint8Array(await crypto.subtle.exportKey(keyFormat, key))), `${keyType.toUpperCase()} KEY`);\n};\nexport const toSPKI = (key) => genericExport('public', 'spki', key);\nexport const toPKCS8 = (key) => genericExport('private', 'pkcs8', key);\nconst bytesEqual = (a, b) => {\n    if (a.byteLength !== b.length)\n        return false;\n    for (let i = 0; i < a.byteLength; i++) {\n        if (a[i] !== b[i])\n            return false;\n    }\n    return true;\n};\nconst createASN1State = (data) => ({ data, pos: 0 });\nconst parseLength = (state) => {\n    const first = state.data[state.pos++];\n    if (first & 0x80) {\n        const lengthOfLen = first & 0x7f;\n        let length = 0;\n        for (let i = 0; i < lengthOfLen; i++) {\n            length = (length << 8) | state.data[state.pos++];\n        }\n        return length;\n    }\n    return first;\n};\nconst skipElement = (state, count = 1) => {\n    if (count <= 0)\n        return;\n    state.pos++;\n    const length = parseLength(state);\n    state.pos += length;\n    if (count > 1) {\n        skipElement(state, count - 1);\n    }\n};\nconst expectTag = (state, expectedTag, errorMessage) => {\n    if (state.data[state.pos++] !== expectedTag) {\n        throw new Error(errorMessage);\n    }\n};\nconst getSubarray = (state, length) => {\n    const result = state.data.subarray(state.pos, state.pos + length);\n    state.pos += length;\n    return result;\n};\nconst parseAlgorithmOID = (state) => {\n    expectTag(state, 0x06, 'Expected algorithm OID');\n    const oidLen = parseLength(state);\n    return getSubarray(state, oidLen);\n};\nfunction parsePKCS8Header(state) {\n    expectTag(state, 0x30, 'Invalid PKCS#8 structure');\n    parseLength(state);\n    expectTag(state, 0x02, 'Expected version field');\n    const verLen = parseLength(state);\n    state.pos += verLen;\n    expectTag(state, 0x30, 'Expected algorithm identifier');\n    const algIdLen = parseLength(state);\n    const algIdStart = state.pos;\n    return { algIdStart, algIdLength: algIdLen };\n}\nfunction parseSPKIHeader(state) {\n    expectTag(state, 0x30, 'Invalid SPKI structure');\n    parseLength(state);\n    expectTag(state, 0x30, 'Expected algorithm identifier');\n    const algIdLen = parseLength(state);\n    const algIdStart = state.pos;\n    return { algIdStart, algIdLength: algIdLen };\n}\nconst parseECAlgorithmIdentifier = (state) => {\n    const algOid = parseAlgorithmOID(state);\n    if (bytesEqual(algOid, [0x2b, 0x65, 0x6e])) {\n        return 'X25519';\n    }\n    if (!bytesEqual(algOid, [0x2a, 0x86, 0x48, 0xce, 0x3d, 0x02, 0x01])) {\n        throw new Error('Unsupported key algorithm');\n    }\n    expectTag(state, 0x06, 'Expected curve OID');\n    const curveOidLen = parseLength(state);\n    const curveOid = getSubarray(state, curveOidLen);\n    for (const { name, oid } of [\n        { name: 'P-256', oid: [0x2a, 0x86, 0x48, 0xce, 0x3d, 0x03, 0x01, 0x07] },\n        { name: 'P-384', oid: [0x2b, 0x81, 0x04, 0x00, 0x22] },\n        { name: 'P-521', oid: [0x2b, 0x81, 0x04, 0x00, 0x23] },\n    ]) {\n        if (bytesEqual(curveOid, oid)) {\n            return name;\n        }\n    }\n    throw new Error('Unsupported named curve');\n};\nconst genericImport = async (keyFormat, keyData, alg, options) => {\n    let algorithm;\n    let keyUsages;\n    const isPublic = keyFormat === 'spki';\n    const getSigUsages = () => (isPublic ? ['verify'] : ['sign']);\n    const getEncUsages = () => isPublic ? ['encrypt', 'wrapKey'] : ['decrypt', 'unwrapKey'];\n    switch (alg) {\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            algorithm = { name: 'RSA-PSS', hash: `SHA-${alg.slice(-3)}` };\n            keyUsages = getSigUsages();\n            break;\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            algorithm = { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${alg.slice(-3)}` };\n            keyUsages = getSigUsages();\n            break;\n        case 'RSA-OAEP':\n        case 'RSA-OAEP-256':\n        case 'RSA-OAEP-384':\n        case 'RSA-OAEP-512':\n            algorithm = {\n                name: 'RSA-OAEP',\n                hash: `SHA-${parseInt(alg.slice(-3), 10) || 1}`,\n            };\n            keyUsages = getEncUsages();\n            break;\n        case 'ES256':\n        case 'ES384':\n        case 'ES512': {\n            const curveMap = { ES256: 'P-256', ES384: 'P-384', ES512: 'P-521' };\n            algorithm = { name: 'ECDSA', namedCurve: curveMap[alg] };\n            keyUsages = getSigUsages();\n            break;\n        }\n        case 'ECDH-ES':\n        case 'ECDH-ES+A128KW':\n        case 'ECDH-ES+A192KW':\n        case 'ECDH-ES+A256KW': {\n            try {\n                const namedCurve = options.getNamedCurve(keyData);\n                algorithm = namedCurve === 'X25519' ? { name: 'X25519' } : { name: 'ECDH', namedCurve };\n            }\n            catch (cause) {\n                throw new JOSENotSupported('Invalid or unsupported key format');\n            }\n            keyUsages = isPublic ? [] : ['deriveBits'];\n            break;\n        }\n        case 'Ed25519':\n        case 'EdDSA':\n            algorithm = { name: 'Ed25519' };\n            keyUsages = getSigUsages();\n            break;\n        case 'ML-DSA-44':\n        case 'ML-DSA-65':\n        case 'ML-DSA-87':\n            algorithm = { name: alg };\n            keyUsages = getSigUsages();\n            break;\n        default:\n            throw new JOSENotSupported('Invalid or unsupported \"alg\" (Algorithm) value');\n    }\n    return crypto.subtle.importKey(keyFormat, keyData, algorithm, options?.extractable ?? (isPublic ? true : false), keyUsages);\n};\nconst processPEMData = (pem, pattern) => {\n    return decodeBase64(pem.replace(pattern, ''));\n};\nexport const fromPKCS8 = (pem, alg, options) => {\n    const keyData = processPEMData(pem, /(?:-----(?:BEGIN|END) PRIVATE KEY-----|\\s)/g);\n    let opts = options;\n    if (alg?.startsWith?.('ECDH-ES')) {\n        opts ||= {};\n        opts.getNamedCurve = (keyData) => {\n            const state = createASN1State(keyData);\n            parsePKCS8Header(state);\n            return parseECAlgorithmIdentifier(state);\n        };\n    }\n    return genericImport('pkcs8', keyData, alg, opts);\n};\nexport const fromSPKI = (pem, alg, options) => {\n    const keyData = processPEMData(pem, /(?:-----(?:BEGIN|END) PUBLIC KEY-----|\\s)/g);\n    let opts = options;\n    if (alg?.startsWith?.('ECDH-ES')) {\n        opts ||= {};\n        opts.getNamedCurve = (keyData) => {\n            const state = createASN1State(keyData);\n            parseSPKIHeader(state);\n            return parseECAlgorithmIdentifier(state);\n        };\n    }\n    return genericImport('spki', keyData, alg, opts);\n};\nfunction spkiFromX509(buf) {\n    const state = createASN1State(buf);\n    expectTag(state, 0x30, 'Invalid certificate structure');\n    parseLength(state);\n    expectTag(state, 0x30, 'Invalid tbsCertificate structure');\n    parseLength(state);\n    if (buf[state.pos] === 0xa0) {\n        skipElement(state, 6);\n    }\n    else {\n        skipElement(state, 5);\n    }\n    const spkiStart = state.pos;\n    expectTag(state, 0x30, 'Invalid SPKI structure');\n    const spkiContentLen = parseLength(state);\n    return buf.subarray(spkiStart, spkiStart + spkiContentLen + (state.pos - spkiStart));\n}\nfunction extractX509SPKI(x509) {\n    const derBytes = processPEMData(x509, /(?:-----(?:BEGIN|END) CERTIFICATE-----|\\s)/g);\n    return spkiFromX509(derBytes);\n}\nexport const fromX509 = (pem, alg, options) => {\n    let spki;\n    try {\n        spki = extractX509SPKI(pem);\n    }\n    catch (cause) {\n        throw new TypeError('Failed to parse the X.509 certificate', { cause });\n    }\n    return fromSPKI(formatPEM(encodeBase64(spki), 'PUBLIC KEY'), alg, options);\n};\n","import { JOSENotSupported } from '../util/errors.js';\nfunction subtleMapping(jwk) {\n    let algorithm;\n    let keyUsages;\n    switch (jwk.kty) {\n        case 'AKP': {\n            switch (jwk.alg) {\n                case 'ML-DSA-44':\n                case 'ML-DSA-65':\n                case 'ML-DSA-87':\n                    algorithm = { name: jwk.alg };\n                    keyUsages = jwk.priv ? ['sign'] : ['verify'];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'RSA': {\n            switch (jwk.alg) {\n                case 'PS256':\n                case 'PS384':\n                case 'PS512':\n                    algorithm = { name: 'RSA-PSS', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RS256':\n                case 'RS384':\n                case 'RS512':\n                    algorithm = { name: 'RSASSA-PKCS1-v1_5', hash: `SHA-${jwk.alg.slice(-3)}` };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'RSA-OAEP':\n                case 'RSA-OAEP-256':\n                case 'RSA-OAEP-384':\n                case 'RSA-OAEP-512':\n                    algorithm = {\n                        name: 'RSA-OAEP',\n                        hash: `SHA-${parseInt(jwk.alg.slice(-3), 10) || 1}`,\n                    };\n                    keyUsages = jwk.d ? ['decrypt', 'unwrapKey'] : ['encrypt', 'wrapKey'];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'EC': {\n            switch (jwk.alg) {\n                case 'ES256':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-256' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES384':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-384' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ES512':\n                    algorithm = { name: 'ECDSA', namedCurve: 'P-521' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: 'ECDH', namedCurve: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        case 'OKP': {\n            switch (jwk.alg) {\n                case 'Ed25519':\n                case 'EdDSA':\n                    algorithm = { name: 'Ed25519' };\n                    keyUsages = jwk.d ? ['sign'] : ['verify'];\n                    break;\n                case 'ECDH-ES':\n                case 'ECDH-ES+A128KW':\n                case 'ECDH-ES+A192KW':\n                case 'ECDH-ES+A256KW':\n                    algorithm = { name: jwk.crv };\n                    keyUsages = jwk.d ? ['deriveBits'] : [];\n                    break;\n                default:\n                    throw new JOSENotSupported('Invalid or unsupported JWK \"alg\" (Algorithm) Parameter value');\n            }\n            break;\n        }\n        default:\n            throw new JOSENotSupported('Invalid or unsupported JWK \"kty\" (Key Type) Parameter value');\n    }\n    return { algorithm, keyUsages };\n}\nexport async function jwkToKey(jwk) {\n    if (!jwk.alg) {\n        throw new TypeError('\"alg\" argument is required when \"jwk.alg\" is not present');\n    }\n    const { algorithm, keyUsages } = subtleMapping(jwk);\n    const keyData = { ...jwk };\n    if (keyData.kty !== 'AKP') {\n        delete keyData.alg;\n    }\n    delete keyData.use;\n    return crypto.subtle.importKey('jwk', keyData, algorithm, jwk.ext ?? (jwk.d || jwk.priv ? false : true), jwk.key_ops ?? keyUsages);\n}\n","import { isObject } from './is_object.js';\nexport const isJWK = (key) => isObject(key) && typeof key.kty === 'string';\nexport const isPrivateJWK = (key) => key.kty !== 'oct' &&\n    ((key.kty === 'AKP' && typeof key.priv === 'string') || typeof key.d === 'string');\nexport const isPublicJWK = (key) => key.kty !== 'oct' && key.d === undefined && key.priv === undefined;\nexport const isSecretJWK = (key) => key.kty === 'oct' && typeof key.k === 'string';\n","import { isJWK } from './is_jwk.js';\nimport { decode } from '../util/base64url.js';\nimport { jwkToKey } from './jwk_to_key.js';\nimport { isCryptoKey, isKeyObject } from './is_key_like.js';\nlet cache;\nconst handleJWK = async (key, jwk, alg, freeze = false) => {\n    cache ||= new WeakMap();\n    let cached = cache.get(key);\n    if (cached?.[alg]) {\n        return cached[alg];\n    }\n    const cryptoKey = await jwkToKey({ ...jwk, alg });\n    if (freeze)\n        Object.freeze(key);\n    if (!cached) {\n        cache.set(key, { [alg]: cryptoKey });\n    }\n    else {\n        cached[alg] = cryptoKey;\n    }\n    return cryptoKey;\n};\nconst handleKeyObject = (keyObject, alg) => {\n    cache ||= new WeakMap();\n    let cached = cache.get(keyObject);\n    if (cached?.[alg]) {\n        return cached[alg];\n    }\n    const isPublic = keyObject.type === 'public';\n    const extractable = isPublic ? true : false;\n    let cryptoKey;\n    if (keyObject.asymmetricKeyType === 'x25519') {\n        switch (alg) {\n            case 'ECDH-ES':\n            case 'ECDH-ES+A128KW':\n            case 'ECDH-ES+A192KW':\n            case 'ECDH-ES+A256KW':\n                break;\n            default:\n                throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n        }\n        cryptoKey = keyObject.toCryptoKey(keyObject.asymmetricKeyType, extractable, isPublic ? [] : ['deriveBits']);\n    }\n    if (keyObject.asymmetricKeyType === 'ed25519') {\n        if (alg !== 'EdDSA' && alg !== 'Ed25519') {\n            throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n        }\n        cryptoKey = keyObject.toCryptoKey(keyObject.asymmetricKeyType, extractable, [\n            isPublic ? 'verify' : 'sign',\n        ]);\n    }\n    switch (keyObject.asymmetricKeyType) {\n        case 'ml-dsa-44':\n        case 'ml-dsa-65':\n        case 'ml-dsa-87': {\n            if (alg !== keyObject.asymmetricKeyType.toUpperCase()) {\n                throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n            }\n            cryptoKey = keyObject.toCryptoKey(keyObject.asymmetricKeyType, extractable, [\n                isPublic ? 'verify' : 'sign',\n            ]);\n        }\n    }\n    if (keyObject.asymmetricKeyType === 'rsa') {\n        let hash;\n        switch (alg) {\n            case 'RSA-OAEP':\n                hash = 'SHA-1';\n                break;\n            case 'RS256':\n            case 'PS256':\n            case 'RSA-OAEP-256':\n                hash = 'SHA-256';\n                break;\n            case 'RS384':\n            case 'PS384':\n            case 'RSA-OAEP-384':\n                hash = 'SHA-384';\n                break;\n            case 'RS512':\n            case 'PS512':\n            case 'RSA-OAEP-512':\n                hash = 'SHA-512';\n                break;\n            default:\n                throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n        }\n        if (alg.startsWith('RSA-OAEP')) {\n            return keyObject.toCryptoKey({\n                name: 'RSA-OAEP',\n                hash,\n            }, extractable, isPublic ? ['encrypt'] : ['decrypt']);\n        }\n        cryptoKey = keyObject.toCryptoKey({\n            name: alg.startsWith('PS') ? 'RSA-PSS' : 'RSASSA-PKCS1-v1_5',\n            hash,\n        }, extractable, [isPublic ? 'verify' : 'sign']);\n    }\n    if (keyObject.asymmetricKeyType === 'ec') {\n        const nist = new Map([\n            ['prime256v1', 'P-256'],\n            ['secp384r1', 'P-384'],\n            ['secp521r1', 'P-521'],\n        ]);\n        const namedCurve = nist.get(keyObject.asymmetricKeyDetails?.namedCurve);\n        if (!namedCurve) {\n            throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n        }\n        if (alg === 'ES256' && namedCurve === 'P-256') {\n            cryptoKey = keyObject.toCryptoKey({\n                name: 'ECDSA',\n                namedCurve,\n            }, extractable, [isPublic ? 'verify' : 'sign']);\n        }\n        if (alg === 'ES384' && namedCurve === 'P-384') {\n            cryptoKey = keyObject.toCryptoKey({\n                name: 'ECDSA',\n                namedCurve,\n            }, extractable, [isPublic ? 'verify' : 'sign']);\n        }\n        if (alg === 'ES512' && namedCurve === 'P-521') {\n            cryptoKey = keyObject.toCryptoKey({\n                name: 'ECDSA',\n                namedCurve,\n            }, extractable, [isPublic ? 'verify' : 'sign']);\n        }\n        if (alg.startsWith('ECDH-ES')) {\n            cryptoKey = keyObject.toCryptoKey({\n                name: 'ECDH',\n                namedCurve,\n            }, extractable, isPublic ? [] : ['deriveBits']);\n        }\n    }\n    if (!cryptoKey) {\n        throw new TypeError('given KeyObject instance cannot be used for this algorithm');\n    }\n    if (!cached) {\n        cache.set(keyObject, { [alg]: cryptoKey });\n    }\n    else {\n        cached[alg] = cryptoKey;\n    }\n    return cryptoKey;\n};\nexport async function normalizeKey(key, alg) {\n    if (key instanceof Uint8Array) {\n        return key;\n    }\n    if (isCryptoKey(key)) {\n        return key;\n    }\n    if (isKeyObject(key)) {\n        if (key.type === 'secret') {\n            return key.export();\n        }\n        if ('toCryptoKey' in key && typeof key.toCryptoKey === 'function') {\n            try {\n                return handleKeyObject(key, alg);\n            }\n            catch (err) {\n                if (err instanceof TypeError) {\n                    throw err;\n                }\n            }\n        }\n        let jwk = key.export({ format: 'jwk' });\n        return handleJWK(key, jwk, alg);\n    }\n    if (isJWK(key)) {\n        if (key.k) {\n            return decode(key.k);\n        }\n        return handleJWK(key, key, alg, true);\n    }\n    throw new Error('unreachable');\n}\n","import { withAlg as invalidKeyInput } from './invalid_key_input.js';\nimport { isKeyLike } from './is_key_like.js';\nimport * as jwk from './is_jwk.js';\nconst tag = (key) => key?.[Symbol.toStringTag];\nconst jwkMatchesOp = (alg, key, usage) => {\n    if (key.use !== undefined) {\n        let expected;\n        switch (usage) {\n            case 'sign':\n            case 'verify':\n                expected = 'sig';\n                break;\n            case 'encrypt':\n            case 'decrypt':\n                expected = 'enc';\n                break;\n        }\n        if (key.use !== expected) {\n            throw new TypeError(`Invalid key for this operation, its \"use\" must be \"${expected}\" when present`);\n        }\n    }\n    if (key.alg !== undefined && key.alg !== alg) {\n        throw new TypeError(`Invalid key for this operation, its \"alg\" must be \"${alg}\" when present`);\n    }\n    if (Array.isArray(key.key_ops)) {\n        let expectedKeyOp;\n        switch (true) {\n            case usage === 'sign' || usage === 'verify':\n            case alg === 'dir':\n            case alg.includes('CBC-HS'):\n                expectedKeyOp = usage;\n                break;\n            case alg.startsWith('PBES2'):\n                expectedKeyOp = 'deriveBits';\n                break;\n            case /^A\\d{3}(?:GCM)?(?:KW)?$/.test(alg):\n                if (!alg.includes('GCM') && alg.endsWith('KW')) {\n                    expectedKeyOp = usage === 'encrypt' ? 'wrapKey' : 'unwrapKey';\n                }\n                else {\n                    expectedKeyOp = usage;\n                }\n                break;\n            case usage === 'encrypt' && alg.startsWith('RSA'):\n                expectedKeyOp = 'wrapKey';\n                break;\n            case usage === 'decrypt':\n                expectedKeyOp = alg.startsWith('RSA') ? 'unwrapKey' : 'deriveBits';\n                break;\n        }\n        if (expectedKeyOp && key.key_ops?.includes?.(expectedKeyOp) === false) {\n            throw new TypeError(`Invalid key for this operation, its \"key_ops\" must include \"${expectedKeyOp}\" when present`);\n        }\n    }\n    return true;\n};\nconst symmetricTypeCheck = (alg, key, usage) => {\n    if (key instanceof Uint8Array)\n        return;\n    if (jwk.isJWK(key)) {\n        if (jwk.isSecretJWK(key) && jwkMatchesOp(alg, key, usage))\n            return;\n        throw new TypeError(`JSON Web Key for symmetric algorithms must have JWK \"kty\" (Key Type) equal to \"oct\" and the JWK \"k\" (Key Value) present`);\n    }\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(alg, key, 'CryptoKey', 'KeyObject', 'JSON Web Key', 'Uint8Array'));\n    }\n    if (key.type !== 'secret') {\n        throw new TypeError(`${tag(key)} instances for symmetric algorithms must be of type \"secret\"`);\n    }\n};\nconst asymmetricTypeCheck = (alg, key, usage) => {\n    if (jwk.isJWK(key)) {\n        switch (usage) {\n            case 'decrypt':\n            case 'sign':\n                if (jwk.isPrivateJWK(key) && jwkMatchesOp(alg, key, usage))\n                    return;\n                throw new TypeError(`JSON Web Key for this operation must be a private JWK`);\n            case 'encrypt':\n            case 'verify':\n                if (jwk.isPublicJWK(key) && jwkMatchesOp(alg, key, usage))\n                    return;\n                throw new TypeError(`JSON Web Key for this operation must be a public JWK`);\n        }\n    }\n    if (!isKeyLike(key)) {\n        throw new TypeError(invalidKeyInput(alg, key, 'CryptoKey', 'KeyObject', 'JSON Web Key'));\n    }\n    if (key.type === 'secret') {\n        throw new TypeError(`${tag(key)} instances for asymmetric algorithms must not be of type \"secret\"`);\n    }\n    if (key.type === 'public') {\n        switch (usage) {\n            case 'sign':\n                throw new TypeError(`${tag(key)} instances for asymmetric algorithm signing must be of type \"private\"`);\n            case 'decrypt':\n                throw new TypeError(`${tag(key)} instances for asymmetric algorithm decryption must be of type \"private\"`);\n        }\n    }\n    if (key.type === 'private') {\n        switch (usage) {\n            case 'verify':\n                throw new TypeError(`${tag(key)} instances for asymmetric algorithm verifying must be of type \"public\"`);\n            case 'encrypt':\n                throw new TypeError(`${tag(key)} instances for asymmetric algorithm encryption must be of type \"public\"`);\n        }\n    }\n};\nexport function checkKeyType(alg, key, usage) {\n    switch (alg.substring(0, 2)) {\n        case 'A1':\n        case 'A2':\n        case 'di':\n        case 'HS':\n        case 'PB':\n            symmetricTypeCheck(alg, key, usage);\n            break;\n        default:\n            asymmetricTypeCheck(alg, key, usage);\n    }\n}\n",null,"import { checkSigCryptoKey } from './crypto_key.js';\nimport { invalidKeyInput } from './invalid_key_input.js';\nexport async function getSigKey(alg, key, usage) {\n    if (key instanceof Uint8Array) {\n        if (!alg.startsWith('HS')) {\n            throw new TypeError(invalidKeyInput(key, 'CryptoKey', 'KeyObject', 'JSON Web Key'));\n        }\n        return crypto.subtle.importKey('raw', key, { hash: `SHA-${alg.slice(-3)}`, name: 'HMAC' }, false, [usage]);\n    }\n    checkSigCryptoKey(key, alg, usage);\n    return key;\n}\n","import { subtleAlgorithm } from './subtle_dsa.js';\nimport { checkKeyLength } from './check_key_length.js';\nimport { getSigKey } from './get_sign_verify_key.js';\nexport async function verify(alg, key, signature, data) {\n    const cryptoKey = await getSigKey(alg, key, 'verify');\n    checkKeyLength(alg, cryptoKey);\n    const algorithm = subtleAlgorithm(alg, cryptoKey.algorithm);\n    try {\n        return await crypto.subtle.verify(algorithm, cryptoKey, signature, data);\n    }\n    catch {\n        return false;\n    }\n}\n","export function checkKeyLength(alg, key) {\n    if (alg.startsWith('RS') || alg.startsWith('PS')) {\n        const { modulusLength } = key.algorithm;\n        if (typeof modulusLength !== 'number' || modulusLength < 2048) {\n            throw new TypeError(`${alg} requires key modulusLength to be 2048 bits or larger`);\n        }\n    }\n}\n","import { JOSENotSupported } from '../util/errors.js';\nexport function subtleAlgorithm(alg, algorithm) {\n    const hash = `SHA-${alg.slice(-3)}`;\n    switch (alg) {\n        case 'HS256':\n        case 'HS384':\n        case 'HS512':\n            return { hash, name: 'HMAC' };\n        case 'PS256':\n        case 'PS384':\n        case 'PS512':\n            return { hash, name: 'RSA-PSS', saltLength: parseInt(alg.slice(-3), 10) >> 3 };\n        case 'RS256':\n        case 'RS384':\n        case 'RS512':\n            return { hash, name: 'RSASSA-PKCS1-v1_5' };\n        case 'ES256':\n        case 'ES384':\n        case 'ES512':\n            return { hash, name: 'ECDSA', namedCurve: algorithm.namedCurve };\n        case 'Ed25519':\n        case 'EdDSA':\n            return { name: 'Ed25519' };\n        case 'ML-DSA-44':\n        case 'ML-DSA-65':\n        case 'ML-DSA-87':\n            return { name: alg };\n        default:\n            throw new JOSENotSupported(`alg ${alg} is not supported either by JOSE or your javascript runtime`);\n    }\n}\n","import { decode as b64u } from '../../util/base64url.js';\nimport { verify } from '../../lib/verify.js';\nimport { JOSEAlgNotAllowed, JWSInvalid, JWSSignatureVerificationFailed } from '../../util/errors.js';\nimport { concat, encoder, decoder, encode } from '../../lib/buffer_utils.js';\nimport { isDisjoint } from '../../lib/is_disjoint.js';\nimport { isObject } from '../../lib/is_object.js';\nimport { checkKeyType } from '../../lib/check_key_type.js';\nimport { validateCrit } from '../../lib/validate_crit.js';\nimport { validateAlgorithms } from '../../lib/validate_algorithms.js';\nimport { normalizeKey } from '../../lib/normalize_key.js';\nexport async function flattenedVerify(jws, key, options) {\n    if (!isObject(jws)) {\n        throw new JWSInvalid('Flattened JWS must be an object');\n    }\n    if (jws.protected === undefined && jws.header === undefined) {\n        throw new JWSInvalid('Flattened JWS must have either of the \"protected\" or \"header\" members');\n    }\n    if (jws.protected !== undefined && typeof jws.protected !== 'string') {\n        throw new JWSInvalid('JWS Protected Header incorrect type');\n    }\n    if (jws.payload === undefined) {\n        throw new JWSInvalid('JWS Payload missing');\n    }\n    if (typeof jws.signature !== 'string') {\n        throw new JWSInvalid('JWS Signature missing or incorrect type');\n    }\n    if (jws.header !== undefined && !isObject(jws.header)) {\n        throw new JWSInvalid('JWS Unprotected Header incorrect type');\n    }\n    let parsedProt = {};\n    if (jws.protected) {\n        try {\n            const protectedHeader = b64u(jws.protected);\n            parsedProt = JSON.parse(decoder.decode(protectedHeader));\n        }\n        catch {\n            throw new JWSInvalid('JWS Protected Header is invalid');\n        }\n    }\n    if (!isDisjoint(parsedProt, jws.header)) {\n        throw new JWSInvalid('JWS Protected and JWS Unprotected Header Parameter names must be disjoint');\n    }\n    const joseHeader = {\n        ...parsedProt,\n        ...jws.header,\n    };\n    const extensions = validateCrit(JWSInvalid, new Map([['b64', true]]), options?.crit, parsedProt, joseHeader);\n    let b64 = true;\n    if (extensions.has('b64')) {\n        b64 = parsedProt.b64;\n        if (typeof b64 !== 'boolean') {\n            throw new JWSInvalid('The \"b64\" (base64url-encode payload) Header Parameter must be a boolean');\n        }\n    }\n    const { alg } = joseHeader;\n    if (typeof alg !== 'string' || !alg) {\n        throw new JWSInvalid('JWS \"alg\" (Algorithm) Header Parameter missing or invalid');\n    }\n    const algorithms = options && validateAlgorithms('algorithms', options.algorithms);\n    if (algorithms && !algorithms.has(alg)) {\n        throw new JOSEAlgNotAllowed('\"alg\" (Algorithm) Header Parameter value not allowed');\n    }\n    if (b64) {\n        if (typeof jws.payload !== 'string') {\n            throw new JWSInvalid('JWS Payload must be a string');\n        }\n    }\n    else if (typeof jws.payload !== 'string' && !(jws.payload instanceof Uint8Array)) {\n        throw new JWSInvalid('JWS Payload must be a string or an Uint8Array instance');\n    }\n    let resolvedKey = false;\n    if (typeof key === 'function') {\n        key = await key(parsedProt, jws);\n        resolvedKey = true;\n    }\n    checkKeyType(alg, key, 'verify');\n    const data = concat(jws.protected !== undefined ? encode(jws.protected) : new Uint8Array(), encode('.'), typeof jws.payload === 'string'\n        ? b64\n            ? encode(jws.payload)\n            : encoder.encode(jws.payload)\n        : jws.payload);\n    let signature;\n    try {\n        signature = b64u(jws.signature);\n    }\n    catch {\n        throw new JWSInvalid('Failed to base64url decode the signature');\n    }\n    const k = await normalizeKey(key, alg);\n    const verified = await verify(alg, k, signature, data);\n    if (!verified) {\n        throw new JWSSignatureVerificationFailed();\n    }\n    let payload;\n    if (b64) {\n        try {\n            payload = b64u(jws.payload);\n        }\n        catch {\n            throw new JWSInvalid('Failed to base64url decode the payload');\n        }\n    }\n    else if (typeof jws.payload === 'string') {\n        payload = encoder.encode(jws.payload);\n    }\n    else {\n        payload = jws.payload;\n    }\n    const result = { payload };\n    if (jws.protected !== undefined) {\n        result.protectedHeader = parsedProt;\n    }\n    if (jws.header !== undefined) {\n        result.unprotectedHeader = jws.header;\n    }\n    if (resolvedKey) {\n        return { ...result, key: k };\n    }\n    return result;\n}\n","export function isDisjoint(...headers) {\n    const sources = headers.filter(Boolean);\n    if (sources.length === 0 || sources.length === 1) {\n        return true;\n    }\n    let acc;\n    for (const header of sources) {\n        const parameters = Object.keys(header);\n        if (!acc || acc.size === 0) {\n            acc = new Set(parameters);\n            continue;\n        }\n        for (const parameter of parameters) {\n            if (acc.has(parameter)) {\n                return false;\n            }\n            acc.add(parameter);\n        }\n    }\n    return true;\n}\n","import { JOSENotSupported, JWEInvalid, JWSInvalid } from '../util/errors.js';\nexport function validateCrit(Err, recognizedDefault, recognizedOption, protectedHeader, joseHeader) {\n    if (joseHeader.crit !== undefined && protectedHeader?.crit === undefined) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be integrity protected');\n    }\n    if (!protectedHeader || protectedHeader.crit === undefined) {\n        return new Set();\n    }\n    if (!Array.isArray(protectedHeader.crit) ||\n        protectedHeader.crit.length === 0 ||\n        protectedHeader.crit.some((input) => typeof input !== 'string' || input.length === 0)) {\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\n    }\n    let recognized;\n    if (recognizedOption !== undefined) {\n        recognized = new Map([...Object.entries(recognizedOption), ...recognizedDefault.entries()]);\n    }\n    else {\n        recognized = recognizedDefault;\n    }\n    for (const parameter of protectedHeader.crit) {\n        if (!recognized.has(parameter)) {\n            throw new JOSENotSupported(`Extension Header Parameter \"${parameter}\" is not recognized`);\n        }\n        if (joseHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" is missing`);\n        }\n        if (recognized.get(parameter) && protectedHeader[parameter] === undefined) {\n            throw new Err(`Extension Header Parameter \"${parameter}\" MUST be integrity protected`);\n        }\n    }\n    return new Set(protectedHeader.crit);\n}\n","export function validateAlgorithms(option, algorithms) {\n    if (algorithms !== undefined &&\n        (!Array.isArray(algorithms) || algorithms.some((s) => typeof s !== 'string'))) {\n        throw new TypeError(`\"${option}\" option must be an array of strings`);\n    }\n    if (!algorithms) {\n        return undefined;\n    }\n    return new Set(algorithms);\n}\n","import { JWTClaimValidationFailed, JWTExpired, JWTInvalid } from '../util/errors.js';\nimport { encoder, decoder } from './buffer_utils.js';\nimport { isObject } from './is_object.js';\nconst epoch = (date) => Math.floor(date.getTime() / 1000);\nconst minute = 60;\nconst hour = minute * 60;\nconst day = hour * 24;\nconst week = day * 7;\nconst year = day * 365.25;\nconst REGEX = /^(\\+|\\-)? ?(\\d+|\\d+\\.\\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;\nexport function secs(str) {\n    const matched = REGEX.exec(str);\n    if (!matched || (matched[4] && matched[1])) {\n        throw new TypeError('Invalid time period format');\n    }\n    const value = parseFloat(matched[2]);\n    const unit = matched[3].toLowerCase();\n    let numericDate;\n    switch (unit) {\n        case 'sec':\n        case 'secs':\n        case 'second':\n        case 'seconds':\n        case 's':\n            numericDate = Math.round(value);\n            break;\n        case 'minute':\n        case 'minutes':\n        case 'min':\n        case 'mins':\n        case 'm':\n            numericDate = Math.round(value * minute);\n            break;\n        case 'hour':\n        case 'hours':\n        case 'hr':\n        case 'hrs':\n        case 'h':\n            numericDate = Math.round(value * hour);\n            break;\n        case 'day':\n        case 'days':\n        case 'd':\n            numericDate = Math.round(value * day);\n            break;\n        case 'week':\n        case 'weeks':\n        case 'w':\n            numericDate = Math.round(value * week);\n            break;\n        default:\n            numericDate = Math.round(value * year);\n            break;\n    }\n    if (matched[1] === '-' || matched[4] === 'ago') {\n        return -numericDate;\n    }\n    return numericDate;\n}\nfunction validateInput(label, input) {\n    if (!Number.isFinite(input)) {\n        throw new TypeError(`Invalid ${label} input`);\n    }\n    return input;\n}\nconst normalizeTyp = (value) => {\n    if (value.includes('/')) {\n        return value.toLowerCase();\n    }\n    return `application/${value.toLowerCase()}`;\n};\nconst checkAudiencePresence = (audPayload, audOption) => {\n    if (typeof audPayload === 'string') {\n        return audOption.includes(audPayload);\n    }\n    if (Array.isArray(audPayload)) {\n        return audOption.some(Set.prototype.has.bind(new Set(audPayload)));\n    }\n    return false;\n};\nexport function validateClaimsSet(protectedHeader, encodedPayload, options = {}) {\n    let payload;\n    try {\n        payload = JSON.parse(decoder.decode(encodedPayload));\n    }\n    catch {\n    }\n    if (!isObject(payload)) {\n        throw new JWTInvalid('JWT Claims Set must be a top-level JSON object');\n    }\n    const { typ } = options;\n    if (typ &&\n        (typeof protectedHeader.typ !== 'string' ||\n            normalizeTyp(protectedHeader.typ) !== normalizeTyp(typ))) {\n        throw new JWTClaimValidationFailed('unexpected \"typ\" JWT header value', payload, 'typ', 'check_failed');\n    }\n    const { requiredClaims = [], issuer, subject, audience, maxTokenAge } = options;\n    const presenceCheck = [...requiredClaims];\n    if (maxTokenAge !== undefined)\n        presenceCheck.push('iat');\n    if (audience !== undefined)\n        presenceCheck.push('aud');\n    if (subject !== undefined)\n        presenceCheck.push('sub');\n    if (issuer !== undefined)\n        presenceCheck.push('iss');\n    for (const claim of new Set(presenceCheck.reverse())) {\n        if (!(claim in payload)) {\n            throw new JWTClaimValidationFailed(`missing required \"${claim}\" claim`, payload, claim, 'missing');\n        }\n    }\n    if (issuer &&\n        !(Array.isArray(issuer) ? issuer : [issuer]).includes(payload.iss)) {\n        throw new JWTClaimValidationFailed('unexpected \"iss\" claim value', payload, 'iss', 'check_failed');\n    }\n    if (subject && payload.sub !== subject) {\n        throw new JWTClaimValidationFailed('unexpected \"sub\" claim value', payload, 'sub', 'check_failed');\n    }\n    if (audience &&\n        !checkAudiencePresence(payload.aud, typeof audience === 'string' ? [audience] : audience)) {\n        throw new JWTClaimValidationFailed('unexpected \"aud\" claim value', payload, 'aud', 'check_failed');\n    }\n    let tolerance;\n    switch (typeof options.clockTolerance) {\n        case 'string':\n            tolerance = secs(options.clockTolerance);\n            break;\n        case 'number':\n            tolerance = options.clockTolerance;\n            break;\n        case 'undefined':\n            tolerance = 0;\n            break;\n        default:\n            throw new TypeError('Invalid clockTolerance option type');\n    }\n    const { currentDate } = options;\n    const now = epoch(currentDate || new Date());\n    if ((payload.iat !== undefined || maxTokenAge) && typeof payload.iat !== 'number') {\n        throw new JWTClaimValidationFailed('\"iat\" claim must be a number', payload, 'iat', 'invalid');\n    }\n    if (payload.nbf !== undefined) {\n        if (typeof payload.nbf !== 'number') {\n            throw new JWTClaimValidationFailed('\"nbf\" claim must be a number', payload, 'nbf', 'invalid');\n        }\n        if (payload.nbf > now + tolerance) {\n            throw new JWTClaimValidationFailed('\"nbf\" claim timestamp check failed', payload, 'nbf', 'check_failed');\n        }\n    }\n    if (payload.exp !== undefined) {\n        if (typeof payload.exp !== 'number') {\n            throw new JWTClaimValidationFailed('\"exp\" claim must be a number', payload, 'exp', 'invalid');\n        }\n        if (payload.exp <= now - tolerance) {\n            throw new JWTExpired('\"exp\" claim timestamp check failed', payload, 'exp', 'check_failed');\n        }\n    }\n    if (maxTokenAge) {\n        const age = now - payload.iat;\n        const max = typeof maxTokenAge === 'number' ? maxTokenAge : secs(maxTokenAge);\n        if (age - tolerance > max) {\n            throw new JWTExpired('\"iat\" claim timestamp check failed (too far in the past)', payload, 'iat', 'check_failed');\n        }\n        if (age < 0 - tolerance) {\n            throw new JWTClaimValidationFailed('\"iat\" claim timestamp check failed (it should be in the past)', payload, 'iat', 'check_failed');\n        }\n    }\n    return payload;\n}\nexport class JWTClaimsBuilder {\n    #payload;\n    constructor(payload) {\n        if (!isObject(payload)) {\n            throw new TypeError('JWT Claims Set MUST be an object');\n        }\n        this.#payload = structuredClone(payload);\n    }\n    data() {\n        return encoder.encode(JSON.stringify(this.#payload));\n    }\n    get iss() {\n        return this.#payload.iss;\n    }\n    set iss(value) {\n        this.#payload.iss = value;\n    }\n    get sub() {\n        return this.#payload.sub;\n    }\n    set sub(value) {\n        this.#payload.sub = value;\n    }\n    get aud() {\n        return this.#payload.aud;\n    }\n    set aud(value) {\n        this.#payload.aud = value;\n    }\n    set jti(value) {\n        this.#payload.jti = value;\n    }\n    set nbf(value) {\n        if (typeof value === 'number') {\n            this.#payload.nbf = validateInput('setNotBefore', value);\n        }\n        else if (value instanceof Date) {\n            this.#payload.nbf = validateInput('setNotBefore', epoch(value));\n        }\n        else {\n            this.#payload.nbf = epoch(new Date()) + secs(value);\n        }\n    }\n    set exp(value) {\n        if (typeof value === 'number') {\n            this.#payload.exp = validateInput('setExpirationTime', value);\n        }\n        else if (value instanceof Date) {\n            this.#payload.exp = validateInput('setExpirationTime', epoch(value));\n        }\n        else {\n            this.#payload.exp = epoch(new Date()) + secs(value);\n        }\n    }\n    set iat(value) {\n        if (value === undefined) {\n            this.#payload.iat = epoch(new Date());\n        }\n        else if (value instanceof Date) {\n            this.#payload.iat = validateInput('setIssuedAt', epoch(value));\n        }\n        else if (typeof value === 'string') {\n            this.#payload.iat = validateInput('setIssuedAt', epoch(new Date()) + secs(value));\n        }\n        else {\n            this.#payload.iat = validateInput('setIssuedAt', value);\n        }\n    }\n}\n","import { compactVerify } from '../jws/compact/verify.js';\nimport { validateClaimsSet } from '../lib/jwt_claims_set.js';\nimport { JWTInvalid } from '../util/errors.js';\nexport async function jwtVerify(jwt, key, options) {\n    const verified = await compactVerify(jwt, key, options);\n    if (verified.protectedHeader.crit?.includes('b64') && verified.protectedHeader.b64 === false) {\n        throw new JWTInvalid('JWTs MUST NOT use unencoded payload');\n    }\n    const payload = validateClaimsSet(verified.protectedHeader, verified.payload, options);\n    const result = { payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n","import { flattenedVerify } from '../flattened/verify.js';\nimport { JWSInvalid } from '../../util/errors.js';\nimport { decoder } from '../../lib/buffer_utils.js';\nexport async function compactVerify(jws, key, options) {\n    if (jws instanceof Uint8Array) {\n        jws = decoder.decode(jws);\n    }\n    if (typeof jws !== 'string') {\n        throw new JWSInvalid('Compact JWS must be a string or Uint8Array');\n    }\n    const { 0: protectedHeader, 1: payload, 2: signature, length } = jws.split('.');\n    if (length !== 3) {\n        throw new JWSInvalid('Invalid Compact JWS');\n    }\n    const verified = await flattenedVerify({ payload, protected: protectedHeader, signature }, key, options);\n    const result = { payload: verified.payload, protectedHeader: verified.protectedHeader };\n    if (typeof key === 'function') {\n        return { ...result, key: verified.key };\n    }\n    return result;\n}\n","import { importJWK } from '../key/import.js';\nimport { JWKSInvalid, JOSENotSupported, JWKSNoMatchingKey, JWKSMultipleMatchingKeys, } from '../util/errors.js';\nimport { isObject } from '../lib/is_object.js';\nfunction getKtyFromAlg(alg) {\n    switch (typeof alg === 'string' && alg.slice(0, 2)) {\n        case 'RS':\n        case 'PS':\n            return 'RSA';\n        case 'ES':\n            return 'EC';\n        case 'Ed':\n            return 'OKP';\n        case 'ML':\n            return 'AKP';\n        default:\n            throw new JOSENotSupported('Unsupported \"alg\" value for a JSON Web Key Set');\n    }\n}\nfunction isJWKSLike(jwks) {\n    return (jwks &&\n        typeof jwks === 'object' &&\n        Array.isArray(jwks.keys) &&\n        jwks.keys.every(isJWKLike));\n}\nfunction isJWKLike(key) {\n    return isObject(key);\n}\nclass LocalJWKSet {\n    #jwks;\n    #cached = new WeakMap();\n    constructor(jwks) {\n        if (!isJWKSLike(jwks)) {\n            throw new JWKSInvalid('JSON Web Key Set malformed');\n        }\n        this.#jwks = structuredClone(jwks);\n    }\n    jwks() {\n        return this.#jwks;\n    }\n    async getKey(protectedHeader, token) {\n        const { alg, kid } = { ...protectedHeader, ...token?.header };\n        const kty = getKtyFromAlg(alg);\n        const candidates = this.#jwks.keys.filter((jwk) => {\n            let candidate = kty === jwk.kty;\n            if (candidate && typeof kid === 'string') {\n                candidate = kid === jwk.kid;\n            }\n            if (candidate && (typeof jwk.alg === 'string' || kty === 'AKP')) {\n                candidate = alg === jwk.alg;\n            }\n            if (candidate && typeof jwk.use === 'string') {\n                candidate = jwk.use === 'sig';\n            }\n            if (candidate && Array.isArray(jwk.key_ops)) {\n                candidate = jwk.key_ops.includes('verify');\n            }\n            if (candidate) {\n                switch (alg) {\n                    case 'ES256':\n                        candidate = jwk.crv === 'P-256';\n                        break;\n                    case 'ES384':\n                        candidate = jwk.crv === 'P-384';\n                        break;\n                    case 'ES512':\n                        candidate = jwk.crv === 'P-521';\n                        break;\n                    case 'Ed25519':\n                    case 'EdDSA':\n                        candidate = jwk.crv === 'Ed25519';\n                        break;\n                }\n            }\n            return candidate;\n        });\n        const { 0: jwk, length } = candidates;\n        if (length === 0) {\n            throw new JWKSNoMatchingKey();\n        }\n        if (length !== 1) {\n            const error = new JWKSMultipleMatchingKeys();\n            const _cached = this.#cached;\n            error[Symbol.asyncIterator] = async function* () {\n                for (const jwk of candidates) {\n                    try {\n                        yield await importWithAlgCache(_cached, jwk, alg);\n                    }\n                    catch { }\n                }\n            };\n            throw error;\n        }\n        return importWithAlgCache(this.#cached, jwk, alg);\n    }\n}\nasync function importWithAlgCache(cache, jwk, alg) {\n    const cached = cache.get(jwk) || cache.set(jwk, {}).get(jwk);\n    if (cached[alg] === undefined) {\n        const key = await importJWK({ ...jwk, ext: true }, alg);\n        if (key instanceof Uint8Array || key.type !== 'public') {\n            throw new JWKSInvalid('JSON Web Key Set members must be public keys');\n        }\n        cached[alg] = key;\n    }\n    return cached[alg];\n}\nexport function createLocalJWKSet(jwks) {\n    const set = new LocalJWKSet(jwks);\n    const localJWKSet = async (protectedHeader, token) => set.getKey(protectedHeader, token);\n    Object.defineProperties(localJWKSet, {\n        jwks: {\n            value: () => structuredClone(set.jwks()),\n            enumerable: false,\n            configurable: false,\n            writable: false,\n        },\n    });\n    return localJWKSet;\n}\n","import { decode as decodeBase64URL } from '../util/base64url.js';\nimport { fromSPKI, fromPKCS8, fromX509 } from '../lib/asn1.js';\nimport { jwkToKey } from '../lib/jwk_to_key.js';\nimport { JOSENotSupported } from '../util/errors.js';\nimport { isObject } from '../lib/is_object.js';\nexport async function importSPKI(spki, alg, options) {\n    if (typeof spki !== 'string' || spki.indexOf('-----BEGIN PUBLIC KEY-----') !== 0) {\n        throw new TypeError('\"spki\" must be SPKI formatted string');\n    }\n    return fromSPKI(spki, alg, options);\n}\nexport async function importX509(x509, alg, options) {\n    if (typeof x509 !== 'string' || x509.indexOf('-----BEGIN CERTIFICATE-----') !== 0) {\n        throw new TypeError('\"x509\" must be X.509 formatted string');\n    }\n    return fromX509(x509, alg, options);\n}\nexport async function importPKCS8(pkcs8, alg, options) {\n    if (typeof pkcs8 !== 'string' || pkcs8.indexOf('-----BEGIN PRIVATE KEY-----') !== 0) {\n        throw new TypeError('\"pkcs8\" must be PKCS#8 formatted string');\n    }\n    return fromPKCS8(pkcs8, alg, options);\n}\nexport async function importJWK(jwk, alg, options) {\n    if (!isObject(jwk)) {\n        throw new TypeError('JWK must be an object');\n    }\n    let ext;\n    alg ??= jwk.alg;\n    ext ??= options?.extractable ?? jwk.ext;\n    switch (jwk.kty) {\n        case 'oct':\n            if (typeof jwk.k !== 'string' || !jwk.k) {\n                throw new TypeError('missing \"k\" (Key Value) Parameter value');\n            }\n            return decodeBase64URL(jwk.k);\n        case 'RSA':\n            if ('oth' in jwk && jwk.oth !== undefined) {\n                throw new JOSENotSupported('RSA JWK \"oth\" (Other Primes Info) Parameter value is not supported');\n            }\n            return jwkToKey({ ...jwk, alg, ext });\n        case 'AKP': {\n            if (typeof jwk.alg !== 'string' || !jwk.alg) {\n                throw new TypeError('missing \"alg\" (Algorithm) Parameter value');\n            }\n            if (alg !== undefined && alg !== jwk.alg) {\n                throw new TypeError('JWK alg and alg option value mismatch');\n            }\n            return jwkToKey({ ...jwk, ext });\n        }\n        case 'EC':\n        case 'OKP':\n            return jwkToKey({ ...jwk, alg, ext });\n        default:\n            throw new JOSENotSupported('Unsupported \"kty\" (Key Type) Parameter value');\n    }\n}\n","import { JOSEError, JWKSNoMatchingKey, JWKSTimeout } from '../util/errors.js';\nimport { createLocalJWKSet } from './local.js';\nimport { isObject } from '../lib/is_object.js';\nfunction isCloudflareWorkers() {\n    return (typeof WebSocketPair !== 'undefined' ||\n        (typeof navigator !== 'undefined' && navigator.userAgent === 'Cloudflare-Workers') ||\n        (typeof EdgeRuntime !== 'undefined' && EdgeRuntime === 'vercel'));\n}\nlet USER_AGENT;\nif (typeof navigator === 'undefined' || !navigator.userAgent?.startsWith?.('Mozilla/5.0 ')) {\n    const NAME = 'jose';\n    const VERSION = 'v6.1.3';\n    USER_AGENT = `${NAME}/${VERSION}`;\n}\nexport const customFetch = Symbol();\nasync function fetchJwks(url, headers, signal, fetchImpl = fetch) {\n    const response = await fetchImpl(url, {\n        method: 'GET',\n        signal,\n        redirect: 'manual',\n        headers,\n    }).catch((err) => {\n        if (err.name === 'TimeoutError') {\n            throw new JWKSTimeout();\n        }\n        throw err;\n    });\n    if (response.status !== 200) {\n        throw new JOSEError('Expected 200 OK from the JSON Web Key Set HTTP response');\n    }\n    try {\n        return await response.json();\n    }\n    catch {\n        throw new JOSEError('Failed to parse the JSON Web Key Set HTTP response as JSON');\n    }\n}\nexport const jwksCache = Symbol();\nfunction isFreshJwksCache(input, cacheMaxAge) {\n    if (typeof input !== 'object' || input === null) {\n        return false;\n    }\n    if (!('uat' in input) || typeof input.uat !== 'number' || Date.now() - input.uat >= cacheMaxAge) {\n        return false;\n    }\n    if (!('jwks' in input) ||\n        !isObject(input.jwks) ||\n        !Array.isArray(input.jwks.keys) ||\n        !Array.prototype.every.call(input.jwks.keys, isObject)) {\n        return false;\n    }\n    return true;\n}\nclass RemoteJWKSet {\n    #url;\n    #timeoutDuration;\n    #cooldownDuration;\n    #cacheMaxAge;\n    #jwksTimestamp;\n    #pendingFetch;\n    #headers;\n    #customFetch;\n    #local;\n    #cache;\n    constructor(url, options) {\n        if (!(url instanceof URL)) {\n            throw new TypeError('url must be an instance of URL');\n        }\n        this.#url = new URL(url.href);\n        this.#timeoutDuration =\n            typeof options?.timeoutDuration === 'number' ? options?.timeoutDuration : 5000;\n        this.#cooldownDuration =\n            typeof options?.cooldownDuration === 'number' ? options?.cooldownDuration : 30000;\n        this.#cacheMaxAge = typeof options?.cacheMaxAge === 'number' ? options?.cacheMaxAge : 600000;\n        this.#headers = new Headers(options?.headers);\n        if (USER_AGENT && !this.#headers.has('User-Agent')) {\n            this.#headers.set('User-Agent', USER_AGENT);\n        }\n        if (!this.#headers.has('accept')) {\n            this.#headers.set('accept', 'application/json');\n            this.#headers.append('accept', 'application/jwk-set+json');\n        }\n        this.#customFetch = options?.[customFetch];\n        if (options?.[jwksCache] !== undefined) {\n            this.#cache = options?.[jwksCache];\n            if (isFreshJwksCache(options?.[jwksCache], this.#cacheMaxAge)) {\n                this.#jwksTimestamp = this.#cache.uat;\n                this.#local = createLocalJWKSet(this.#cache.jwks);\n            }\n        }\n    }\n    pendingFetch() {\n        return !!this.#pendingFetch;\n    }\n    coolingDown() {\n        return typeof this.#jwksTimestamp === 'number'\n            ? Date.now() < this.#jwksTimestamp + this.#cooldownDuration\n            : false;\n    }\n    fresh() {\n        return typeof this.#jwksTimestamp === 'number'\n            ? Date.now() < this.#jwksTimestamp + this.#cacheMaxAge\n            : false;\n    }\n    jwks() {\n        return this.#local?.jwks();\n    }\n    async getKey(protectedHeader, token) {\n        if (!this.#local || !this.fresh()) {\n            await this.reload();\n        }\n        try {\n            return await this.#local(protectedHeader, token);\n        }\n        catch (err) {\n            if (err instanceof JWKSNoMatchingKey) {\n                if (this.coolingDown() === false) {\n                    await this.reload();\n                    return this.#local(protectedHeader, token);\n                }\n            }\n            throw err;\n        }\n    }\n    async reload() {\n        if (this.#pendingFetch && isCloudflareWorkers()) {\n            this.#pendingFetch = undefined;\n        }\n        this.#pendingFetch ||= fetchJwks(this.#url.href, this.#headers, AbortSignal.timeout(this.#timeoutDuration), this.#customFetch)\n            .then((json) => {\n            this.#local = createLocalJWKSet(json);\n            if (this.#cache) {\n                this.#cache.uat = Date.now();\n                this.#cache.jwks = json;\n            }\n            this.#jwksTimestamp = Date.now();\n            this.#pendingFetch = undefined;\n        })\n            .catch((err) => {\n            this.#pendingFetch = undefined;\n            throw err;\n        });\n        await this.#pendingFetch;\n    }\n}\nexport function createRemoteJWKSet(url, options) {\n    const set = new RemoteJWKSet(url, options);\n    const remoteJWKSet = async (protectedHeader, token) => set.getKey(protectedHeader, token);\n    Object.defineProperties(remoteJWKSet, {\n        coolingDown: {\n            get: () => set.coolingDown(),\n            enumerable: true,\n            configurable: false,\n        },\n        fresh: {\n            get: () => set.fresh(),\n            enumerable: true,\n            configurable: false,\n        },\n        reload: {\n            value: () => set.reload(),\n            enumerable: true,\n            configurable: false,\n            writable: false,\n        },\n        reloading: {\n            get: () => set.pendingFetch(),\n            enumerable: true,\n            configurable: false,\n        },\n        jwks: {\n            value: () => set.jwks(),\n            enumerable: true,\n            configurable: false,\n            writable: false,\n        },\n    });\n    return remoteJWKSet;\n}\n","/**\n * Interface to represent an OAuth2 error.\n */\nexport interface OAuth2Error {\n  error: string;\n  error_description: string;\n  message?: string;\n}\n\n/**\n * Error codes used for {@link NotSupportedError}\n */\nexport enum NotSupportedErrorCode {\n  PAR_NOT_SUPPORTED = 'par_not_supported_error',\n  MTLS_WITHOUT_CUSTOMFETCH_NOT_SUPPORT = 'mtls_without_custom_fetch_not_supported',\n}\n\n/**\n * Error thrown when a feature is not supported.\n * For example, when trying to use Pushed Authorization Requests (PAR) but the Auth0 tenant was not configured to support it.\n */\nexport class NotSupportedError extends Error {\n  public code: string;\n\n  constructor(code: string, message: string) {\n    super(message);\n    this.name = 'NotSupportedError';\n    this.code = code;\n  }\n}\n\n/**\n * Base class for API errors, containing the error, error_description and message (if available).\n */\nabstract class ApiError extends Error {\n  public cause?: OAuth2Error;\n  public code: string;\n\n  constructor(code: string, message: string, cause?: OAuth2Error) {\n    super(message);\n\n    this.code = code;\n    this.cause = cause && {\n      error: cause.error,\n      error_description: cause.error_description,\n      message: cause.message,\n    };\n  }\n}\n\n/**\n * Error thrown when trying to get an access token.\n */\nexport class TokenByCodeError extends ApiError {\n  constructor(message: string, cause?: OAuth2Error) {\n    super('token_by_code_error', message, cause);\n    this.name = 'TokenByCodeError';\n  }\n}\n\n/**\n * Error thrown when trying to get an access token.\n */\nexport class TokenByClientCredentialsError extends ApiError {\n  constructor(message: string, cause?: OAuth2Error) {\n    super('token_by_client_credentials_error', message, cause);\n    this.name = 'TokenByClientCredentialsError';\n  }\n}\n\n/**\n * Error thrown when trying to get an access token.\n */\nexport class TokenByRefreshTokenError extends ApiError {\n  constructor(message: string, cause?: OAuth2Error) {\n    super('token_by_refresh_token_error', message, cause);\n    this.name = 'TokenByRefreshTokenError';\n  }\n}\n\n/**\n * Error thrown when trying to get an access token for a connection.\n *\n * @deprecated Since v1.2.0, using {@link AuthClient#getTokenForConnection} is deprecated and we recommend to use {@link AuthClient#exchangeToken}.\n * When doing so, use {@link TokenExchangeError} instead of {@link TokenForConnectionError}.\n * This error class remains for backward compatibility and is planned for removal in v2.0.\n */\nexport class TokenForConnectionError extends ApiError {\n  constructor(message: string, cause?: OAuth2Error) {\n    super('token_for_connection_error', message, cause);\n    // NOTE: The name is 'TokenForConnectionErrorCode' (not 'TokenForConnectionError')\n    // for backward compatibility. Consumers may branch on err.name in their error handling.\n    this.name = 'TokenForConnectionErrorCode';\n  }\n}\n\n/**\n * Error thrown when a Token Exchange flow fails. This can occur due to misconfiguration,\n * an invalid subject_token, or if the exchange is denied by the server.\n */\nexport class TokenExchangeError extends ApiError {\n  constructor(message: string, cause?: OAuth2Error) {\n    super('token_exchange_error', message, cause);\n    this.name = 'TokenExchangeError';\n  }\n}\n\n/**\n * Error thrown when verifying the logout token.\n */\nexport class VerifyLogoutTokenError extends Error {\n  public code: string = 'verify_logout_token_error';\n\n  constructor(message: string) {\n    super(message);\n    this.name = 'VerifyLogoutTokenError';\n  }\n}\n\n/**\n * Error thrown when trying to use Client-Initiated Backchannel Authentication.\n */\nexport class BackchannelAuthenticationError extends ApiError {\n  public code: string = 'backchannel_authentication_error';\n\n  constructor(cause?: OAuth2Error) {\n    super(\n      'backchannel_authentication_error',\n      'There was an error when trying to use Client-Initiated Backchannel Authentication.',\n      cause\n    );\n    this.name = 'BackchannelAuthenticationError';\n  }\n}\n\n/**\n * Error thrown when trying to build the authorization URL.\n */\nexport class BuildAuthorizationUrlError extends ApiError {\n  constructor(cause?: OAuth2Error) {\n    super(\n      'build_authorization_url_error',\n      'There was an error when trying to build the authorization URL.',\n      cause\n    );\n    this.name = 'BuildAuthorizationUrlError';\n  }\n}\n\n/**\n * Error thrown when trying to build the Link User URL.\n */\nexport class BuildLinkUserUrlError extends ApiError {\n  constructor(cause?: OAuth2Error) {\n    super(\n      'build_link_user_url_error',\n      'There was an error when trying to build the Link User URL.',\n      cause\n    );\n    this.name = 'BuildLinkUserUrlError';\n  }\n}\n\n/**\n * Error thrown when trying to build the Unlink User URL.\n */\nexport class BuildUnlinkUserUrlError extends ApiError {\n  constructor(cause?: OAuth2Error) {\n    super(\n      'build_unlink_user_url_error',\n      'There was an error when trying to build the Unlink User URL.',\n      cause\n    );\n    this.name = 'BuildUnlinkUserUrlError';\n  }\n}\n\n/**\n * Error thrown when Client Secret or Client Assertion Signing Key is missing.\n */\nexport class MissingClientAuthError extends Error {\n  public code: string = 'missing_client_auth_error';\n\n  constructor() {\n    super(\n      'The client secret or client assertion signing key must be provided.'\n    );\n    this.name = 'MissingClientAuthError';\n  }\n}\n","/**\n * Helper function that removes properties from an object when the value is undefined.\n * @returns The object, without the properties whose values are undefined.\n */\nexport function stripUndefinedProperties<T extends object>(\n  value: T\n): Partial<T> {\n  return Object.entries(value)\n    .filter(([, value]) => typeof value !== 'undefined')\n    .reduce((acc, curr) => ({ ...acc, [curr[0]]: curr[1] }), {});\n}\n","/**\n * Interface to represent an MFA API error response.\n */\nexport interface MfaApiErrorResponse {\n  error: string;\n  error_description: string;\n  message?: string;\n}\n\n/**\n * Base class for MFA-related errors.\n */\nabstract class MfaError extends Error {\n  public cause?: MfaApiErrorResponse;\n  public code: string;\n\n  constructor(code: string, message: string, cause?: MfaApiErrorResponse) {\n    super(message);\n\n    this.code = code;\n    this.cause = cause && {\n      error: cause.error,\n      error_description: cause.error_description,\n      message: cause.message,\n    };\n  }\n}\n\n/**\n * Error thrown when listing authenticators fails.\n */\nexport class MfaListAuthenticatorsError extends MfaError {\n  constructor(message: string, cause?: MfaApiErrorResponse) {\n    super('mfa_list_authenticators_error', message, cause);\n    this.name = 'MfaListAuthenticatorsError';\n  }\n}\n\n/**\n * Error thrown when enrolling an authenticator fails.\n */\nexport class MfaEnrollmentError extends MfaError {\n  constructor(message: string, cause?: MfaApiErrorResponse) {\n    super('mfa_enrollment_error', message, cause);\n    this.name = 'MfaEnrollmentError';\n  }\n}\n\n/**\n * Error thrown when deleting an authenticator fails.\n */\nexport class MfaDeleteAuthenticatorError extends MfaError {\n  constructor(message: string, cause?: MfaApiErrorResponse) {\n    super('mfa_delete_authenticator_error', message, cause);\n    this.name = 'MfaDeleteAuthenticatorError';\n  }\n}\n\n/**\n * Error thrown when initiating an MFA challenge fails.\n */\nexport class MfaChallengeError extends MfaError {\n  constructor(message: string, cause?: MfaApiErrorResponse) {\n    super('mfa_challenge_error', message, cause);\n    this.name = 'MfaChallengeError';\n  }\n}\n\n","import type {\n  AuthenticatorResponse,\n  AuthenticatorApiResponse,\n  EnrollmentResponse,\n  EnrollmentApiResponse,\n  ChallengeResponse,\n  ChallengeApiResponse,\n} from './types.js';\n\n/**\n * Transforms API authenticator response (snake_case) to SDK format (camelCase).\n * @internal\n */\nexport function transformAuthenticatorResponse(api: AuthenticatorApiResponse): AuthenticatorResponse {\n  return {\n    id: api.id,\n    authenticatorType: api.authenticator_type,\n    active: api.active,\n    name: api.name,\n    oobChannels: api.oob_channels,\n    type: api.type\n  };\n}\n\n/**\n * Transforms API enrollment response (snake_case) to SDK format (camelCase).\n * @internal\n */\nexport function transformEnrollmentResponse(api: EnrollmentApiResponse): EnrollmentResponse {\n  if (api.authenticator_type === 'otp') {\n    return {\n      authenticatorType: 'otp',\n      secret: api.secret,\n      barcodeUri: api.barcode_uri,\n      recoveryCodes: api.recovery_codes,\n      id: api.id,\n    };\n  }\n  \n  // OOB - covers SMS, Voice, Auth0, and Email channels\n  if (api.authenticator_type === 'oob') {\n    return {\n      authenticatorType: 'oob',\n      oobChannel: api.oob_channel,\n      oobCode: api.oob_code,\n      bindingMethod: api.binding_method,\n      id: api.id,\n    };\n  }\n  \n  throw new Error(`Unexpected authenticator type: ${(api as { authenticator_type: string }).authenticator_type}`);\n}\n\n/**\n * Transforms API challenge response (snake_case) to SDK format (camelCase).\n * Only includes optional fields when they have values.\n * @internal\n */\nexport function transformChallengeResponse(api: ChallengeApiResponse): ChallengeResponse {\n  const result: ChallengeResponse = {\n    challengeType: api.challenge_type,\n  };\n\n  if (api.oob_code !== undefined) {\n    result.oobCode = api.oob_code;\n  }\n\n  if (api.binding_method !== undefined) {\n    result.bindingMethod = api.binding_method;\n  }\n\n  return result;\n}\n","import type {\n  MfaClientOptions,\n  AuthenticatorResponse,\n  AuthenticatorApiResponse,\n  ListAuthenticatorsOptions,\n  DeleteAuthenticatorOptions,\n  EnrollAuthenticatorOptions,\n  EnrollmentResponse,\n  EnrollmentApiResponse,\n  ChallengeOptions,\n  ChallengeResponse,\n  ChallengeApiResponse,\n} from './types.js';\nimport {\n  MfaListAuthenticatorsError,\n  MfaEnrollmentError,\n  MfaDeleteAuthenticatorError,\n  MfaChallengeError,\n  type MfaApiErrorResponse,\n} from './errors.js';\nimport {\n  transformAuthenticatorResponse,\n  transformEnrollmentResponse,\n  transformChallengeResponse,\n} from './utils.js';\n\n\nexport class MfaClient {\n  #baseUrl: string;\n  #clientId: string;\n  #customFetch: typeof fetch;\n\n  /**\n   * @internal\n   */\n  constructor(options: MfaClientOptions) {\n    this.#baseUrl = `https://${options.domain}`;\n    this.#clientId = options.clientId;\n    this.#customFetch = options.customFetch ?? ((...args) => fetch(...args));\n  }\n\n  /**\n   * Lists all MFA authenticators enrolled by the user.\n   *\n   * Retrieves a list of all multi-factor authentication methods that have been\n   * enrolled for the user, including OTP (TOTP), SMS, voice, email, and recovery codes.\n   *\n   * @param options - Options for listing authenticators\n   * @param options.mfaToken - MFA token obtained from an MFA challenge response\n   * @returns Promise resolving to an array of enrolled authenticators\n   * @throws {MfaListAuthenticatorsError} When the request fails (e.g., invalid token, network error)\n   *\n   * @example\n   * ```typescript\n   * const authenticators = await authClient.mfa.listAuthenticators({\n   *   mfaToken: 'your_mfa_token_here'\n   * });\n   *\n   * // authenticators is an array of enrolled authenticators\n   * // Each has: id, authenticatorType, active, name, oobChannels (for OOB types), type\n   * ```\n   */\n  async listAuthenticators(options: ListAuthenticatorsOptions): Promise<AuthenticatorResponse[]> {\n    const url = `${this.#baseUrl}/mfa/authenticators`;\n    const { mfaToken } = options;\n\n    const response = await this.#customFetch(url, {\n      method: 'GET',\n      headers: {\n        Authorization: `Bearer ${mfaToken}`,\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      const error = (await response.json()) as MfaApiErrorResponse;\n      throw new MfaListAuthenticatorsError(\n        error.error_description || 'Failed to list authenticators',\n        error\n      );\n    }\n\n    const apiResponse = (await response.json()) as AuthenticatorApiResponse[];\n    return apiResponse.map(transformAuthenticatorResponse);\n  }\n\n  /**\n   * Enrolls a new MFA authenticator for the user.\n   *\n   * Initiates the enrollment process for a new multi-factor authentication method.\n   * Supports OTP (TOTP apps like Google Authenticator), SMS, voice, and email authenticators.\n   *\n   * For OTP enrollment, the response includes a secret and QR code URI that the user\n   * can scan with their authenticator app. For SMS/voice enrollment, a phone number\n   * must be provided. For email enrollment, an optional email address can be specified.\n   *\n   * @param options - Enrollment options (type depends on authenticator being enrolled)\n   * @param options.mfaToken - MFA token obtained from an MFA challenge response\n   * @param options.authenticatorTypes - Array with one authenticator type: 'otp', 'oob', or 'email'\n   * @param options.oobChannels - (OOB only) Delivery channels: 'sms', 'voice', or 'auth0'\n   * @param options.phoneNumber - (OOB only) Phone number in E.164 format (e.g., +1234567890)\n   * @param options.email - (Email only) Email address (optional, uses user's email if not provided)\n   * @returns Promise resolving to enrollment response with authenticator details\n   * @throws {MfaEnrollmentError} When enrollment fails (e.g., invalid parameters, network error)\n   *\n   * @example\n   * ```typescript\n   * // Enroll OTP authenticator (Google Authenticator, etc.)\n   * const otpEnrollment = await authClient.mfa.enrollAuthenticator({\n   *   authenticatorTypes: ['otp'],\n   *   mfaToken: 'your_mfa_token_here'\n   * });\n   * // otpEnrollment.secret - Base32-encoded secret for TOTP\n   * // otpEnrollment.barcodeUri - URI for generating QR code\n   *\n   * // Enroll SMS authenticator\n   * const smsEnrollment = await authClient.mfa.enrollAuthenticator({\n   *   authenticatorTypes: ['oob'],\n   *   oobChannels: ['sms'],\n   *   phoneNumber: '+1234567890',\n   *   mfaToken: 'your_mfa_token_here'\n   * });\n   * ```\n   */\n  async enrollAuthenticator(options: EnrollAuthenticatorOptions): Promise<EnrollmentResponse> {\n    const url = `${this.#baseUrl}/mfa/associate`;\n    const { mfaToken, ...sdkParams } = options;\n\n    // Transform camelCase SDK params to snake_case for API\n    const apiParams: Record<string, unknown> = {\n      authenticator_types: sdkParams.authenticatorTypes,\n    };\n\n    if ('oobChannels' in sdkParams) {\n      apiParams.oob_channels = sdkParams.oobChannels;\n    }\n\n    if ('phoneNumber' in sdkParams && sdkParams.phoneNumber) {\n      apiParams.phone_number = sdkParams.phoneNumber;\n    }\n\n    if ('email' in sdkParams && sdkParams.email) {\n      apiParams.email = sdkParams.email;\n    }\n\n    const response = await this.#customFetch(url, {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${mfaToken}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(apiParams),\n    });\n\n    if (!response.ok) {\n      const error = (await response.json()) as MfaApiErrorResponse;\n      throw new MfaEnrollmentError(\n        error.error_description || 'Failed to enroll authenticator',\n        error\n      );\n    }\n\n    const apiResponse = (await response.json()) as EnrollmentApiResponse;\n    return transformEnrollmentResponse(apiResponse);\n  }\n\n  /**\n   * Deletes an enrolled MFA authenticator.\n   *\n   * Removes a previously enrolled multi-factor authentication method from the user's account.\n   * The authenticator ID can be obtained from the listAuthenticators() method.\n   *\n   * @param options - Options for deleting an authenticator\n   * @param options.authenticatorId - ID of the authenticator to delete (e.g., 'totp|dev_abc123')\n   * @param options.mfaToken - MFA token obtained from an MFA challenge response\n   * @returns Promise that resolves when the authenticator is successfully deleted\n   * @throws {MfaDeleteAuthenticatorError} When deletion fails (e.g., invalid ID, network error)\n   *\n   * @example\n   * ```typescript\n   * // First, list authenticators to get the ID\n   * const authenticators = await authClient.mfa.listAuthenticators({\n   *   mfaToken: 'your_mfa_token_here'\n   * });\n   *\n   * // Delete a specific authenticator\n   * await authClient.mfa.deleteAuthenticator({\n   *   authenticatorId: authenticators[0].id,\n   *   mfaToken: 'your_mfa_token_here'\n   * });\n   * ```\n   */\n  async deleteAuthenticator(options: DeleteAuthenticatorOptions): Promise<void> {\n    const { authenticatorId, mfaToken } = options;\n    const url = `${this.#baseUrl}/mfa/authenticators/${encodeURIComponent(authenticatorId)}`;\n\n    const response = await this.#customFetch(url, {\n      method: 'DELETE',\n      headers: {\n        Authorization: `Bearer ${mfaToken}`,\n        'Content-Type': 'application/json',\n      },\n    });\n\n    if (!response.ok) {\n      const error = (await response.json()) as MfaApiErrorResponse;\n      throw new MfaDeleteAuthenticatorError(\n        error.error_description || 'Failed to delete authenticator',\n        error\n      );\n    }\n  }\n\n  /**\n   * Initiates an MFA challenge for user verification.\n   *\n   * Creates a challenge that the user must complete to verify their identity using\n   * one of their enrolled MFA factors. For OTP challenges, the user enters a code\n   * from their authenticator app. For OOB (out-of-band) challenges like SMS, a code\n   * is sent to the user's device.\n   *\n   * @param options - Challenge options\n   * @param options.mfaToken - MFA token obtained from an MFA challenge response\n   * @param options.challengeType - Type of challenge: 'otp' for TOTP apps, 'oob' for SMS/voice/push\n   * @param options.authenticatorId - (Optional) Specific authenticator to challenge\n   * @returns Promise resolving to challenge response with challenge details\n   * @throws {MfaChallengeError} When the challenge fails (e.g., invalid parameters, network error)\n   *\n   * @example\n   * ```typescript\n   * // Challenge with OTP (user enters code from their app)\n   * const otpChallenge = await authClient.mfa.challengeAuthenticator({\n   *   challengeType: 'otp',\n   *   mfaToken: 'your_mfa_token_here'\n   * });\n   *\n   * // Challenge with SMS (code sent to user's phone)\n   * const smsChallenge = await authClient.mfa.challengeAuthenticator({\n   *   challengeType: 'oob',\n   *   authenticatorId: 'sms|dev_abc123',\n   *   mfaToken: 'your_mfa_token_here'\n   * });\n   * // smsChallenge.oobCode - Out-of-band code for verification\n   * ```\n   */\n  async challengeAuthenticator(options: ChallengeOptions): Promise<ChallengeResponse> {\n    const url = `${this.#baseUrl}/mfa/challenge`;\n    const { mfaToken, ...challengeParams } = options;\n\n    const body: Record<string, string | undefined> = {\n      mfa_token: mfaToken,\n      client_id: this.#clientId,\n      challenge_type: challengeParams.challengeType,\n    };\n\n    if (challengeParams.authenticatorId) {\n      body.authenticator_id = challengeParams.authenticatorId;\n    }\n\n    const response = await this.#customFetch(url, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(body),\n    });\n\n    if (!response.ok) {\n      const error = (await response.json()) as MfaApiErrorResponse;\n      throw new MfaChallengeError(\n        error.error_description || 'Failed to challenge authenticator',\n        error\n      );\n    }\n\n    const apiResponse = (await response.json()) as ChallengeApiResponse;\n    return transformChallengeResponse(apiResponse);\n  }\n}\n","import {\n  IDToken,\n  TokenEndpointResponse,\n  TokenEndpointResponseHelpers,\n} from 'openid-client';\n\nexport interface AuthClientOptions {\n  /**\n   * The Auth0 domain to use for authentication.\n   * @example 'example.auth0.com' (without https://)\n   */\n  domain: string;\n  /**\n   * The client ID of the application.\n   */\n  clientId: string;\n  /**\n   * The client secret of the application.\n   */\n  clientSecret?: string;\n  /**\n   * The client assertion signing key to use.\n   */\n  clientAssertionSigningKey?: string | CryptoKey;\n  /**\n   * The client assertion signing algorithm to use.\n   */\n  clientAssertionSigningAlg?: string;\n  /**\n   * Authorization Parameters to be sent with the authorization request.\n   */\n  authorizationParams?: AuthorizationParameters;\n  /**\n   * Optional, custom Fetch implementation to use.\n   */\n  customFetch?: typeof fetch;\n\n  /**\n   * Indicates whether the SDK should use the mTLS endpoints if they are available.\n   *\n   * When set to `true`, using a `customFetch` is required.\n   */\n  useMtls?: boolean;\n}\n\nexport interface AuthorizationParameters {\n  /**\n   * The scope to use for the authentication request.\n   */\n  scope?: string;\n  /**\n   * The audience to use for the authentication request.\n   */\n  audience?: string;\n  /**\n   * The redirect URI to use for the authentication request, to which Auth0 will redirect the browser after the user has authenticated.\n   * @example 'https://example.com/callback'\n   */\n  redirect_uri?: string;\n\n  [key: string]: unknown;\n}\n\nexport interface BuildAuthorizationUrlOptions {\n  /**\n   * Indicates whether the authorization request should be done using a Pushed Authorization Request.\n   */\n  pushedAuthorizationRequests?: boolean;\n  /**\n   * Authorization Parameters to be sent with the authorization request.\n   */\n  authorizationParams?: AuthorizationParameters;\n}\n\nexport interface BuildAuthorizationUrlResult {\n  /**\n   * The URL to use to authenticate the user, including the query parameters.\n   * Redirect the user to this URL to authenticate.\n   * @example 'https://example.auth0.com/authorize?client_id=...&scope=...'\n   */\n  authorizationUrl: URL;\n  /**\n   * The code verifier that is used for the authorization request.\n   */\n  codeVerifier: string;\n}\n\nexport interface BuildLinkUserUrlOptions {\n  /**\n   * The connection for the user to link.\n   */\n  connection: string;\n  /**\n   * The scope for the connection.\n   */\n  connectionScope: string;\n  /**\n   * The id token of the user initiating the link.\n   */\n  idToken: string;\n  /**\n   * Additional authorization parameters to be sent with the link user request.\n   */\n  authorizationParams?: AuthorizationParameters;\n}\n\nexport interface BuildLinkUserUrlResult {\n  /**\n   * The URL to use to link the user, including the query parameters.\n   * Redirect the user to this URL to link the user.\n   * @example 'https://example.auth0.com/authorize?request_uri=urn:ietf:params:oauth:request_uri&client_id=...'\n   */\n  linkUserUrl: URL;\n  /**\n   * The code verifier that is used for the link user request.\n   */\n  codeVerifier: string;\n}\n\nexport interface BuildUnlinkUserUrlOptions {\n  /**\n   * The connection for the user to unlink.\n   */\n  connection: string;\n  /**\n   * The id token of the user initiating the unlink.\n   */\n  idToken: string;\n  /**\n   * Additional authorization parameters to be sent with the unlink user request.\n   */\n  authorizationParams?: AuthorizationParameters;\n}\n\nexport interface BuildUnlinkUserUrlResult {\n  /**\n   * The URL to use to unlink the user, including the query parameters.\n   * Redirect the user to this URL to unlink the user.\n   * @example 'https://example.auth0.com/authorize?request_uri=urn:ietf:params:oauth:request_uri&client_id=...'\n   */\n  unlinkUserUrl: URL;\n  /**\n   * The code verifier that is used for the unlink user request.\n   */\n  codeVerifier: string;\n}\n\nexport interface TokenByClientCredentialsOptions {\n  /**\n   * The audience for which the token should be requested.\n   */\n  audience: string;\n  /**\n   * The organization for which the token should be requested.\n   */\n  organization?: string;\n}\n\nexport interface TokenByRefreshTokenOptions {\n  /**\n   * The refresh token to use to get a token.\n   */\n  refreshToken: string;\n}\n\nexport interface TokenByCodeOptions {\n  /**\n   * The code verifier that is used for the authorization request.\n   */\n  codeVerifier: string;\n}\n\n/**\n * @deprecated Since v1.2.0. Use {@link TokenVaultExchangeOptions} with {@link AuthClient#exchangeToken}.\n * This interface remains for backward compatibility and is planned for removal in v2.0.\n */\nexport interface TokenForConnectionOptions {\n  /**\n   * The connection for which a token should be requested.\n   */\n  connection: string;\n  /**\n   * Login hint to inform which connection account to use, can be useful when multiple accounts for the connection exist for the same user.\n   */\n  loginHint?: string;\n  /**\n   * The refresh token to use to get an access token for the connection.\n   */\n  refreshToken?: string;\n  /**\n   * The access token to use to get an access token for the connection.\n   */\n  accessToken?: string;\n}\n\n/**\n * Configuration options for Token Exchange via Token Exchange Profile (RFC 8693).\n *\n * Token Exchange Profiles enable first-party on-behalf-of flows where you exchange\n * a custom token for Auth0 tokens targeting a different API, while preserving user identity.\n *\n * **Requirements:**\n * - Requires a confidential client (client_secret or client_assertion must be configured)\n * - Requires a Token Exchange Profile to be created in Auth0 via the Management API\n * - The subject_token_type must match a profile configured in your tenant\n * - Reserved namespaces are validated by the Auth0 platform; the SDK does not pre-validate\n * - The organization parameter is not supported during Early Access\n *\n * @see {@link https://auth0.com/docs/authenticate/custom-token-exchange Custom Token Exchange Documentation}\n * @see {@link https://auth0.com/docs/api/management/v2/token-exchange-profiles Token Exchange Profiles API}\n * @see {@link https://www.rfc-editor.org/rfc/rfc8693 RFC 8693: OAuth 2.0 Token Exchange}\n *\n * @example Basic usage\n * ```typescript\n * const response = await authClient.exchangeToken({\n *   subjectTokenType: 'urn:acme:custom-token',\n *   subjectToken: userProvidedToken,\n *   audience: 'https://api.example.com',\n *   scope: 'openid profile read:data'\n * });\n * ```\n *\n * @example With custom parameters for Action validation\n * ```typescript\n * const response = await authClient.exchangeToken({\n *   subjectTokenType: 'urn:acme:legacy-token',\n *   subjectToken: legacyToken,\n *   audience: 'https://api.example.com',\n *   scope: 'openid offline_access',\n *   extra: {\n *     device_id: 'device-12345',\n *     session_token: 'sess-abc'\n *   }\n * });\n * ```\n */\nexport interface ExchangeProfileOptions {\n  /**\n   * A URI that identifies the type of the subject token being exchanged.\n   * Must match a subject_token_type configured in a Token Exchange Profile.\n   *\n   * For custom token types, this must be a URI scoped under your own ownership.\n   *\n   * **Reserved namespaces** (validated by Auth0 platform):\n   * - http://auth0.com, https://auth0.com\n   * - http://okta.com, https://okta.com\n   * - urn:ietf, urn:auth0, urn:okta\n   *\n   * @example \"urn:acme:legacy-token\"\n   * @example \"http://acme.com/mcp-token\"\n   */\n  subjectTokenType: string;\n\n  /**\n   * The token to be exchanged.\n   */\n  subjectToken: string;\n\n  /**\n   * The unique identifier (audience) of the target API.\n   * Must match an API identifier configured in your Auth0 tenant.\n   *\n   * @example \"https://api.example.com\"\n   */\n  audience?: string;\n\n  /**\n   * Space-separated list of OAuth 2.0 scopes to request.\n   * Scopes must be allowed by the target API and token exchange profile configuration.\n   *\n   * @example \"openid profile email\"\n   * @example \"openid profile read:data write:data\"\n   */\n  scope?: string;\n\n  /**\n   * Type of token being requested (RFC 8693).\n   * Defaults to access_token if not specified.\n   *\n   * @see {@link https://datatracker.ietf.org/doc/html/rfc8693#section-2.1 RFC 8693 Section 2.1}\n   * @example \"urn:ietf:params:oauth:token-type:access_token\"\n   * @example \"urn:ietf:params:oauth:token-type:refresh_token\"\n   */\n  requestedTokenType?: string;\n\n  /**\n   * ID or name of the organization to use when authenticating a user.\n   * When provided, the user will be authenticated within the organization context,\n   * and the organization ID will be present in the access token payload.\n   * \n   * @see https://auth0.com/docs/manage-users/organizations\n   */\n  organization?: string;\n\n  /**\n   * Additional custom parameters accessible in Auth0 Actions via event.request.body.\n   *\n   * Use for context like device fingerprints, session IDs, or business metadata.\n   * Cannot override reserved OAuth parameters.\n   *\n   * Array values are limited to 20 items per key to prevent DoS attacks.\n   *\n   * **Security Warning**: Never include PII (Personally Identifiable Information),\n   * secrets, passwords, or sensitive data in extra parameters. These values may be\n   * logged by Auth0, stored in audit trails, or visible in network traces. Use only\n   * for non-sensitive metadata like device IDs, session identifiers, or request context.\n   *\n   * @example\n   * ```typescript\n   * {\n   *   device_fingerprint: 'a3d8f7b2c1e4...',\n   *   session_id: 'sess_abc123',\n   *   risk_score: '0.95'\n   * }\n   * ```\n   */\n  extra?: Record<string, string | string[]>;\n}\n\n/**\n * Configuration options for Access Token Exchange with Token Vault.\n *\n * Access Token Exchange with Token Vault enables secure access to third-party APIs (e.g., Google Calendar, Salesforce)\n * by exchanging an Auth0 token for an external provider's access token without the client handling\n * the external provider's refresh tokens.\n *\n * **Requirements:**\n * - Requires a confidential client (client credentials must be configured)\n * - Token Vault must be enabled for the specified connection\n * - The connection must support the requested token type\n *\n * @see {@link https://auth0.com/docs/secure/tokens/token-vault Token Vault Documentation}\n * @see {@link https://auth0.com/docs/secure/tokens/token-vault/configure-token-vault Configure Token Vault}\n *\n * @example Using an access token\n * ```typescript\n * const response = await authClient.exchangeToken({\n *   connection: 'google-oauth2',\n *   subjectToken: auth0AccessToken,\n *   subjectTokenType: 'urn:ietf:params:oauth:token-type:access_token',\n *   loginHint: 'user@example.com'\n * });\n * ```\n *\n * @example Using a refresh token\n * ```typescript\n * const response = await authClient.exchangeToken({\n *   connection: 'google-oauth2',\n *   subjectToken: auth0RefreshToken,\n *   subjectTokenType: 'urn:ietf:params:oauth:token-type:refresh_token'\n * });\n * ```\n */\nexport interface TokenVaultExchangeOptions {\n  /**\n   * The name of the connection configured in Auth0 with Token Vault enabled.\n   *\n   * @example \"google-oauth2\"\n   * @example \"salesforce\"\n   */\n  connection: string;\n\n  /**\n   * The Auth0 token to exchange (access token or refresh token).\n   */\n  subjectToken: string;\n\n  /**\n   * Type of the Auth0 token being exchanged.\n   *\n   * **Important**: Defaults to `urn:ietf:params:oauth:token-type:access_token` if not specified.\n   * If you're passing a refresh token, you MUST explicitly set this to\n   * `urn:ietf:params:oauth:token-type:refresh_token` to avoid token type mismatch errors.\n   *\n   * @default 'urn:ietf:params:oauth:token-type:access_token'\n   */\n  subjectTokenType?:\n    | 'urn:ietf:params:oauth:token-type:access_token'\n    | 'urn:ietf:params:oauth:token-type:refresh_token';\n\n  /**\n   * Type of token being requested from the external provider.\n   * Typically defaults to the external provider's access token type.\n   */\n  requestedTokenType?: string;\n\n  /**\n   * Hint about which external provider account to use.\n   * Useful when multiple accounts for the connection exist for the same user.\n   *\n   * @example \"user@example.com\"\n   * @example \"external_user_id_123\"\n   */\n  loginHint?: string;\n\n  /**\n   * Space-separated list of scopes to request from the external provider.\n   *\n   * @example \"https://www.googleapis.com/auth/calendar.readonly\"\n   */\n  scope?: string;\n\n  /**\n   * Additional custom parameters.\n   * Cannot override reserved OAuth parameters.\n   *\n   * Array values are limited to 20 items per key to prevent DoS attacks.\n   */\n  extra?: Record<string, string | string[]>;\n}\n\nexport interface BuildLogoutUrlOptions {\n  /**\n   * The URL to which the user should be redirected after the logout.\n   * @example 'https://example.com'\n   */\n  returnTo: string;\n}\n\nexport interface VerifyLogoutTokenOptions {\n  /**\n   * The logout token to verify.\n   */\n  logoutToken: string;\n}\n\nexport interface VerifyLogoutTokenResult {\n  /**\n   * The sid claim of the logout token.\n   */\n  sid: string;\n  /**\n   * The sub claim of the logout token.\n   */\n  sub: string;\n}\n\nexport interface AuthorizationDetails {\n  readonly type: string;\n  readonly [parameter: string]: unknown;\n}\n\n/**\n * Represents a successful token response from Auth0.\n *\n * Contains all tokens and metadata returned from Auth0 token endpoints,\n * including standard OAuth 2.0 tokens and optional OIDC tokens.\n */\nexport class TokenResponse {\n  /**\n   * The access token retrieved from Auth0.\n   */\n  accessToken: string;\n  /**\n   * The id token retrieved from Auth0.\n   */\n  idToken?: string;\n  /**\n   * The refresh token retrieved from Auth0.\n   */\n  refreshToken?: string;\n  /**\n   * The time at which the access token expires (Unix timestamp in seconds).\n   */\n  expiresAt: number;\n  /**\n   * The scope of the access token.\n   */\n  scope?: string;\n  /**\n   * The claims of the id token.\n   */\n  claims?: IDToken;\n  /**\n   * The authorization details of the token response.\n   */\n  authorizationDetails?: AuthorizationDetails[];\n\n  /**\n   * The type of the token (typically \"Bearer\").\n   */\n  tokenType?: string;\n\n  /**\n   * A URI that identifies the type of the issued token (RFC 8693).\n   *\n   * @see {@link https://datatracker.ietf.org/doc/html/rfc8693#section-3 RFC 8693 Section 3}\n   * @example \"urn:ietf:params:oauth:token-type:access_token\"\n   */\n  issuedTokenType?: string;\n\n  constructor(\n    accessToken: string,\n    expiresAt: number,\n    idToken?: string,\n    refreshToken?: string,\n    scope?: string,\n    claims?: IDToken,\n    authorizationDetails?: AuthorizationDetails[]\n  ) {\n    this.accessToken = accessToken;\n    this.idToken = idToken;\n    this.refreshToken = refreshToken;\n    this.expiresAt = expiresAt;\n    this.scope = scope;\n    this.claims = claims;\n    this.authorizationDetails = authorizationDetails;\n  }\n\n  /**\n   * Create a TokenResponse from a TokenEndpointResponse (openid-client).\n   *\n   * Populates all standard OAuth 2.0 token response fields plus RFC 8693 extensions.\n   * Safely handles responses that may not include all optional fields (e.g., ID token,\n   * refresh token, issued_token_type).\n   *\n   * @param response The TokenEndpointResponse from the token endpoint.\n   * @returns A TokenResponse instance with all available token data.\n   */\n  static fromTokenEndpointResponse(\n    response: TokenEndpointResponse & TokenEndpointResponseHelpers\n  ): TokenResponse {\n    const claims = response.id_token ? response.claims() : undefined;\n\n    const tokenResponse = new TokenResponse(\n      response.access_token,\n      Math.floor(Date.now() / 1000) + Number(response.expires_in),\n      response.id_token,\n      response.refresh_token,\n      response.scope,\n      claims,\n      response.authorization_details\n    );\n\n    tokenResponse.tokenType = response.token_type;\n    tokenResponse.issuedTokenType = (\n      response as typeof response & { issued_token_type?: string }\n    ).issued_token_type;\n\n    return tokenResponse;\n  }\n}\n\nexport interface BackchannelAuthenticationOptions {\n  /**\n   * Human-readable message to be displayed at the consumption device and authentication device.\n   * This allows the user to ensure the transaction initiated by the consumption device is the same that triggers the action on the authentication device.\n   */\n  bindingMessage: string;\n  /**\n   * The login hint to inform which user to use.\n   */\n  loginHint: {\n    /**\n     * The `sub` claim of the user that is trying to login using Client-Initiated Backchannel Authentication, and to which a push notification to authorize the login will be sent.\n     */\n    sub: string;\n  };\n  /**\n   * Set a custom expiry time for the CIBA flow in seconds. Defaults to 300 seconds (5 minutes) if not set.\n   */\n  requestedExpiry?: number;\n  /**\n   * Optional authorization details to use Rich Authorization Requests (RAR).\n   * @see https://auth0.com/docs/get-started/apis/configure-rich-authorization-requests\n   */\n  authorizationDetails?: AuthorizationDetails[];\n  /**\n   * Authorization Parameters to be sent with the authorization request.\n   */\n  authorizationParams?: AuthorizationParameters;\n}\n","import * as client from 'openid-client';\nimport { createRemoteJWKSet, importPKCS8, jwtVerify, customFetch } from 'jose';\nimport {\n  BackchannelAuthenticationError,\n  BuildAuthorizationUrlError,\n  BuildLinkUserUrlError,\n  BuildUnlinkUserUrlError,\n  TokenExchangeError,\n  MissingClientAuthError,\n  NotSupportedError,\n  NotSupportedErrorCode,\n  OAuth2Error,\n  TokenByClientCredentialsError,\n  TokenByCodeError,\n  TokenByRefreshTokenError,\n  TokenForConnectionError,\n  VerifyLogoutTokenError,\n} from './errors.js';\nimport { stripUndefinedProperties } from './utils.js';\nimport { MfaClient } from './mfa/mfa-client.js';\nimport {\n  AuthClientOptions,\n  BackchannelAuthenticationOptions,\n  BuildAuthorizationUrlOptions,\n  BuildAuthorizationUrlResult,\n  BuildLinkUserUrlOptions,\n  BuildLinkUserUrlResult,\n  BuildLogoutUrlOptions,\n  BuildUnlinkUserUrlOptions,\n  BuildUnlinkUserUrlResult,\n  ExchangeProfileOptions,\n  TokenVaultExchangeOptions,\n  TokenByClientCredentialsOptions,\n  TokenByCodeOptions,\n  TokenByRefreshTokenOptions,\n  TokenForConnectionOptions,\n  TokenResponse,\n  VerifyLogoutTokenOptions,\n  VerifyLogoutTokenResult,\n} from './types.js';\n\nconst DEFAULT_SCOPES = 'openid profile email offline_access';\n\n/**\n * Maximum number of values allowed per parameter key in extras.\n *\n * This limit prevents potential DoS attacks from maliciously large arrays and ensures\n * reasonable payload sizes. If you have a legitimate use case requiring more than 20\n * values for a single parameter, consider:\n * - Aggregating the data into a single structured value (e.g., JSON string)\n * - Splitting the request across multiple token exchanges\n * - Using a different parameter design that doesn't require arrays\n *\n * This limit is not currently configurable. If you need a higher limit, please open\n * an issue describing your use case.\n */\nconst MAX_ARRAY_VALUES_PER_KEY = 20;\n\n/**\n * OAuth parameter denylist - parameters that cannot be overridden via extras.\n *\n * These parameters are denied to prevent security issues and maintain API contract clarity:\n *\n * - grant_type: Core protocol parameter, modifying breaks OAuth flow integrity\n * - client_id, client_secret, client_assertion, client_assertion_type: Client authentication\n *   credentials must be managed through configuration, not request parameters\n * - subject_token, subject_token_type: Core token exchange parameters, overriding creates\n *   ambiguity about which token is being exchanged\n * - requested_token_type: Determines the type of token returned, must be explicit\n * - actor_token, actor_token_type: Delegation parameters that affect authorization context\n * - audience, aud, resource, resources, resource_indicator: Target API parameters must use\n *   explicit API parameters to prevent confusion about precedence and ensure correct routing\n * - scope: Overriding via extras bypasses the explicit scope parameter and creates ambiguity\n *   about which scope takes precedence, potentially granting unintended permissions\n * - connection: Determines token source for Token Vault, must be explicit\n * - login_hint: Affects user identity resolution, must be explicit\n * - organization: Affects tenant context, must be explicit\n * - assertion: SAML assertion parameter, must be managed separately\n *\n * These restrictions ensure that security-critical and routing parameters are always\n * set through explicit, typed API parameters rather than untyped extras.\n */\nconst PARAM_DENYLIST = Object.freeze(\n  new Set([\n    'grant_type',\n    'client_id',\n    'client_secret',\n    'client_assertion',\n    'client_assertion_type',\n    'subject_token',\n    'subject_token_type',\n    'requested_token_type',\n    'actor_token',\n    'actor_token_type',\n    'audience',\n    'aud',\n    'resource',\n    'resources',\n    'resource_indicator',\n    'scope',\n    'connection',\n    'login_hint',\n    'organization',\n    'assertion',\n  ])\n);\n\n/**\n * Validates subject token input to fail fast with clear error messages.\n * Detects common footguns like whitespace, Bearer prefix, and empty values.\n */\nfunction validateSubjectToken(token: string): void {\n  if (token == null) {\n    throw new TokenExchangeError('subject_token is required');\n  }\n  if (typeof token !== 'string') {\n    throw new TokenExchangeError('subject_token must be a string');\n  }\n  // Fail fast on blank or whitespace-only\n  if (token.trim().length === 0) {\n    throw new TokenExchangeError('subject_token cannot be blank or whitespace');\n  }\n  // Be explicit about surrounding spaces\n  if (token !== token.trim()) {\n    throw new TokenExchangeError(\n      'subject_token must not include leading or trailing whitespace'\n    );\n  }\n  // Very common copy paste mistake (case-insensitive check)\n  if (/^bearer\\s+/i.test(token)) {\n    throw new TokenExchangeError(\n      \"subject_token must not include the 'Bearer ' prefix\"\n    );\n  }\n}\n\n/**\n * Appends extra parameters to URLSearchParams while enforcing security constraints.\n */\nfunction appendExtraParams(\n  params: URLSearchParams,\n  extra?: Record<string, string | string[]>\n): void {\n  if (!extra) return;\n\n  for (const [parameterKey, parameterValue] of Object.entries(extra)) {\n    if (PARAM_DENYLIST.has(parameterKey)) continue;\n\n    if (Array.isArray(parameterValue)) {\n      if (parameterValue.length > MAX_ARRAY_VALUES_PER_KEY) {\n        throw new TokenExchangeError(\n          `Parameter '${parameterKey}' exceeds maximum array size of ${MAX_ARRAY_VALUES_PER_KEY}`\n        );\n      }\n      parameterValue.forEach((arrayItem) => {\n        params.append(parameterKey, arrayItem);\n      });\n    } else {\n      params.append(parameterKey, parameterValue);\n    }\n  }\n}\n\n/**\n * A constant representing the grant type for federated connection access token exchange.\n *\n * This grant type is used in OAuth token exchange scenarios where a federated connection\n * access token is required. It is specific to Auth0's implementation and follows the\n * \"urn:auth0:params:oauth:grant-type:token-exchange:federated-connection-access-token\" format.\n */\nconst GRANT_TYPE_FEDERATED_CONNECTION_ACCESS_TOKEN =\n  'urn:auth0:params:oauth:grant-type:token-exchange:federated-connection-access-token' as const;\n\n/**\n * RFC 8693 grant type for OAuth 2.0 Token Exchange.\n *\n * @see {@link https://datatracker.ietf.org/doc/html/rfc8693 RFC 8693: OAuth 2.0 Token Exchange}\n */\nconst TOKEN_EXCHANGE_GRANT_TYPE = 'urn:ietf:params:oauth:grant-type:token-exchange' as const;\n\n/**\n * Constant representing the subject type for a refresh token.\n * This is used in OAuth 2.0 token exchange to specify that the token being exchanged is a refresh token.\n *\n * @see {@link https://tools.ietf.org/html/rfc8693#section-3.1 RFC 8693 Section 3.1}\n */\nconst SUBJECT_TYPE_REFRESH_TOKEN =\n  'urn:ietf:params:oauth:token-type:refresh_token';\n\n/**\n * Constant representing the subject type for an access token.\n * This is used in OAuth 2.0 token exchange to specify that the token being exchanged is an access token.\n *\n * @see {@link https://tools.ietf.org/html/rfc8693#section-3.1 RFC 8693 Section 3.1}\n */\nconst SUBJECT_TYPE_ACCESS_TOKEN =\n  'urn:ietf:params:oauth:token-type:access_token';\n\n/**\n * A constant representing the token type for federated connection access tokens.\n * This is used to specify the type of token being requested from Auth0.\n *\n * @constant\n * @type {string}\n */\nconst REQUESTED_TOKEN_TYPE_FEDERATED_CONNECTION_ACCESS_TOKEN =\n  'http://auth0.com/oauth/token-type/federated-connection-access-token';\n\n/**\n * Auth0 authentication client for handling OAuth 2.0 and OIDC flows.\n *\n * Provides methods for authorization, token exchange, token refresh, and verification\n * of tokens issued by Auth0. Supports multiple authentication methods including\n * client_secret_post, private_key_jwt, and mTLS.\n */\nexport class AuthClient {\n  #configuration: client.Configuration | undefined;\n  #serverMetadata: client.ServerMetadata | undefined;\n  readonly #options: AuthClientOptions;\n  #jwks?: ReturnType<typeof createRemoteJWKSet>;\n  public mfa: MfaClient;\n\n  constructor(options: AuthClientOptions) {\n    this.#options = options;\n\n    // When mTLS is being used, a custom fetch implementation is required.\n    if (options.useMtls && !options.customFetch) {\n      throw new NotSupportedError(\n        NotSupportedErrorCode.MTLS_WITHOUT_CUSTOMFETCH_NOT_SUPPORT,\n        'Using mTLS without a custom fetch implementation is not supported'\n      );\n    }\n    this.mfa = new MfaClient({\n      domain: this.#options.domain,\n      clientId: this.#options.clientId,\n      customFetch: this.#options.customFetch,\n    });\n  }\n\n  /**\n   * Initializes the SDK by performing Metadata Discovery.\n   *\n   * Discovers and caches the OAuth 2.0 Authorization Server metadata from the\n   * Auth0 tenant's well-known endpoint. This metadata is required for subsequent\n   * operations and is cached for the lifetime of the AuthClient instance.\n   *\n   * @private\n   * @returns Promise resolving to the cached configuration and server metadata\n   */\n  async #discover() {\n    if (this.#configuration && this.#serverMetadata) {\n      return {\n        configuration: this.#configuration,\n        serverMetadata: this.#serverMetadata,\n      };\n    }\n\n    const clientAuth = await this.#getClientAuth();\n\n    this.#configuration = await client.discovery(\n      new URL(`https://${this.#options.domain}`),\n      this.#options.clientId,\n      { use_mtls_endpoint_aliases: this.#options.useMtls },\n      clientAuth,\n      {\n        [client.customFetch]: this.#options.customFetch,     \n      }\n    );\n\n    this.#serverMetadata = this.#configuration.serverMetadata();\n    this.#configuration[client.customFetch] =\n      this.#options.customFetch || fetch;\n\n    return {\n      configuration: this.#configuration,\n      serverMetadata: this.#serverMetadata,\n    };\n  }\n\n  /**\n   * Builds the URL to redirect the user-agent to to request authorization at Auth0.\n   * @param options Options used to configure the authorization URL.\n   *\n   * @throws {BuildAuthorizationUrlError} If there was an issue when building the Authorization URL.\n   *\n   * @returns A promise resolving to an object, containing the authorizationUrl and codeVerifier.\n   */\n  async buildAuthorizationUrl(\n    options?: BuildAuthorizationUrlOptions\n  ): Promise<BuildAuthorizationUrlResult> {\n    const { serverMetadata } = await this.#discover();\n\n    if (\n      options?.pushedAuthorizationRequests &&\n      !serverMetadata.pushed_authorization_request_endpoint\n    ) {\n      throw new NotSupportedError(\n        NotSupportedErrorCode.PAR_NOT_SUPPORTED,\n        'The Auth0 tenant does not have pushed authorization requests enabled. Learn how to enable it here: https://auth0.com/docs/get-started/applications/configure-par'\n      );\n    }\n\n    try {\n      return await this.#buildAuthorizationUrl(options);\n    } catch (e) {\n      throw new BuildAuthorizationUrlError(e as OAuth2Error);\n    }\n  }\n\n  /**\n   * Builds the URL to redirect the user-agent to to link a user account at Auth0.\n   * @param options Options used to configure the link user URL.\n   *\n   * @throws {BuildLinkUserUrlError} If there was an issue when building the Link User URL.\n   *\n   * @returns A promise resolving to an object, containing the linkUserUrl and codeVerifier.\n   */\n  public async buildLinkUserUrl(\n    options: BuildLinkUserUrlOptions\n  ): Promise<BuildLinkUserUrlResult> {\n    try {\n      const result = await this.#buildAuthorizationUrl({\n        authorizationParams: {\n          ...options.authorizationParams,\n          requested_connection: options.connection,\n          requested_connection_scope: options.connectionScope,\n          scope: 'openid link_account offline_access',\n          id_token_hint: options.idToken,\n        },\n      });\n\n      return {\n        linkUserUrl: result.authorizationUrl,\n        codeVerifier: result.codeVerifier,\n      };\n    } catch (e) {\n      throw new BuildLinkUserUrlError(e as OAuth2Error);\n    }\n  }\n\n  /**\n   * Builds the URL to redirect the user-agent to to unlink a user account at Auth0.\n   * @param options Options used to configure the unlink user URL.\n   *\n   * @throws {BuildUnlinkUserUrlError} If there was an issue when building the Unlink User URL.\n   *\n   * @returns A promise resolving to an object, containing the unlinkUserUrl and codeVerifier.\n   */\n  public async buildUnlinkUserUrl(\n    options: BuildUnlinkUserUrlOptions\n  ): Promise<BuildUnlinkUserUrlResult> {\n    try {\n      const result = await this.#buildAuthorizationUrl({\n        authorizationParams: {\n          ...options.authorizationParams,\n          requested_connection: options.connection,\n          scope: 'openid unlink_account',\n          id_token_hint: options.idToken,\n        },\n      });\n\n      return {\n        unlinkUserUrl: result.authorizationUrl,\n        codeVerifier: result.codeVerifier,\n      };\n    } catch (e) {\n      throw new BuildUnlinkUserUrlError(e as OAuth2Error);\n    }\n  }\n\n  /**\n   * Authenticates using Client-Initiated Backchannel Authentication.\n   *\n   * This method will initialize the backchannel authentication process with Auth0, and poll the token endpoint until the authentication is complete.\n   *\n   * Using Client-Initiated Backchannel Authentication requires the feature to be enabled in the Auth0 dashboard.\n   * @see https://auth0.com/docs/get-started/authentication-and-authorization-flow/client-initiated-backchannel-authentication-flow\n   * @param options Options used to configure the backchannel authentication process.\n   *\n   * @throws {BackchannelAuthenticationError} If there was an issue when doing backchannel authentication.\n   *\n   * @returns A Promise, resolving to the TokenResponse as returned from Auth0.\n   */\n  async backchannelAuthentication(\n    options: BackchannelAuthenticationOptions\n  ): Promise<TokenResponse> {\n    const { configuration, serverMetadata } = await this.#discover();\n\n    const additionalParams = stripUndefinedProperties({\n      ...this.#options.authorizationParams,\n      ...options?.authorizationParams,\n    });\n\n    const params = new URLSearchParams({\n      scope: DEFAULT_SCOPES,\n      ...additionalParams,\n      client_id: this.#options.clientId,\n      binding_message: options.bindingMessage,\n      login_hint: JSON.stringify({\n        format: 'iss_sub',\n        iss: serverMetadata.issuer,\n        sub: options.loginHint.sub,\n      }),\n    });\n\n    if (options.requestedExpiry) {\n      params.append('requested_expiry', options.requestedExpiry.toString());\n    }\n\n    if (options.authorizationDetails) {\n      params.append(\n        'authorization_details',\n        JSON.stringify(options.authorizationDetails)\n      );\n    }\n\n    try {\n      const backchannelAuthenticationResponse =\n        await client.initiateBackchannelAuthentication(configuration, params);\n\n      const tokenEndpointResponse =\n        await client.pollBackchannelAuthenticationGrant(\n          configuration,\n          backchannelAuthenticationResponse\n        );\n\n      return TokenResponse.fromTokenEndpointResponse(tokenEndpointResponse);\n    } catch (e) {\n      throw new BackchannelAuthenticationError(e as OAuth2Error);\n    }\n  }\n\n  /**\n   * Initiates Client-Initiated Backchannel Authentication flow by calling the `/bc-authorize` endpoint.\n   * This method only initiates the authentication request and returns the `auth_req_id` to be used in subsequent calls to `backchannelAuthenticationGrant`.\n   * \n   * Typically, you would call this method to start the authentication process, then use the returned `auth_req_id` to poll for the token using `backchannelAuthenticationGrant`.\n   * \n   * @param options Options used to configure the backchannel authentication initiation.\n   * \n   * @throws {BackchannelAuthenticationError} If there was an issue when initiating backchannel authentication.\n   * \n   * @returns An object containing `authReqId`, `expiresIn`, and `interval` for polling.\n   */\n  async initiateBackchannelAuthentication(options: BackchannelAuthenticationOptions) {\n    const { configuration, serverMetadata } = await this.#discover();\n\n    const additionalParams = stripUndefinedProperties({\n      ...this.#options.authorizationParams,\n      ...options?.authorizationParams,\n    });\n\n    const params = new URLSearchParams({\n      scope: DEFAULT_SCOPES,\n      ...additionalParams,\n      client_id: this.#options.clientId,\n      binding_message: options.bindingMessage,\n      login_hint: JSON.stringify({\n        format: 'iss_sub',\n        iss: serverMetadata.issuer,\n        sub: options.loginHint.sub,\n      }),\n    });\n\n    if (options.requestedExpiry) {\n      params.append('requested_expiry', options.requestedExpiry.toString());\n    }\n\n    if (options.authorizationDetails) {\n      params.append(\n        'authorization_details',\n        JSON.stringify(options.authorizationDetails)\n      );\n    }\n\n    try {\n      const backchannelAuthenticationResponse =\n        await client.initiateBackchannelAuthentication(configuration, params);\n\n      return {\n        authReqId: backchannelAuthenticationResponse.auth_req_id,\n        expiresIn: backchannelAuthenticationResponse.expires_in,\n        interval: backchannelAuthenticationResponse.interval,\n      };\n    } catch (e) {\n      throw new BackchannelAuthenticationError(e as OAuth2Error);\n    }\n  }\n\n  /**\n   * Exchanges the `auth_req_id` obtained from `initiateBackchannelAuthentication` for tokens.\n   * \n   * @param authReqId The `auth_req_id` obtained from `initiateBackchannelAuthentication`.\n   * \n   * @throws {BackchannelAuthenticationError} If there was an issue when exchanging the `auth_req_id` for tokens.\n   * \n   * @returns A Promise, resolving to the TokenResponse as returned from Auth0.\n   */\n  async backchannelAuthenticationGrant({ authReqId }: { authReqId: string }) {\n    const { configuration } = await this.#discover();\n    const params = new URLSearchParams({\n      auth_req_id: authReqId,\n    });\n\n    try {\n      const tokenEndpointResponse = await client.genericGrantRequest(\n        configuration,\n        'urn:openid:params:grant-type:ciba',\n        params\n      );\n\n      return TokenResponse.fromTokenEndpointResponse(tokenEndpointResponse);\n    } catch (e) {\n      throw new BackchannelAuthenticationError(e as OAuth2Error);\n    }\n  }\n\n  /**\n   * Retrieves a token for a connection using Token Vault.\n   *\n   * @deprecated Since v1.2.0. Use {@link exchangeToken} with a Token Vault payload:\n   *   `exchangeToken({ connection, subjectToken, subjectTokenType, loginHint?, scope?, extra? })`.\n   * This method remains for backward compatibility and is planned for removal in v2.0.\n   *\n   * This is a convenience wrapper around exchangeToken() for Token Vault scenarios,\n   * providing a simpler API for the common use case of exchanging Auth0 tokens for\n   * federated access tokens.\n   *\n   * Either a refresh token or access token must be provided, but not both. The method\n   * automatically determines the correct subject_token_type based on which token is provided.\n   *\n   * @param options Options for retrieving an access token for a connection.\n   *\n   * @throws {TokenForConnectionError} If there was an issue requesting the access token,\n   *                                    or if both/neither token types are provided.\n   *\n   * @returns The access token for the connection\n   *\n   * @see {@link exchangeToken} for the unified token exchange method with more options\n   *\n   * @example Using an access token (deprecated, use exchangeToken instead)\n   * ```typescript\n   * const response = await authClient.getTokenForConnection({\n   *   connection: 'google-oauth2',\n   *   accessToken: auth0AccessToken,\n   *   loginHint: 'user@example.com'\n   * });\n   * ```\n   *\n   * @example Using a refresh token (deprecated, use exchangeToken instead)\n   * ```typescript\n   * const response = await authClient.getTokenForConnection({\n   *   connection: 'salesforce',\n   *   refreshToken: auth0RefreshToken\n   * });\n   * ```\n   */\n  public async getTokenForConnection(\n    options: TokenForConnectionOptions\n  ): Promise<TokenResponse> {\n    if (options.refreshToken && options.accessToken) {\n      throw new TokenForConnectionError(\n        'Either a refresh or access token should be specified, but not both.'\n      );\n    }\n\n    const subjectTokenValue = options.accessToken ?? options.refreshToken;\n    if (!subjectTokenValue) {\n      throw new TokenForConnectionError(\n        'Either a refresh or access token must be specified.'\n      );\n    }\n\n    try {\n      return await this.exchangeToken({\n        connection: options.connection,\n        subjectToken: subjectTokenValue,\n        subjectTokenType: options.accessToken\n          ? SUBJECT_TYPE_ACCESS_TOKEN\n          : SUBJECT_TYPE_REFRESH_TOKEN,\n        loginHint: options.loginHint,\n      } as TokenVaultExchangeOptions);\n    } catch (e) {\n      // Wrap TokenExchangeError in TokenForConnectionError for backward compatibility\n      if (e instanceof TokenExchangeError) {\n        throw new TokenForConnectionError(e.message, e.cause);\n      }\n      throw e;\n    }\n  }\n\n  /**\n   * Internal implementation for Access Token Exchange with Token Vault.\n   *\n   * Exchanges an Auth0 token (access token or refresh token) for an external provider's access token\n   * from a third-party provider configured in Token Vault. The external provider's refresh token\n   * is securely stored in Auth0 and never exposed to the client.\n   *\n   * This method constructs the appropriate request for Auth0's proprietary Token Vault\n   * grant type and handles the exchange with proper validation and error handling.\n   *\n   * @private\n   * @param options Access Token Exchange with Token Vault configuration including connection and optional hints\n   * @returns Promise resolving to TokenResponse containing the external provider's access token\n   * @throws {TokenExchangeError} When validation fails, audience/resource are provided,\n   *                               or the exchange operation fails\n   */\n  async #exchangeTokenVaultToken(\n    options: TokenVaultExchangeOptions\n  ): Promise<TokenResponse> {\n    const { configuration } = await this.#discover();\n\n    if ('audience' in options || 'resource' in options) {\n      throw new TokenExchangeError(\n        'audience and resource parameters are not supported for Token Vault exchanges'\n      );\n    }\n\n    validateSubjectToken(options.subjectToken);\n\n    const tokenRequestParams = new URLSearchParams({\n      connection: options.connection,\n      subject_token: options.subjectToken,\n      subject_token_type:\n        options.subjectTokenType ?? SUBJECT_TYPE_ACCESS_TOKEN,\n      requested_token_type:\n        options.requestedTokenType ??\n        REQUESTED_TOKEN_TYPE_FEDERATED_CONNECTION_ACCESS_TOKEN,\n    });\n\n    if (options.loginHint) {\n      tokenRequestParams.append('login_hint', options.loginHint);\n    }\n    if (options.scope) {\n      tokenRequestParams.append('scope', options.scope);\n    }\n\n    appendExtraParams(tokenRequestParams, options.extra);\n\n    try {\n      const tokenEndpointResponse = await client.genericGrantRequest(\n        configuration,\n        GRANT_TYPE_FEDERATED_CONNECTION_ACCESS_TOKEN,\n        tokenRequestParams\n      );\n\n      return TokenResponse.fromTokenEndpointResponse(tokenEndpointResponse);\n    } catch (e) {\n      throw new TokenExchangeError(\n        `Failed to exchange token for connection '${options.connection}'.`,\n        e as OAuth2Error\n      );\n    }\n  }\n\n  /**\n   * Internal implementation for Token Exchange via Token Exchange Profile (RFC 8693).\n   *\n   * Exchanges a custom token for Auth0 tokens targeting a specific API audience,\n   * preserving user identity. This enables first-party on-behalf-of flows where\n   * a custom token (e.g., from an MCP server, legacy system, or partner service)\n   * is exchanged for Auth0 tokens.\n   *\n   * Requires a Token Exchange Profile configured in Auth0 that defines the\n   * subject_token_type, validation logic, and user mapping.\n   *\n   * @private\n   * @param options Token Exchange Profile configuration including token type and target API\n   * @returns Promise resolving to TokenResponse containing Auth0 tokens\n   * @throws {TokenExchangeError} When validation fails or the exchange operation fails\n   */\n  async #exchangeProfileToken(\n    options: ExchangeProfileOptions\n  ): Promise<TokenResponse> {\n    const { configuration } = await this.#discover();\n\n    validateSubjectToken(options.subjectToken);\n\n    const tokenRequestParams = new URLSearchParams({\n      subject_token_type: options.subjectTokenType,\n      subject_token: options.subjectToken,\n    });\n\n    if (options.audience) {\n      tokenRequestParams.append('audience', options.audience);\n    }\n    if (options.scope) {\n      tokenRequestParams.append('scope', options.scope);\n    }\n    if (options.requestedTokenType) {\n      tokenRequestParams.append('requested_token_type', options.requestedTokenType);\n    }\n    if (options.organization) {\n      tokenRequestParams.append('organization', options.organization);\n    }\n\n    appendExtraParams(tokenRequestParams, options.extra);\n\n    try {\n      const tokenEndpointResponse = await client.genericGrantRequest(\n        configuration,\n        TOKEN_EXCHANGE_GRANT_TYPE,\n        tokenRequestParams\n      );\n\n      return TokenResponse.fromTokenEndpointResponse(tokenEndpointResponse);\n    } catch (e) {\n      throw new TokenExchangeError(\n        `Failed to exchange token of type '${options.subjectTokenType}'${options.audience ? ` for audience '${options.audience}'` : ''}.`,\n        e as OAuth2Error\n      );\n    }\n  }\n\n  /**\n   * @overload\n   * Exchanges a custom token for Auth0 tokens using RFC 8693 Token Exchange via Token Exchange Profile.\n   *\n   * This overload is used when you DON'T provide a `connection` parameter.\n   * It enables exchanging custom tokens (from MCP servers, legacy systems, or partner\n   * services) for Auth0 tokens targeting a specific API audience. Requires a Token\n   * Exchange Profile configured in Auth0.\n   *\n   * @param options Token Exchange Profile configuration (without `connection` parameter)\n   * @returns Promise resolving to TokenResponse with Auth0 tokens\n   * @throws {TokenExchangeError} When exchange fails or validation errors occur\n   * @throws {MissingClientAuthError} When client authentication is not configured\n   *\n   * @example\n   * ```typescript\n   * // Exchange custom token (organization is optional)\n   * const response = await authClient.exchangeToken({\n   *   subjectTokenType: 'urn:acme:mcp-token',\n   *   subjectToken: mcpServerToken,\n   *   audience: 'https://api.example.com',\n   *   organization: 'org_abc123', // Optional - Organization ID or name\n   *   scope: 'openid profile read:data'\n   * });\n   * // The resulting access token will include the organization ID in its payload\n   * ```\n   */\n  public exchangeToken(options: ExchangeProfileOptions): Promise<TokenResponse>;\n\n  /**\n   * @overload\n   * Exchanges an Auth0 token for an external provider's access token using Token Vault.\n   *\n   * This overload is used when you DO provide a `connection` parameter.\n   * It exchanges Auth0 tokens (access or refresh) for external provider's access tokens\n   * (Google, Facebook, etc.). The external provider's refresh token is securely stored in\n   * Auth0's Token Vault.\n   *\n   * @param options Token Vault exchange configuration (with `connection` parameter)\n   * @returns Promise resolving to TokenResponse with external provider's access token\n   * @throws {TokenExchangeError} When exchange fails or validation errors occur\n   * @throws {MissingClientAuthError} When client authentication is not configured\n   *\n   * @example\n   * ```typescript\n   * const response = await authClient.exchangeToken({\n   *   connection: 'google-oauth2',\n   *   subjectToken: auth0AccessToken,\n   *   loginHint: 'user@example.com'\n   * });\n   * ```\n   */\n  public exchangeToken(options: TokenVaultExchangeOptions): Promise<TokenResponse>;\n\n  /**\n   * Exchanges a token using either Token Exchange via Token Exchange Profile (RFC 8693) or Access Token Exchange with Token Vault.\n   *\n   * **Method routing is determined by the presence of the `connection` parameter:**\n   * - **Without `connection`**: Token Exchange via Token Exchange Profile (RFC 8693)\n   * - **With `connection`**: Access Token Exchange with Token Vault\n   *\n   * Both flows require a confidential client (client credentials must be configured).\n   *\n   * @see {@link ExchangeProfileOptions} for Token Exchange Profile parameters\n   * @see {@link TokenVaultExchangeOptions} for Token Vault parameters\n   * @see {@link https://auth0.com/docs/authenticate/custom-token-exchange Custom Token Exchange Docs}\n   * @see {@link https://auth0.com/docs/secure/tokens/token-vault Token Vault Docs}\n   *\n   * @example Token Exchange with validation context\n   * ```typescript\n   * const response = await authClient.exchangeToken({\n   *   subjectTokenType: 'urn:acme:legacy-token',\n   *   subjectToken: legacySystemToken,\n   *   audience: 'https://api.acme.com',\n   *   scope: 'openid offline_access',\n   *   extra: {\n   *     device_id: 'device-12345',\n   *     session_id: 'sess-abc',\n   *     migration_context: 'legacy-system-v1'\n   *   }\n   * });\n   * ```\n   */\n  public async exchangeToken(\n    options: ExchangeProfileOptions | TokenVaultExchangeOptions\n  ): Promise<TokenResponse> {\n    return 'connection' in options\n      ? this.#exchangeTokenVaultToken(options)\n      : this.#exchangeProfileToken(options);\n  }\n\n  /**\n   * Retrieves a token by exchanging an authorization code.\n   * @param url The URL containing the authorization code.\n   * @param options Options for exchanging the authorization code, containing the expected code verifier.\n   *\n   * @throws {TokenByCodeError} If there was an issue requesting the access token.\n   *\n   * @returns A Promise, resolving to the TokenResponse as returned from Auth0.\n   */\n  public async getTokenByCode(\n    url: URL,\n    options: TokenByCodeOptions\n  ): Promise<TokenResponse> {\n    const { configuration } = await this.#discover();\n    try {\n      const tokenEndpointResponse = await client.authorizationCodeGrant(\n        configuration,\n        url,\n        {\n          pkceCodeVerifier: options.codeVerifier,\n        }\n      );\n\n      return TokenResponse.fromTokenEndpointResponse(tokenEndpointResponse);\n    } catch (e) {\n      throw new TokenByCodeError(\n        'There was an error while trying to request a token.',\n        e as OAuth2Error\n      );\n    }\n  }\n\n  /**\n   * Retrieves a token by exchanging a refresh token.\n   * @param options Options for exchanging the refresh token.\n   *\n   * @throws {TokenByRefreshTokenError} If there was an issue requesting the access token.\n   *\n   * @returns A Promise, resolving to the TokenResponse as returned from Auth0.\n   */\n  public async getTokenByRefreshToken(options: TokenByRefreshTokenOptions) {\n    const { configuration } = await this.#discover();\n\n    try {\n      const tokenEndpointResponse = await client.refreshTokenGrant(\n        configuration,\n        options.refreshToken\n      );\n\n      return TokenResponse.fromTokenEndpointResponse(tokenEndpointResponse);\n    } catch (e) {\n      throw new TokenByRefreshTokenError(\n        'The access token has expired and there was an error while trying to refresh it.',\n        e as OAuth2Error\n      );\n    }\n  }\n\n  /**\n   * Retrieves a token by exchanging client credentials.\n   * @param options Options for retrieving the token.\n   *\n   * @throws {TokenByClientCredentialsError} If there was an issue requesting the access token.\n   *\n   * @returns A Promise, resolving to the TokenResponse as returned from Auth0.\n   */\n  public async getTokenByClientCredentials(\n    options: TokenByClientCredentialsOptions\n  ): Promise<TokenResponse> {\n    const { configuration } = await this.#discover();\n\n    try {\n      const params = new URLSearchParams({\n        audience: options.audience,\n      });\n\n      if (options.organization) {\n        params.append('organization', options.organization);\n      }\n\n      const tokenEndpointResponse = await client.clientCredentialsGrant(\n        configuration,\n        params\n      );\n\n      return TokenResponse.fromTokenEndpointResponse(tokenEndpointResponse);\n    } catch (e) {\n      throw new TokenByClientCredentialsError(\n        'There was an error while trying to request a token.',\n        e as OAuth2Error\n      );\n    }\n  }\n\n  /**\n   * Builds the URL to redirect the user-agent to to request logout at Auth0.\n   * @param options Options used to configure the logout URL.\n   * @returns A promise resolving to the URL to redirect the user-agent to.\n   */\n  public async buildLogoutUrl(options: BuildLogoutUrlOptions): Promise<URL> {\n    const { configuration, serverMetadata } = await this.#discover();\n\n    // We should not call `client.buildEndSessionUrl` when we do not have an `end_session_endpoint`\n    // In that case, we rely on the v2 logout endpoint.\n    // This can happen for tenants that do not have RP-Initiated Logout enabled.\n    if (!serverMetadata.end_session_endpoint) {\n      const url = new URL(`https://${this.#options.domain}/v2/logout`);\n      url.searchParams.set('returnTo', options.returnTo);\n      url.searchParams.set('client_id', this.#options.clientId);\n      return url;\n    }\n\n    return client.buildEndSessionUrl(configuration, {\n      post_logout_redirect_uri: options.returnTo,\n    });\n  }\n\n  /**\n   * Verifies whether a logout token is valid.\n   * @param options Options used to verify the logout token.\n   *\n   * @throws {VerifyLogoutTokenError} If there was an issue verifying the logout token.\n   *\n   * @returns An object containing the `sid` and `sub` claims from the logout token.\n   */\n  async verifyLogoutToken(\n    options: VerifyLogoutTokenOptions\n  ): Promise<VerifyLogoutTokenResult> {\n    const { serverMetadata } = await this.#discover();\n    this.#jwks ||= createRemoteJWKSet(new URL(serverMetadata!.jwks_uri!), {\n      [customFetch]: this.#options.customFetch,\n    });\n\n    const { payload } = await jwtVerify(options.logoutToken, this.#jwks, {\n      issuer: serverMetadata!.issuer,\n      audience: this.#options.clientId,\n      algorithms: ['RS256'],\n      requiredClaims: ['iat'],\n    });\n\n    if (!('sid' in payload) && !('sub' in payload)) {\n      throw new VerifyLogoutTokenError(\n        'either \"sid\" or \"sub\" (or both) claims must be present'\n      );\n    }\n\n    if ('sid' in payload && typeof payload.sid !== 'string') {\n      throw new VerifyLogoutTokenError('\"sid\" claim must be a string');\n    }\n\n    if ('sub' in payload && typeof payload.sub !== 'string') {\n      throw new VerifyLogoutTokenError('\"sub\" claim must be a string');\n    }\n\n    if ('nonce' in payload) {\n      throw new VerifyLogoutTokenError('\"nonce\" claim is prohibited');\n    }\n\n    if (!('events' in payload)) {\n      throw new VerifyLogoutTokenError('\"events\" claim is missing');\n    }\n\n    if (typeof payload.events !== 'object' || payload.events === null) {\n      throw new VerifyLogoutTokenError('\"events\" claim must be an object');\n    }\n\n    if (\n      !('http://schemas.openid.net/event/backchannel-logout' in payload.events)\n    ) {\n      throw new VerifyLogoutTokenError(\n        '\"http://schemas.openid.net/event/backchannel-logout\" member is missing in the \"events\" claim'\n      );\n    }\n\n    if (\n      typeof payload.events[\n        'http://schemas.openid.net/event/backchannel-logout'\n      ] !== 'object'\n    ) {\n      throw new VerifyLogoutTokenError(\n        '\"http://schemas.openid.net/event/backchannel-logout\" member in the \"events\" claim must be an object'\n      );\n    }\n\n    return {\n      sid: payload.sid as string,\n      sub: payload.sub as string,\n    };\n  }\n\n  /**\n   * Gets the client authentication method based on the provided options.\n   *\n   * Supports three authentication methods in order of preference:\n   * 1. mTLS (mutual TLS) - requires customFetch with client certificate\n   * 2. private_key_jwt - requires clientAssertionSigningKey\n   * 3. client_secret_post - requires clientSecret\n   *\n   * @private\n   * @returns The ClientAuth object to use for client authentication.\n   * @throws {MissingClientAuthError} When no valid authentication method is configured\n   */\n  async #getClientAuth(): Promise<client.ClientAuth> {\n    if (\n      !this.#options.clientSecret &&\n      !this.#options.clientAssertionSigningKey &&\n      !this.#options.useMtls\n    ) {\n      throw new MissingClientAuthError();\n    }\n\n    if (this.#options.useMtls) {\n      return client.TlsClientAuth();\n    }\n\n    let clientPrivateKey = this.#options.clientAssertionSigningKey as\n      | CryptoKey\n      | undefined;\n\n    if (clientPrivateKey && !(clientPrivateKey instanceof CryptoKey)) {\n      clientPrivateKey = await importPKCS8(\n        clientPrivateKey,\n        this.#options.clientAssertionSigningAlg || 'RS256'\n      );\n    }\n\n    return clientPrivateKey\n      ? client.PrivateKeyJwt(clientPrivateKey)\n      : client.ClientSecretPost(this.#options.clientSecret!);\n  }\n\n  /**\n   * Builds the URL to redirect the user-agent to to request authorization at Auth0.\n   * @param options Options used to configure the authorization URL.\n   * @returns A promise resolving to an object, containing the authorizationUrl and codeVerifier.\n   */\n  async #buildAuthorizationUrl(\n    options?: BuildAuthorizationUrlOptions\n  ): Promise<BuildAuthorizationUrlResult> {\n    const { configuration } = await this.#discover();\n\n    const codeChallengeMethod = 'S256';\n    const codeVerifier = client.randomPKCECodeVerifier();\n    const codeChallenge = await client.calculatePKCECodeChallenge(codeVerifier);\n\n    const additionalParams = stripUndefinedProperties({\n      ...this.#options.authorizationParams,\n      ...options?.authorizationParams,\n    });\n\n    const params = new URLSearchParams({\n      scope: DEFAULT_SCOPES,\n      ...additionalParams,\n      client_id: this.#options.clientId,\n      code_challenge: codeChallenge,\n      code_challenge_method: codeChallengeMethod,\n    });\n\n    const authorizationUrl = options?.pushedAuthorizationRequests\n      ? await client.buildAuthorizationUrlWithPAR(configuration, params)\n      : await client.buildAuthorizationUrl(configuration, params);\n\n    return {\n      authorizationUrl,\n      codeVerifier,\n    };\n  }\n}\n","import Lock from 'browser-tabs-lock';\n\nimport {\n  createQueryParams,\n  runPopup,\n  parseAuthenticationResult,\n  encode,\n  createRandomString,\n  runIframe,\n  sha256,\n  bufferToBase64UrlEncoded,\n  validateCrypto,\n  openPopup,\n  getDomain,\n  getTokenIssuer,\n  parseNumber\n} from './utils';\n\nimport { oauthToken } from './api';\n\nimport { injectDefaultScopes, scopesToRequest } from './scope';\n\nimport {\n  InMemoryCache,\n  ICache,\n  CacheKey,\n  CacheManager,\n  CacheEntry,\n  IdTokenEntry,\n  CACHE_KEY_ID_TOKEN_SUFFIX,\n  DecodedToken\n} from './cache';\n\nimport { ConnectAccountTransaction, LoginTransaction, TransactionManager } from './transaction-manager';\nimport { verify as verifyIdToken } from './jwt';\nimport {\n  AuthenticationError,\n  ConnectError,\n  GenericError,\n  MissingRefreshTokenError,\n  MissingScopesError,\n  PopupOpenError,\n  TimeoutError\n} from './errors';\n\nimport {\n  ClientStorage,\n  CookieStorage,\n  CookieStorageWithLegacySameSite,\n  SessionStorage\n} from './storage';\n\nimport {\n  CACHE_LOCATION_MEMORY,\n  DEFAULT_POPUP_CONFIG_OPTIONS,\n  DEFAULT_AUTHORIZE_TIMEOUT_IN_SECONDS,\n  MISSING_REFRESH_TOKEN_ERROR_MESSAGE,\n  DEFAULT_SCOPE,\n  DEFAULT_SESSION_CHECK_EXPIRY_DAYS,\n  DEFAULT_AUTH0_CLIENT,\n  INVALID_REFRESH_TOKEN_ERROR_MESSAGE,\n  DEFAULT_NOW_PROVIDER,\n  DEFAULT_FETCH_TIMEOUT_MS,\n  DEFAULT_AUDIENCE\n} from './constants';\n\nimport {\n  Auth0ClientOptions,\n  AuthorizationParams,\n  AuthorizeOptions,\n  RedirectLoginOptions,\n  PopupLoginOptions,\n  PopupConfigOptions,\n  RedirectLoginResult,\n  GetTokenSilentlyOptions,\n  GetTokenWithPopupOptions,\n  LogoutOptions,\n  CacheLocation,\n  LogoutUrlOptions,\n  User,\n  IdToken,\n  GetTokenSilentlyVerboseResponse,\n  TokenEndpointResponse,\n  AuthenticationResult,\n  ConnectAccountRedirectResult,\n  RedirectConnectAccountOptions,\n  ResponseType,\n  ClientAuthorizationParams,\n  ClientConfiguration\n} from './global';\n\n// @ts-ignore\nimport TokenWorker from './worker/token.worker.ts';\nimport { singlePromise, retryPromise } from './promise-utils';\nimport { CacheKeyManifest } from './cache/key-manifest';\nimport {\n  buildIsAuthenticatedCookieName,\n  buildOrganizationHintCookieName,\n  cacheFactory,\n  getAuthorizeParams,\n  buildGetTokenSilentlyLockKey,\n  buildIframeLockKey,\n  OLD_IS_AUTHENTICATED_COOKIE_NAME,\n  patchOpenUrlWithOnRedirect,\n  getScopeToRequest,\n  allScopesAreIncluded,\n  isRefreshWithMrrt,\n  getMissingScopes\n} from './Auth0Client.utils';\nimport { CustomTokenExchangeOptions } from './TokenExchange';\nimport { Dpop } from './dpop/dpop';\nimport {\n  Fetcher,\n  type FetcherConfig,\n  type CustomFetchMinimalOutput\n} from './fetcher';\nimport { MyAccountApiClient } from './MyAccountApiClient';\nimport { AuthClient as Auth0AuthJsClient } from '@auth0/auth0-auth-js'\n\n/**\n * @ignore\n */\ntype GetTokenSilentlyResult = TokenEndpointResponse & {\n  decodedToken: ReturnType<typeof verifyIdToken>;\n  scope: string;\n  oauthTokenScope?: string;\n  audience: string;\n};\n\n/**\n * @ignore\n */\nconst lock = new Lock();\n\n/**\n * Auth0 SDK for Single Page Applications using [Authorization Code Grant Flow with PKCE](https://auth0.com/docs/api-auth/tutorials/authorization-code-grant-pkce).\n */\nexport class Auth0Client {\n  private readonly transactionManager: TransactionManager;\n  private readonly cacheManager: CacheManager;\n  private readonly domainUrl: string;\n  private readonly tokenIssuer: string;\n  private readonly scope: Record<string, string>;\n  private readonly cookieStorage: ClientStorage;\n  private readonly dpop: Dpop | undefined;\n  private readonly sessionCheckExpiryDays: number;\n  private readonly orgHintCookieName: string;\n  private readonly isAuthenticatedCookieName: string;\n  private readonly nowProvider: () => number | Promise<number>;\n  private readonly httpTimeoutMs: number;\n  private readonly options: Auth0ClientOptions & {\n    authorizationParams: ClientAuthorizationParams,\n  };\n  private readonly userCache: ICache = new InMemoryCache().enclosedCache;\n  private readonly myAccountApi: MyAccountApiClient;\n\n  private worker?: Worker;\n  private readonly activeLockKeys: Set<string> = new Set();\n  private readonly authJsClient: Auth0AuthJsClient;\n\n  private readonly defaultOptions: Partial<Auth0ClientOptions> = {\n    authorizationParams: {\n      scope: DEFAULT_SCOPE\n    },\n    useRefreshTokensFallback: false,\n    useFormData: true\n  };\n\n  constructor(options: Auth0ClientOptions) {\n    this.options = {\n      ...this.defaultOptions,\n      ...options,\n      authorizationParams: {\n        ...this.defaultOptions.authorizationParams,\n        ...options.authorizationParams\n      }\n    };\n\n    typeof window !== 'undefined' && validateCrypto();\n\n    if (options.cache && options.cacheLocation) {\n      console.warn(\n        'Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`.'\n      );\n    }\n\n    let cacheLocation: CacheLocation | undefined;\n    let cache: ICache;\n\n    if (options.cache) {\n      cache = options.cache;\n    } else {\n      cacheLocation = options.cacheLocation || CACHE_LOCATION_MEMORY;\n\n      if (!cacheFactory(cacheLocation)) {\n        throw new Error(`Invalid cache location \"${cacheLocation}\"`);\n      }\n\n      cache = cacheFactory(cacheLocation)();\n    }\n\n    this.httpTimeoutMs = options.httpTimeoutInSeconds\n      ? options.httpTimeoutInSeconds * 1000\n      : DEFAULT_FETCH_TIMEOUT_MS;\n\n    this.cookieStorage =\n      options.legacySameSiteCookie === false\n        ? CookieStorage\n        : CookieStorageWithLegacySameSite;\n\n    this.orgHintCookieName = buildOrganizationHintCookieName(\n      this.options.clientId\n    );\n\n    this.isAuthenticatedCookieName = buildIsAuthenticatedCookieName(\n      this.options.clientId\n    );\n\n    this.sessionCheckExpiryDays =\n      options.sessionCheckExpiryDays || DEFAULT_SESSION_CHECK_EXPIRY_DAYS;\n\n    const transactionStorage = options.useCookiesForTransactions\n      ? this.cookieStorage\n      : SessionStorage;\n\n    // Construct the scopes based on the following:\n    // 1. Always include `openid`\n    // 2. Include the scopes provided in `authorizationParams. This defaults to `profile email`\n    // 3. Add `offline_access` if `useRefreshTokens` is enabled\n    this.scope = injectDefaultScopes(\n      this.options.authorizationParams.scope,\n      'openid',\n      this.options.useRefreshTokens ? 'offline_access' : ''\n    );\n\n    this.transactionManager = new TransactionManager(\n      transactionStorage,\n      this.options.clientId,\n      this.options.cookieDomain\n    );\n\n    this.nowProvider = this.options.nowProvider || DEFAULT_NOW_PROVIDER;\n\n    this.cacheManager = new CacheManager(\n      cache,\n      !cache.allKeys\n        ? new CacheKeyManifest(cache, this.options.clientId)\n        : undefined,\n      this.nowProvider\n    );\n\n    this.dpop = this.options.useDpop\n      ? new Dpop(this.options.clientId)\n      : undefined;\n\n    this.domainUrl = getDomain(this.options.domain);\n    this.tokenIssuer = getTokenIssuer(this.options.issuer, this.domainUrl);\n\n    const myAccountApiIdentifier = `${this.domainUrl}/me/`;\n    const myAccountFetcher = this.createFetcher({\n      ...(this.options.useDpop && { dpopNonceId: '__auth0_my_account_api__' }),\n      getAccessToken: () =>\n        this.getTokenSilently({\n          authorizationParams: {\n            scope: 'create:me:connected_accounts',\n            audience: myAccountApiIdentifier\n          },\n          detailedResponse: true\n        })\n    });\n    this.myAccountApi = new MyAccountApiClient(\n      myAccountFetcher,\n      myAccountApiIdentifier\n    );\n\n    // Initialize auth-js client foundational Oauth feature support\n    this.authJsClient = new Auth0AuthJsClient({\n      domain: this.options.domain,\n      clientId: this.options.clientId,\n    });\n\n    // Don't use web workers unless using refresh tokens in memory\n    if (\n      typeof window !== 'undefined' &&\n      window.Worker &&\n      this.options.useRefreshTokens &&\n      cacheLocation === CACHE_LOCATION_MEMORY\n    ) {\n      if (this.options.workerUrl) {\n        this.worker = new Worker(this.options.workerUrl);\n      } else {\n        this.worker = new TokenWorker();\n      }\n    }\n  }\n\n  /**\n   * Returns a readonly copy of the initialization configuration.\n   *\n   * @returns An object containing domain and clientId\n   *\n   * @example\n   * ```typescript\n   * const auth0 = new Auth0Client({\n   *   domain: 'tenant.auth0.com',\n   *   clientId: 'abc123'\n   * });\n   *\n   * const config = auth0.getConfiguration();\n   * // { domain: 'tenant.auth0.com', clientId: 'abc123' }\n   * ```\n   */\n  public getConfiguration(): Readonly<ClientConfiguration> {\n    return Object.freeze({\n      domain: this.options.domain,\n      clientId: this.options.clientId\n    });\n  }\n\n  private _url(path: string) {\n    const auth0Client = encodeURIComponent(\n      btoa(JSON.stringify(this.options.auth0Client || DEFAULT_AUTH0_CLIENT))\n    );\n    return `${this.domainUrl}${path}&auth0Client=${auth0Client}`;\n  }\n\n  private _authorizeUrl(authorizeOptions: AuthorizeOptions) {\n    return this._url(`/authorize?${createQueryParams(authorizeOptions)}`);\n  }\n\n  private async _verifyIdToken(\n    id_token: string,\n    nonce?: string,\n    organization?: string\n  ) {\n    const now = await this.nowProvider();\n\n    return verifyIdToken({\n      iss: this.tokenIssuer,\n      aud: this.options.clientId,\n      id_token,\n      nonce,\n      organization,\n      leeway: this.options.leeway,\n      max_age: parseNumber(this.options.authorizationParams.max_age),\n      now\n    });\n  }\n\n  private _processOrgHint(organization?: string) {\n    if (organization) {\n      this.cookieStorage.save(this.orgHintCookieName, organization, {\n        daysUntilExpire: this.sessionCheckExpiryDays,\n        cookieDomain: this.options.cookieDomain\n      });\n    } else {\n      this.cookieStorage.remove(this.orgHintCookieName, {\n        cookieDomain: this.options.cookieDomain\n      });\n    }\n  }\n\n  private async _prepareAuthorizeUrl(\n    authorizationParams: AuthorizationParams,\n    authorizeOptions?: Partial<AuthorizeOptions>,\n    fallbackRedirectUri?: string\n  ): Promise<{\n    scope: string;\n    audience: string;\n    redirect_uri?: string;\n    nonce: string;\n    code_verifier: string;\n    state: string;\n    url: string;\n  }> {\n    const state = encode(createRandomString());\n    const nonce = encode(createRandomString());\n    const code_verifier = createRandomString();\n    const code_challengeBuffer = await sha256(code_verifier);\n    const code_challenge = bufferToBase64UrlEncoded(code_challengeBuffer);\n    const thumbprint = await this.dpop?.calculateThumbprint();\n\n    const params = getAuthorizeParams(\n      this.options,\n      this.scope,\n      authorizationParams,\n      state,\n      nonce,\n      code_challenge,\n      authorizationParams.redirect_uri ||\n      this.options.authorizationParams.redirect_uri ||\n      fallbackRedirectUri,\n      authorizeOptions?.response_mode,\n      thumbprint\n    );\n\n    const url = this._authorizeUrl(params);\n\n    return {\n      nonce,\n      code_verifier,\n      scope: params.scope,\n      audience: params.audience || DEFAULT_AUDIENCE,\n      redirect_uri: params.redirect_uri,\n      state,\n      url\n    };\n  }\n\n  /**\n   * ```js\n   * try {\n   *  await auth0.loginWithPopup(options);\n   * } catch(e) {\n   *  if (e instanceof PopupCancelledError) {\n   *    // Popup was closed before login completed\n   *  }\n   * }\n   * ```\n   *\n   * Opens a popup with the `/authorize` URL using the parameters\n   * provided as arguments. Random and secure `state` and `nonce`\n   * parameters will be auto-generated. If the response is successful,\n   * results will be valid according to their expiration times.\n   *\n   * IMPORTANT: This method has to be called from an event handler\n   * that was started by the user like a button click, for example,\n   * otherwise the popup will be blocked in most browsers.\n   *\n   * @param options\n   * @param config\n   */\n  public async loginWithPopup(\n    options?: PopupLoginOptions,\n    config?: PopupConfigOptions\n  ) {\n    options = options || {};\n    config = config || {};\n\n    if (!config.popup) {\n      config.popup = openPopup('');\n\n      if (!config.popup) {\n        throw new PopupOpenError();\n      }\n    }\n\n    const params = await this._prepareAuthorizeUrl(\n      options.authorizationParams || {},\n      { response_mode: 'web_message' },\n      window.location.origin\n    );\n\n    config.popup.location.href = params.url;\n\n    const codeResult = await runPopup({\n      ...config,\n      timeoutInSeconds:\n        config.timeoutInSeconds ||\n        this.options.authorizeTimeoutInSeconds ||\n        DEFAULT_AUTHORIZE_TIMEOUT_IN_SECONDS\n    });\n\n    if (params.state !== codeResult.state) {\n      throw new GenericError('state_mismatch', 'Invalid state');\n    }\n\n    const organization =\n      options.authorizationParams?.organization ||\n      this.options.authorizationParams.organization;\n\n    await this._requestToken(\n      {\n        audience: params.audience,\n        scope: params.scope,\n        code_verifier: params.code_verifier,\n        grant_type: 'authorization_code',\n        code: codeResult.code as string,\n        redirect_uri: params.redirect_uri\n      },\n      {\n        nonceIn: params.nonce,\n        organization\n      }\n    );\n  }\n\n  /**\n   * ```js\n   * const user = await auth0.getUser();\n   * ```\n   *\n   * Returns the user information if available (decoded\n   * from the `id_token`).\n   *\n   * @typeparam TUser The type to return, has to extend {@link User}.\n   */\n  public async getUser<TUser extends User>(): Promise<TUser | undefined> {\n    const cache = await this._getIdTokenFromCache();\n\n    return cache?.decodedToken?.user as TUser;\n  }\n\n  /**\n   * ```js\n   * const claims = await auth0.getIdTokenClaims();\n   * ```\n   *\n   * Returns all claims from the id_token if available.\n   */\n  public async getIdTokenClaims(): Promise<IdToken | undefined> {\n    const cache = await this._getIdTokenFromCache();\n\n    return cache?.decodedToken?.claims;\n  }\n\n  /**\n   * ```js\n   * await auth0.loginWithRedirect(options);\n   * ```\n   *\n   * Performs a redirect to `/authorize` using the parameters\n   * provided as arguments. Random and secure `state` and `nonce`\n   * parameters will be auto-generated.\n   *\n   * @param options\n   */\n  public async loginWithRedirect<TAppState = any>(\n    options: RedirectLoginOptions<TAppState> = {}\n  ) {\n    const { openUrl, fragment, appState, ...urlOptions } =\n      patchOpenUrlWithOnRedirect(options);\n\n    const organization =\n      urlOptions.authorizationParams?.organization ||\n      this.options.authorizationParams.organization;\n\n    const { url, ...transaction } = await this._prepareAuthorizeUrl(\n      urlOptions.authorizationParams || {}\n    );\n\n    this.transactionManager.create<LoginTransaction>({\n      ...transaction,\n      appState,\n      response_type: ResponseType.Code,\n      ...(organization && { organization })\n    });\n\n    const urlWithFragment = fragment ? `${url}#${fragment}` : url;\n\n    if (openUrl) {\n      await openUrl(urlWithFragment);\n    } else {\n      window.location.assign(urlWithFragment);\n    }\n  }\n\n  /**\n   * After the browser redirects back to the callback page,\n   * call `handleRedirectCallback` to handle success and error\n   * responses from Auth0. If the response is successful, results\n   * will be valid according to their expiration times.\n   */\n  public async handleRedirectCallback<TAppState = any>(\n    url: string = window.location.href\n  ): Promise<\n    RedirectLoginResult<TAppState> | ConnectAccountRedirectResult<TAppState>\n  > {\n    const queryStringFragments = url.split('?').slice(1);\n\n    if (queryStringFragments.length === 0) {\n      throw new Error('There are no query params available for parsing.');\n    }\n\n    const transaction = this.transactionManager.get<\n      LoginTransaction | ConnectAccountTransaction\n    >();\n\n    if (!transaction) {\n      throw new GenericError('missing_transaction', 'Invalid state');\n    }\n\n    this.transactionManager.remove();\n\n    const authenticationResult = parseAuthenticationResult(\n      queryStringFragments.join('')\n    );\n\n    if (transaction.response_type === ResponseType.ConnectCode) {\n      return this._handleConnectAccountRedirectCallback<TAppState>(\n        authenticationResult,\n        transaction\n      );\n    }\n    return this._handleLoginRedirectCallback<TAppState>(\n      authenticationResult,\n      transaction\n    );\n  }\n\n  /**\n   * Handles the redirect callback from the login flow.\n   *\n   * @template AppState - The application state persisted from the /authorize redirect.\n   * @param {string} authenticationResult - The parsed authentication result from the URL.\n   * @param {string} transaction - The login transaction.\n   *\n   * @returns {RedirectLoginResult} Resolves with the persisted app state.\n   * @throws {GenericError | Error} If the transaction is missing, invalid, or the code exchange fails.\n   */\n  private async _handleLoginRedirectCallback<TAppState>(\n    authenticationResult: AuthenticationResult,\n    transaction: LoginTransaction\n  ): Promise<RedirectLoginResult<TAppState>> {\n    const { code, state, error, error_description } = authenticationResult;\n\n    if (error) {\n      throw new AuthenticationError(\n        error,\n        error_description || error,\n        state,\n        transaction.appState\n      );\n    }\n\n    // Transaction should have a `code_verifier` to do PKCE for CSRF protection\n    if (\n      !transaction.code_verifier ||\n      (transaction.state && transaction.state !== state)\n    ) {\n      throw new GenericError('state_mismatch', 'Invalid state');\n    }\n\n    const organization = transaction.organization;\n    const nonceIn = transaction.nonce;\n    const redirect_uri = transaction.redirect_uri;\n\n    await this._requestToken(\n      {\n        audience: transaction.audience,\n        scope: transaction.scope,\n        code_verifier: transaction.code_verifier,\n        grant_type: 'authorization_code',\n        code: code as string,\n        ...(redirect_uri ? { redirect_uri } : {})\n      },\n      { nonceIn, organization }\n    );\n\n    return {\n      appState: transaction.appState,\n      response_type: ResponseType.Code\n    };\n  }\n\n  /**\n   * Handles the redirect callback from the connect account flow.\n   * This works the same as the redirect from the login flow expect it verifies the `connect_code`\n   * with the My Account API rather than the `code` with the Authorization Server.\n   *\n   * @template AppState - The application state persisted from the connect redirect.\n   * @param {string} connectResult - The parsed connect accounts result from the URL.\n   * @param {string} transaction - The login transaction.\n   * @returns {Promise<ConnectAccountRedirectResult>} The result of the My Account API, including any persisted app state.\n   * @throws {GenericError | MyAccountApiError} If the transaction is missing, invalid, or an error is returned from the My Account API.\n   */\n  private async _handleConnectAccountRedirectCallback<TAppState>(\n    connectResult: AuthenticationResult,\n    transaction: ConnectAccountTransaction\n  ): Promise<ConnectAccountRedirectResult<TAppState>> {\n    const { connect_code, state, error, error_description } = connectResult;\n\n    if (error) {\n      throw new ConnectError(\n        error,\n        error_description || error,\n        transaction.connection,\n        state,\n        transaction.appState\n      );\n    }\n\n    if (!connect_code) {\n      throw new GenericError('missing_connect_code', 'Missing connect code');\n    }\n\n    if (\n      !transaction.code_verifier ||\n      !transaction.state ||\n      !transaction.auth_session ||\n      !transaction.redirect_uri ||\n      transaction.state !== state\n    ) {\n      throw new GenericError('state_mismatch', 'Invalid state');\n    }\n\n    const data = await this.myAccountApi.completeAccount({\n      auth_session: transaction.auth_session,\n      connect_code,\n      redirect_uri: transaction.redirect_uri,\n      code_verifier: transaction.code_verifier\n    });\n\n    return {\n      ...data,\n      appState: transaction.appState,\n      response_type: ResponseType.ConnectCode,\n    };\n  }\n\n  /**\n   * ```js\n   * await auth0.checkSession();\n   * ```\n   *\n   * Check if the user is logged in using `getTokenSilently`. The difference\n   * with `getTokenSilently` is that this doesn't return a token, but it will\n   * pre-fill the token cache.\n   *\n   * This method also heeds the `auth0.{clientId}.is.authenticated` cookie, as an optimization\n   *  to prevent calling Auth0 unnecessarily. If the cookie is not present because\n   * there was no previous login (or it has expired) then tokens will not be refreshed.\n   *\n   * It should be used for silently logging in the user when you instantiate the\n   * `Auth0Client` constructor. You should not need this if you are using the\n   * `createAuth0Client` factory.\n   *\n   * **Note:** the cookie **may not** be present if running an app using a private tab, as some\n   * browsers clear JS cookie data and local storage when the tab or page is closed, or on page reload. This effectively\n   * means that `checkSession` could silently return without authenticating the user on page refresh when\n   * using a private tab, despite having previously logged in. As a workaround, use `getTokenSilently` instead\n   * and handle the possible `login_required` error [as shown in the readme](https://github.com/auth0/auth0-spa-js#creating-the-client).\n   *\n   * @param options\n   */\n  public async checkSession(options?: GetTokenSilentlyOptions) {\n    if (!this.cookieStorage.get(this.isAuthenticatedCookieName)) {\n      if (!this.cookieStorage.get(OLD_IS_AUTHENTICATED_COOKIE_NAME)) {\n        return;\n      } else {\n        // Migrate the existing cookie to the new name scoped by client ID\n        this.cookieStorage.save(this.isAuthenticatedCookieName, true, {\n          daysUntilExpire: this.sessionCheckExpiryDays,\n          cookieDomain: this.options.cookieDomain\n        });\n\n        this.cookieStorage.remove(OLD_IS_AUTHENTICATED_COOKIE_NAME);\n      }\n    }\n\n    try {\n      await this.getTokenSilently(options);\n    } catch (_) { }\n  }\n\n  /**\n   * Fetches a new access token and returns the response from the /oauth/token endpoint, omitting the refresh token.\n   *\n   * @param options\n   */\n  public async getTokenSilently(\n    options: GetTokenSilentlyOptions & { detailedResponse: true }\n  ): Promise<GetTokenSilentlyVerboseResponse>;\n\n  /**\n   * Fetches a new access token and returns it.\n   *\n   * @param options\n   */\n  public async getTokenSilently(\n    options?: GetTokenSilentlyOptions\n  ): Promise<string>;\n\n  /**\n   * Fetches a new access token, and either returns just the access token (the default) or the response from the /oauth/token endpoint, depending on the `detailedResponse` option.\n   *\n   * ```js\n   * const token = await auth0.getTokenSilently(options);\n   * ```\n   *\n   * If there's a valid token stored and it has more than 60 seconds\n   * remaining before expiration, return the token. Otherwise, attempt\n   * to obtain a new token.\n   *\n   * A new token will be obtained either by opening an iframe or a\n   * refresh token (if `useRefreshTokens` is `true`).\n\n   * If iframes are used, opens an iframe with the `/authorize` URL\n   * using the parameters provided as arguments. Random and secure `state`\n   * and `nonce` parameters will be auto-generated. If the response is successful,\n   * results will be validated according to their expiration times.\n   *\n   * If refresh tokens are used, the token endpoint is called directly with the\n   * 'refresh_token' grant. If no refresh token is available to make this call,\n   * the SDK will only fall back to using an iframe to the '/authorize' URL if\n   * the `useRefreshTokensFallback` setting has been set to `true`. By default this\n   * setting is `false`.\n   *\n   * This method may use a web worker to perform the token call if the in-memory\n   * cache is used.\n   *\n   * If an `audience` value is given to this function, the SDK always falls\n   * back to using an iframe to make the token exchange.\n   *\n   * Note that in all cases, falling back to an iframe requires access to\n   * the `auth0` cookie.\n   *\n   * @param options\n   */\n  public async getTokenSilently(\n    options: GetTokenSilentlyOptions = {}\n  ): Promise<undefined | string | GetTokenSilentlyVerboseResponse> {\n    const localOptions: GetTokenSilentlyOptions & {\n      authorizationParams: AuthorizationParams & { scope: string };\n    } = {\n      cacheMode: 'on',\n      ...options,\n      authorizationParams: {\n        ...this.options.authorizationParams,\n        ...options.authorizationParams,\n        scope: scopesToRequest(\n          this.scope,\n          options.authorizationParams?.scope,\n          options.authorizationParams?.audience || this.options.authorizationParams.audience,\n        )\n      }\n    };\n\n    const result = await singlePromise(\n      () => this._getTokenSilently(localOptions),\n      `${this.options.clientId}::${localOptions.authorizationParams.audience}::${localOptions.authorizationParams.scope}`\n    );\n\n    return options.detailedResponse ? result : result?.access_token;\n  }\n\n  private async _getTokenSilently(\n    options: GetTokenSilentlyOptions & {\n      authorizationParams: AuthorizationParams & { scope: string };\n    }\n  ): Promise<undefined | GetTokenSilentlyVerboseResponse> {\n    const { cacheMode, ...getTokenOptions } = options;\n\n    // Check the cache before acquiring the lock to avoid the latency of\n    // `lock.acquireLock` when the cache is populated.\n    if (cacheMode !== 'off') {\n      const entry = await this._getEntryFromCache({\n        scope: getTokenOptions.authorizationParams.scope,\n        audience: getTokenOptions.authorizationParams.audience || DEFAULT_AUDIENCE,\n        clientId: this.options.clientId,\n        cacheMode,\n      });\n\n      if (entry) {\n        return entry;\n      }\n    }\n\n    if (cacheMode === 'cache-only') {\n      return;\n    }\n\n    // Generate lock key based on client ID and audience for better isolation\n    const lockKey = buildGetTokenSilentlyLockKey(\n      this.options.clientId,\n      getTokenOptions.authorizationParams.audience || 'default'\n    );\n\n    if (await retryPromise(() => lock.acquireLock(lockKey, 5000), 10)) {\n      this.activeLockKeys.add(lockKey);\n\n      // Add event listener only if this is the first active lock\n      if (this.activeLockKeys.size === 1) {\n        window.addEventListener('pagehide', this._releaseLockOnPageHide);\n      }\n      try {\n        // Check the cache a second time, because it may have been populated\n        // by a previous call while this call was waiting to acquire the lock.\n        if (cacheMode !== 'off') {\n          const entry = await this._getEntryFromCache({\n            scope: getTokenOptions.authorizationParams.scope,\n            audience: getTokenOptions.authorizationParams.audience || DEFAULT_AUDIENCE,\n            clientId: this.options.clientId\n          });\n\n          if (entry) {\n            return entry;\n          }\n        }\n\n        const authResult = this.options.useRefreshTokens\n          ? await this._getTokenUsingRefreshToken(getTokenOptions)\n          : await this._getTokenFromIFrame(getTokenOptions);\n\n        const {\n          id_token,\n          token_type,\n          access_token,\n          oauthTokenScope,\n          expires_in\n        } = authResult;\n\n        return {\n          id_token,\n          token_type,\n          access_token,\n          ...(oauthTokenScope ? { scope: oauthTokenScope } : null),\n          expires_in\n        };\n      } finally {\n        await lock.releaseLock(lockKey);\n        this.activeLockKeys.delete(lockKey);\n        // If we have no more locks, we can remove the event listener to clean up\n        if (this.activeLockKeys.size === 0) {\n          window.removeEventListener('pagehide', this._releaseLockOnPageHide);\n        }\n      }\n    } else {\n      throw new TimeoutError();\n    }\n  }\n\n  /**\n   * ```js\n   * const token = await auth0.getTokenWithPopup(options);\n   * ```\n   * Opens a popup with the `/authorize` URL using the parameters\n   * provided as arguments. Random and secure `state` and `nonce`\n   * parameters will be auto-generated. If the response is successful,\n   * results will be valid according to their expiration times.\n   *\n   * @param options\n   * @param config\n   */\n  public async getTokenWithPopup(\n    options: GetTokenWithPopupOptions = {},\n    config: PopupConfigOptions = {}\n  ) {\n    const localOptions = {\n      ...options,\n      authorizationParams: {\n        ...this.options.authorizationParams,\n        ...options.authorizationParams,\n        scope: scopesToRequest(\n          this.scope,\n          options.authorizationParams?.scope,\n          options.authorizationParams?.audience || this.options.authorizationParams.audience\n        )\n      }\n    };\n\n    config = {\n      ...DEFAULT_POPUP_CONFIG_OPTIONS,\n      ...config\n    };\n\n    await this.loginWithPopup(localOptions, config);\n\n    const cache = await this.cacheManager.get(\n      new CacheKey({\n        scope: localOptions.authorizationParams.scope,\n        audience: localOptions.authorizationParams.audience || DEFAULT_AUDIENCE,\n        clientId: this.options.clientId\n      }),\n      undefined,\n      this.options.useMrrt\n    );\n\n    return cache!.access_token;\n  }\n\n  /**\n   * ```js\n   * const isAuthenticated = await auth0.isAuthenticated();\n   * ```\n   *\n   * Returns `true` if there's valid information stored,\n   * otherwise returns `false`.\n   *\n   */\n  public async isAuthenticated() {\n    const user = await this.getUser();\n    return !!user;\n  }\n\n  /**\n   * ```js\n   * await auth0.buildLogoutUrl(options);\n   * ```\n   *\n   * Builds a URL to the logout endpoint using the parameters provided as arguments.\n   * @param options\n   */\n  private _buildLogoutUrl(options: LogoutUrlOptions): string {\n    if (options.clientId !== null) {\n      options.clientId = options.clientId || this.options.clientId;\n    } else {\n      delete options.clientId;\n    }\n\n    const { federated, ...logoutOptions } = options.logoutParams || {};\n    const federatedQuery = federated ? `&federated` : '';\n    const url = this._url(\n      `/v2/logout?${createQueryParams({\n        clientId: options.clientId,\n        ...logoutOptions\n      })}`\n    );\n\n    return url + federatedQuery;\n  }\n\n  /**\n   * ```js\n   * await auth0.logout(options);\n   * ```\n   *\n   * Clears the application session and performs a redirect to `/v2/logout`, using\n   * the parameters provided as arguments, to clear the Auth0 session.\n   *\n   * If the `federated` option is specified it also clears the Identity Provider session.\n   * [Read more about how Logout works at Auth0](https://auth0.com/docs/logout).\n   *\n   * @param options\n   */\n  public async logout(options: LogoutOptions = {}): Promise<void> {\n    const { openUrl, ...logoutOptions } = patchOpenUrlWithOnRedirect(options);\n\n    if (options.clientId === null) {\n      await this.cacheManager.clear();\n    } else {\n      await this.cacheManager.clear(options.clientId || this.options.clientId);\n    }\n\n    this.cookieStorage.remove(this.orgHintCookieName, {\n      cookieDomain: this.options.cookieDomain\n    });\n    this.cookieStorage.remove(this.isAuthenticatedCookieName, {\n      cookieDomain: this.options.cookieDomain\n    });\n    this.userCache.remove(CACHE_KEY_ID_TOKEN_SUFFIX);\n\n    await this.dpop?.clear();\n\n    const url = this._buildLogoutUrl(logoutOptions);\n\n    if (openUrl) {\n      await openUrl(url);\n    } else if (openUrl !== false) {\n      window.location.assign(url);\n    }\n  }\n\n  private async _getTokenFromIFrame(\n    options: GetTokenSilentlyOptions & {\n      authorizationParams: AuthorizationParams & { scope: string };\n    }\n  ): Promise<GetTokenSilentlyResult> {\n    const iframeLockKey = buildIframeLockKey(this.options.clientId);\n\n    // Acquire global iframe lock to serialize iframe authorization flows.\n    // This is necessary because the SDK does not support multiple simultaneous transactions.\n    // Since https://github.com/auth0/auth0-spa-js/pull/1408, when calling\n    // `getTokenSilently()`, the global locking will lock per `audience` instead of locking\n    // only per `client_id`.\n    // This means that calls for different audiences would happen in parallel, which does\n    // not work when using silent authentication (prompt=none) from within the SDK, as that\n    // relies on the same transaction context as a top-level `loginWithRedirect`.\n    // To resolve that, we add a second-level locking that locks only the iframe calls in\n    // the same way as was done before https://github.com/auth0/auth0-spa-js/pull/1408.\n    if (await retryPromise(() => lock.acquireLock(iframeLockKey, 5000), 10)) {\n      try {\n        const params: AuthorizationParams & { scope: string } = {\n          ...options.authorizationParams,\n          prompt: 'none'\n        };\n\n        const orgHint = this.cookieStorage.get<string>(this.orgHintCookieName);\n\n        if (orgHint && !params.organization) {\n          params.organization = orgHint;\n        }\n\n        const {\n          url,\n          state: stateIn,\n          nonce: nonceIn,\n          code_verifier,\n          redirect_uri,\n          scope,\n          audience\n        } = await this._prepareAuthorizeUrl(\n          params,\n          { response_mode: 'web_message' },\n          window.location.origin\n        );\n\n        // When a browser is running in a Cross-Origin Isolated context, using iframes is not possible.\n        // It doesn't throw an error but times out instead, so we should exit early and inform the user about the reason.\n        // https://developer.mozilla.org/en-US/docs/Web/API/crossOriginIsolated\n        if ((window as any).crossOriginIsolated) {\n          throw new GenericError(\n            'login_required',\n            'The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.'\n          );\n        }\n\n        const authorizeTimeout =\n          options.timeoutInSeconds || this.options.authorizeTimeoutInSeconds;\n\n        // Extract origin from domainUrl, fallback to domainUrl if URL parsing fails\n        let eventOrigin: string;\n        try {\n          eventOrigin = new URL(this.domainUrl).origin;\n        } catch {\n          eventOrigin = this.domainUrl;\n        }\n\n        const codeResult = await runIframe(url, eventOrigin, authorizeTimeout);\n\n        if (stateIn !== codeResult.state) {\n          throw new GenericError('state_mismatch', 'Invalid state');\n        }\n\n        const tokenResult = await this._requestToken(\n          {\n            ...options.authorizationParams,\n            code_verifier,\n            code: codeResult.code as string,\n            grant_type: 'authorization_code',\n            redirect_uri,\n            timeout: options.authorizationParams.timeout || this.httpTimeoutMs\n          },\n          {\n            nonceIn,\n            organization: params.organization\n          }\n        );\n\n        return {\n          ...tokenResult,\n          scope: scope,\n          oauthTokenScope: tokenResult.scope,\n          audience: audience\n        };\n      } catch (e) {\n        if (e.error === 'login_required') {\n          this.logout({\n            openUrl: false\n          });\n        }\n        throw e;\n      } finally {\n        await lock.releaseLock(iframeLockKey);\n      }\n    } else {\n      throw new TimeoutError();\n    }\n  }\n\n  private async _getTokenUsingRefreshToken(\n    options: GetTokenSilentlyOptions & {\n      authorizationParams: AuthorizationParams & { scope: string };\n    }\n  ): Promise<GetTokenSilentlyResult> {\n    const cache = await this.cacheManager.get(\n      new CacheKey({\n        scope: options.authorizationParams.scope,\n        audience: options.authorizationParams.audience || DEFAULT_AUDIENCE,\n        clientId: this.options.clientId\n      }),\n      undefined,\n      this.options.useMrrt\n    );\n\n    // If you don't have a refresh token in memory\n    // and you don't have a refresh token in web worker memory\n    // and useRefreshTokensFallback was explicitly enabled\n    // fallback to an iframe\n    if ((!cache || !cache.refresh_token) && !this.worker) {\n      if (this.options.useRefreshTokensFallback) {\n        return await this._getTokenFromIFrame(options);\n      }\n\n      throw new MissingRefreshTokenError(\n        options.authorizationParams.audience || DEFAULT_AUDIENCE,\n        options.authorizationParams.scope\n      );\n    }\n\n    const redirect_uri =\n      options.authorizationParams.redirect_uri ||\n      this.options.authorizationParams.redirect_uri ||\n      window.location.origin;\n\n    const timeout =\n      typeof options.timeoutInSeconds === 'number'\n        ? options.timeoutInSeconds * 1000\n        : null;\n\n    const scopesToRequest = getScopeToRequest(\n      this.options.useMrrt,\n      options.authorizationParams,\n      cache?.audience,\n      cache?.scope,\n    );\n\n    try {\n      const tokenResult = await this._requestToken({\n        ...options.authorizationParams,\n        grant_type: 'refresh_token',\n        refresh_token: cache && cache.refresh_token,\n        redirect_uri,\n        ...(timeout && { timeout })\n      },\n        {\n          scopesToRequest,\n        }\n      );\n\n      // If is refreshed with MRRT, we update all entries that have the old\n      // refresh_token with the new one if the server responded with one\n      if (tokenResult.refresh_token && cache?.refresh_token) {\n        await this.cacheManager.updateEntry(\n          cache.refresh_token,\n          tokenResult.refresh_token\n        );\n      }\n\n      // Some scopes requested to the server might not be inside the refresh policies\n      // In order to return a token with all requested scopes when using MRRT we should\n      // check if all scopes are returned. If not, we will try to use an iframe to request\n      // a token.\n      if (this.options.useMrrt) {\n        const isRefreshMrrt = isRefreshWithMrrt(\n          cache?.audience,\n          cache?.scope,\n          options.authorizationParams.audience,\n          options.authorizationParams.scope,\n        );\n\n        if (isRefreshMrrt) {\n          const tokenHasAllScopes = allScopesAreIncluded(\n            scopesToRequest,\n            tokenResult.scope,\n          );\n\n          if (!tokenHasAllScopes) {\n            if (this.options.useRefreshTokensFallback) {\n              return await this._getTokenFromIFrame(options);\n            }\n\n            // Before throwing MissingScopesError, we have to remove the previously created entry\n            // to avoid storing wrong data\n            await this.cacheManager.remove(\n              this.options.clientId,\n              options.authorizationParams.audience,\n              options.authorizationParams.scope,\n            );\n\n            const missingScopes = getMissingScopes(\n              scopesToRequest,\n              tokenResult.scope,\n            );\n\n            throw new MissingScopesError(\n              options.authorizationParams.audience || 'default',\n              missingScopes,\n            );\n          }\n        }\n      }\n\n      return {\n        ...tokenResult,\n        scope: options.authorizationParams.scope,\n        oauthTokenScope: tokenResult.scope,\n        audience: options.authorizationParams.audience || DEFAULT_AUDIENCE\n      };\n    } catch (e) {\n      if (\n        // The web worker didn't have a refresh token in memory so\n        // fallback to an iframe.\n        (e.message.indexOf(MISSING_REFRESH_TOKEN_ERROR_MESSAGE) > -1 ||\n          // A refresh token was found, but is it no longer valid\n          // and useRefreshTokensFallback is explicitly enabled. Fallback to an iframe.\n          (e.message &&\n            e.message.indexOf(INVALID_REFRESH_TOKEN_ERROR_MESSAGE) > -1)) &&\n        this.options.useRefreshTokensFallback\n      ) {\n        return await this._getTokenFromIFrame(options);\n      }\n\n      throw e;\n    }\n  }\n\n  private async _saveEntryInCache(\n    entry: CacheEntry & { id_token: string; decodedToken: DecodedToken }\n  ) {\n    const { id_token, decodedToken, ...entryWithoutIdToken } = entry;\n\n    this.userCache.set(CACHE_KEY_ID_TOKEN_SUFFIX, {\n      id_token,\n      decodedToken\n    });\n\n    await this.cacheManager.setIdToken(\n      this.options.clientId,\n      entry.id_token,\n      entry.decodedToken\n    );\n\n    await this.cacheManager.set(entryWithoutIdToken);\n  }\n\n  private async _getIdTokenFromCache() {\n    const audience = this.options.authorizationParams.audience || DEFAULT_AUDIENCE;\n    const scope = this.scope[audience];\n\n    const cache = await this.cacheManager.getIdToken(\n      new CacheKey({\n        clientId: this.options.clientId,\n        audience,\n        scope,\n      })\n    );\n\n    const currentCache = this.userCache.get<IdTokenEntry>(\n      CACHE_KEY_ID_TOKEN_SUFFIX\n    ) as IdTokenEntry;\n\n    // If the id_token in the cache matches the value we previously cached in memory return the in-memory\n    // value so that object comparison will work\n    if (cache && cache.id_token === currentCache?.id_token) {\n      return currentCache;\n    }\n\n    this.userCache.set(CACHE_KEY_ID_TOKEN_SUFFIX, cache);\n    return cache;\n  }\n\n  private async _getEntryFromCache({\n    scope,\n    audience,\n    clientId,\n    cacheMode,\n  }: {\n    scope: string;\n    audience: string;\n    clientId: string;\n    cacheMode?: string;\n  }): Promise<undefined | GetTokenSilentlyVerboseResponse> {\n    const entry = await this.cacheManager.get(\n      new CacheKey({\n        scope,\n        audience,\n        clientId\n      }),\n      60, // get a new token if within 60 seconds of expiring\n      this.options.useMrrt,\n      cacheMode,\n    );\n\n    if (entry && entry.access_token) {\n      const { token_type, access_token, oauthTokenScope, expires_in } =\n        entry as CacheEntry;\n      const cache = await this._getIdTokenFromCache();\n      return (\n        cache && {\n          id_token: cache.id_token,\n          token_type: token_type ? token_type : 'Bearer',\n          access_token,\n          ...(oauthTokenScope ? { scope: oauthTokenScope } : null),\n          expires_in\n        }\n      );\n    }\n  }\n\n  /**\n   * Releases any locks acquired by the current page that are not released yet\n   *\n   * Get's called on the `pagehide` event.\n   * https://developer.mozilla.org/en-US/docs/Web/API/Window/pagehide_event\n   */\n  private _releaseLockOnPageHide = async () => {\n    // Release all active locks\n    const lockKeysToRelease = Array.from(this.activeLockKeys);\n    for (const lockKey of lockKeysToRelease) {\n      await lock.releaseLock(lockKey);\n    }\n    this.activeLockKeys.clear();\n\n    window.removeEventListener('pagehide', this._releaseLockOnPageHide);\n  };\n\n  private async _requestToken(\n    options:\n      | PKCERequestTokenOptions\n      | RefreshTokenRequestTokenOptions\n      | TokenExchangeRequestOptions,\n    additionalParameters?: RequestTokenAdditionalParameters\n  ) {\n    const { nonceIn, organization, scopesToRequest } = additionalParameters || {};\n    const authResult = await oauthToken(\n      {\n        baseUrl: this.domainUrl,\n        client_id: this.options.clientId,\n        auth0Client: this.options.auth0Client,\n        useFormData: this.options.useFormData,\n        timeout: this.httpTimeoutMs,\n        useMrrt: this.options.useMrrt,\n        dpop: this.dpop,\n        ...options,\n        scope: scopesToRequest || options.scope,\n      },\n      this.worker\n    );\n\n    const decodedToken = await this._verifyIdToken(\n      authResult.id_token,\n      nonceIn,\n      organization\n    );\n\n    // When logging in with authorization_code, check if a different user is authenticating\n    // If so, clear the cache to prevent tokens from multiple users coexisting\n    if (options.grant_type === 'authorization_code') {\n      const existingIdToken = await this._getIdTokenFromCache();\n\n      if (existingIdToken?.decodedToken?.claims?.sub &&\n        existingIdToken.decodedToken.claims.sub !== decodedToken.claims.sub) {\n        // Different user detected - clear cached tokens\n        await this.cacheManager.clear(this.options.clientId);\n        this.userCache.remove(CACHE_KEY_ID_TOKEN_SUFFIX);\n      }\n    }\n\n    await this._saveEntryInCache({\n      ...authResult,\n      decodedToken,\n      scope: options.scope,\n      audience: options.audience || DEFAULT_AUDIENCE,\n      ...(authResult.scope ? { oauthTokenScope: authResult.scope } : null),\n      client_id: this.options.clientId\n    });\n\n    this.cookieStorage.save(this.isAuthenticatedCookieName, true, {\n      daysUntilExpire: this.sessionCheckExpiryDays,\n      cookieDomain: this.options.cookieDomain\n    });\n\n    this._processOrgHint(organization || decodedToken.claims.org_id);\n\n    return { ...authResult, decodedToken };\n  }\n\n  /*\n  Custom Token Exchange\n  * **Implementation Notes:**\n  * - Ensure that the `subject_token` provided has been securely obtained and is valid according\n  *   to your external identity provider's policies before invoking this function.\n  * - The function leverages internal helper methods:\n  *   - `validateTokenType` confirms that the `subject_token_type` is supported.\n  *   - `getUniqueScopes` merges and de-duplicates scopes between the provided options and\n  *     the instance's default scopes.\n  *   - `_requestToken` performs the actual HTTP request to the token endpoint.\n  */\n\n  /**\n   * Exchanges an external subject token for an Auth0 token via a token exchange request.\n   *\n   * @param {CustomTokenExchangeOptions} options - The options required to perform the token exchange.\n   *\n   * @returns {Promise<TokenEndpointResponse>} A promise that resolves to the token endpoint response,\n   * which contains the issued Auth0 tokens.\n   *\n   * This method implements the token exchange grant as specified in RFC 8693 by first validating\n   * the provided subject token type and then constructing a token request to the /oauth/token endpoint.\n   * The request includes the following parameters:\n   *\n   * - `grant_type`: Hard-coded to \"urn:ietf:params:oauth:grant-type:token-exchange\".\n   * - `subject_token`: The external token provided via the options.\n   * - `subject_token_type`: The type of the external token (validated by this function).\n   * - `scope`: A unique set of scopes, generated by merging the scopes supplied in the options\n   *            with the SDKs default scopes.\n   * - `audience`: The target audience from the options, with fallback to the SDK's authorization configuration.\n   * - `organization`: Optional organization ID or name for authenticating the user in an organization context.\n   *                   When provided, the organization ID will be present in the access token payload.\n   *\n   * **Example Usage:**\n   *\n   * ```\n   * // Define the token exchange options\n   * const options: CustomTokenExchangeOptions = {\n   *   subject_token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6Ikp...',\n   *   subject_token_type: 'urn:acme:legacy-system-token',\n   *   scope: \"openid profile\",\n   *   organization: \"org_12345\"\n   * };\n   *\n   * // Exchange the external token for Auth0 tokens\n   * try {\n   *   const tokenResponse = await instance.exchangeToken(options);\n   *   // Use tokenResponse.access_token, tokenResponse.id_token, etc.\n   *   // The organization ID will be present in the access token payload\n   * } catch (error) {\n   *   // Handle token exchange error\n   * }\n   * ```\n   */\n  async exchangeToken(\n    options: CustomTokenExchangeOptions\n  ): Promise<TokenEndpointResponse> {\n    return this._requestToken({\n      grant_type: 'urn:ietf:params:oauth:grant-type:token-exchange',\n      subject_token: options.subject_token,\n      subject_token_type: options.subject_token_type,\n      scope: scopesToRequest(\n        this.scope,\n        options.scope,\n        options.audience || this.options.authorizationParams.audience\n      ),\n      audience: options.audience || this.options.authorizationParams.audience,\n      organization: options.organization || this.options.authorizationParams.organization\n    });\n  }\n\n  protected _assertDpop(dpop: Dpop | undefined): asserts dpop is Dpop {\n    if (!dpop) {\n      throw new Error('`useDpop` option must be enabled before using DPoP.');\n    }\n  }\n\n  /**\n   * Returns the current DPoP nonce used for making requests to Auth0.\n   *\n   * It can return `undefined` because when starting fresh it will not\n   * be populated until after the first response from the server.\n   *\n   * It requires enabling the {@link Auth0ClientOptions.useDpop} option.\n   *\n   * @param nonce The nonce value.\n   * @param id    The identifier of a nonce: if absent, it will get the nonce\n   *              used for requests to Auth0. Otherwise, it will be used to\n   *              select a specific non-Auth0 nonce.\n   */\n  public getDpopNonce(id?: string): Promise<string | undefined> {\n    this._assertDpop(this.dpop);\n\n    return this.dpop.getNonce(id);\n  }\n\n  /**\n   * Sets the current DPoP nonce used for making requests to Auth0.\n   *\n   * It requires enabling the {@link Auth0ClientOptions.useDpop} option.\n   *\n   * @param nonce The nonce value.\n   * @param id    The identifier of a nonce: if absent, it will set the nonce\n   *              used for requests to Auth0. Otherwise, it will be used to\n   *              select a specific non-Auth0 nonce.\n   */\n  public setDpopNonce(nonce: string, id?: string): Promise<void> {\n    this._assertDpop(this.dpop);\n\n    return this.dpop.setNonce(nonce, id);\n  }\n\n  /**\n   * Returns a string to be used to demonstrate possession of the private\n   * key used to cryptographically bind access tokens with DPoP.\n   *\n   * It requires enabling the {@link Auth0ClientOptions.useDpop} option.\n   */\n  public generateDpopProof(params: {\n    url: string;\n    method: string;\n    nonce?: string;\n    accessToken: string;\n  }): Promise<string> {\n    this._assertDpop(this.dpop);\n\n    return this.dpop.generateProof(params);\n  }\n\n  /**\n   * Returns a new `Fetcher` class that will contain a `fetchWithAuth()` method.\n   * This is a drop-in replacement for the Fetch API's `fetch()` method, but will\n   * handle certain authentication logic for you, like building the proper auth\n   * headers or managing DPoP nonces and retries automatically.\n   *\n   * Check the `EXAMPLES.md` file for a deeper look into this method.\n   */\n  public createFetcher<TOutput extends CustomFetchMinimalOutput = Response>(\n    config: FetcherConfig<TOutput> = {}\n  ): Fetcher<TOutput> {\n    return new Fetcher(config, {\n      isDpopEnabled: () => !!this.options.useDpop,\n      getAccessToken: authParams =>\n        this.getTokenSilently({\n          authorizationParams: {\n            scope: authParams?.scope?.join(' '),\n            audience: authParams?.audience\n          },\n          detailedResponse: true\n        }),\n      getDpopNonce: () => this.getDpopNonce(config.dpopNonceId),\n      setDpopNonce: nonce => this.setDpopNonce(nonce, config.dpopNonceId),\n      generateDpopProof: params => this.generateDpopProof(params)\n    });\n  }\n\n  /**\n   * Initiates a redirect to connect the user's account with a specified connection.\n   * This method generates PKCE parameters, creates a transaction, and redirects to the /connect endpoint.\n   * \n   * You must enable `Offline Access` from the Connection Permissions settings to be able to use the connection with Connected Accounts.\n   *\n   * @template TAppState - The application state to persist through the transaction.\n   * @param {RedirectConnectAccountOptions<TAppState>} options - Options for the connect account redirect flow.\n   * @param   {string} options.connection - The name of the connection to link (e.g. 'google-oauth2').\n   * @param   {string[]} [options.scopes] - Array of scopes to request from the Identity Provider during the connect account flow.\n   * @param   {AuthorizationParams} [options.authorization_params] - Additional authorization parameters for the request to the upstream IdP.\n   * @param   {string} [options.redirectUri] - The URI to redirect back to after connecting the account.\n   * @param   {TAppState} [options.appState] - Application state to persist through the transaction.\n   * @param   {(url: string) => Promise<void>} [options.openUrl] - Custom function to open the URL.\n   *\n   * @returns {Promise<void>} Resolves when the redirect is initiated.\n   * @throws {MyAccountApiError} If the connect request to the My Account API fails.\n   */\n  public async connectAccountWithRedirect<TAppState = any>(\n    options: RedirectConnectAccountOptions<TAppState>\n  ) {\n    const {\n      openUrl,\n      appState,\n      connection,\n      scopes,\n      authorization_params,\n      redirectUri = this.options.authorizationParams.redirect_uri ||\n      window.location.origin\n    } = options;\n\n    if (!connection) {\n      throw new Error('connection is required');\n    }\n\n    const state = encode(createRandomString());\n    const code_verifier = createRandomString();\n    const code_challengeBuffer = await sha256(code_verifier);\n    const code_challenge = bufferToBase64UrlEncoded(code_challengeBuffer);\n\n    const { connect_uri, connect_params, auth_session } =\n      await this.myAccountApi.connectAccount({\n        connection,\n        scopes,\n        redirect_uri: redirectUri,\n        state,\n        code_challenge,\n        code_challenge_method: 'S256',\n        authorization_params\n      });\n\n    this.transactionManager.create<ConnectAccountTransaction>({\n      state,\n      code_verifier,\n      auth_session,\n      redirect_uri: redirectUri,\n      appState,\n      connection,\n      response_type: ResponseType.ConnectCode\n    });\n\n    const url = new URL(connect_uri);\n    url.searchParams.set('ticket', connect_params.ticket);\n    if (openUrl) {\n      await openUrl(url.toString());\n    } else {\n      window.location.assign(url);\n    }\n  }\n}\n\ninterface BaseRequestTokenOptions {\n  audience?: string;\n  scope: string;\n  timeout?: number;\n  redirect_uri?: string;\n}\n\ninterface PKCERequestTokenOptions extends BaseRequestTokenOptions {\n  code: string;\n  grant_type: 'authorization_code';\n  code_verifier: string;\n}\n\ninterface RefreshTokenRequestTokenOptions extends BaseRequestTokenOptions {\n  grant_type: 'refresh_token';\n  refresh_token?: string;\n}\n\ninterface TokenExchangeRequestOptions extends BaseRequestTokenOptions {\n  grant_type: 'urn:ietf:params:oauth:grant-type:token-exchange';\n  subject_token: string;\n  subject_token_type: string;\n  actor_token?: string;\n  actor_token_type?: string;\n  organization?: string;\n}\n\ninterface RequestTokenAdditionalParameters {\n  nonceIn?: string;\n  organization?: string;\n  scopesToRequest?: string;\n}\n","import { Auth0Client } from './Auth0Client';\nimport { Auth0ClientOptions } from './global';\n\nimport './global';\n\nexport * from './global';\n\n/**\n * Asynchronously creates the Auth0Client instance and calls `checkSession`.\n *\n * **Note:** There are caveats to using this in a private browser tab, which may not silently authenticae\n * a user on page refresh. Please see [the checkSession docs](https://auth0.github.io/auth0-spa-js/classes/Auth0Client.html#checksession) for more info.\n *\n * @param options The client options\n * @returns An instance of Auth0Client\n */\nexport async function createAuth0Client(options: Auth0ClientOptions) {\n  const auth0 = new Auth0Client(options);\n  await auth0.checkSession();\n  return auth0;\n}\n\nexport { Auth0Client };\n\nexport {\n  ConnectError,\n  GenericError,\n  AuthenticationError,\n  TimeoutError,\n  PopupTimeoutError,\n  PopupCancelledError,\n  PopupOpenError,\n  MfaRequiredError,\n  MissingRefreshTokenError,\n  UseDpopNonceError\n} from './errors';\n\nexport {\n  ICache,\n  LocalStorageCache,\n  InMemoryCache,\n  Cacheable,\n  DecodedToken,\n  CacheEntry,\n  WrappedCacheEntry,\n  KeyManifestEntry,\n  MaybePromise,\n  CacheKey,\n  CacheKeyData\n} from './cache';\n\nexport type {\n  FetcherConfig,\n  Fetcher,\n  CustomFetchMinimalOutput\n} from './fetcher';\n\nexport { MyAccountApiError } from './MyAccountApiClient';\n\nexport { CustomTokenExchangeOptions } from './TokenExchange';\n"],"names":["$d0e8535850cb015b$var$M","$d0e8535850cb015b$var$pt","$d0e8535850cb015b$var$At","$d0e8535850cb015b$var$Tt","$d0e8535850cb015b$var$Lo","$d0e8535850cb015b$var$Vo","$d0e8535850cb015b$var$Zo","$d0e8535850cb015b$var$qo","$d0e8535850cb015b$var$zr","$parcel$global","globalThis","$0025a2966d83752d$export$2e2bcd8739ae039","allowAccess","render","postRender","res","fetch","window","env","API_URL","method","headers","json","err","console","log","date","Date","description","value","data","labels","Object","keys","map","l","join","k","toFixed","toLocaleDateString","user","name","picture","document","getElementById","addEventListener","e","preventDefault","$cae7093453c2f59e$var$routes","summary","count","total","expenses","$cae7093453c2f59e$var$navbar","$cae7093453c2f59e$var$content","$cae7093453c2f59e$var$router","URLSearchParams","location","search","has","auth0Client","handleRedirectCallback","history","replaceState","title","page","hash","slice","toLowerCase","innerHTML","$d0e8535850cb015b$var$e","t","n","o","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","r","length","propertyIsEnumerable","SuppressedError","$d0e8535850cb015b$var$t","self","$d0e8535850cb015b$var$n","$d0e8535850cb015b$var$o","defineProperty","$d0e8535850cb015b$var$r","locked","Map","addToLocked","get","set","unshift","isLocked","lock","Promise","unlock","pop","setTimeout","delete","getInstance","instance","default","$d0e8535850cb015b$var$i","__awaiter","i","a","c","next","s","throw","done","then","apply","$d0e8535850cb015b$var$a","__generator","label","sent","trys","ops","return","Symbol","iterator","TypeError","push","$d0e8535850cb015b$var$u","key","Error","getItem","clear","localStorage","removeItem","setItem","keySync","getItemSync","clearSync","removeItemSync","setItemSync","$d0e8535850cb015b$var$l","$d0e8535850cb015b$var$d","Math","floor","random","$d0e8535850cb015b$var$p","acquiredIatSet","Set","storageHandler","id","now","toString","acquireLock","bind","releaseLock","releaseLock__private__","waitForSomethingToChange","refreshLockWhileAcquired","waiters","h","p","JSON","stringify","iat","timeoutKey","timeAcquired","timeRefreshed","parse","add","lockCorrector","$d0e8535850cb015b$var$c","removeEventListener","removeFromWaiting","clearTimeout","addToWaiting","max","filter","notifyWaiters","forEach","u","includes","d","$d0e8535850cb015b$var$f","timeoutInSeconds","$d0e8535850cb015b$var$m","version","$d0e8535850cb015b$var$y","$d0e8535850cb015b$export$7d465be8efa67280","error","error_description","setPrototypeOf","fromPayload","$d0e8535850cb015b$export$cf0c46b07324e9c5","arguments","state","appState","$d0e8535850cb015b$export$aaa3fc6bdea78d4d","connection","$d0e8535850cb015b$export$66d311bf29d5c89c","$d0e8535850cb015b$export$ebbb83fe03f719a4","popup","$d0e8535850cb015b$export$f1f681f0fb26bb55","$d0e8535850cb015b$export$d52312082b7f6392","$d0e8535850cb015b$export$c59494f4dae44ada","mfa_token","$d0e8535850cb015b$export$ac1d2a00f8e0a046","concat","$d0e8535850cb015b$var$R","audience","scope","$d0e8535850cb015b$var$T","$d0e8535850cb015b$export$ffb710231177fce3","newDpopNonce","$d0e8535850cb015b$var$O","Array","from","$d0e8535850cb015b$var$I","crypto","getRandomValues","Uint8Array","$d0e8535850cb015b$var$C","type","$d0e8535850cb015b$var$D","clientId","assign","client_id","reduce","$d0e8535850cb015b$var$K","subtle","digest","TextEncoder","encode","$d0e8535850cb015b$var$L","decodeURIComponent","atob","replace","split","charCodeAt","$d0e8535850cb015b$var$U","btoa","String","fromCharCode","$d0e8535850cb015b$var$N","$d0e8535850cb015b$var$W","TextDecoder","$d0e8535850cb015b$var$H","decode","$d0e8535850cb015b$var$z","modulusLength","$d0e8535850cb015b$var$F","$d0e8535850cb015b$var$J","usages","sign","algorithm","saltLength","$d0e8535850cb015b$var$G","toBase64","ArrayBuffer","alphabet","omitPadding","byteLength","subarray","captureStackTrace","$d0e8535850cb015b$var$q","CryptoKey","$d0e8535850cb015b$var$B","$d0e8535850cb015b$var$X","privateKey","publicKey","extractable","isArray","alg","$d0e8535850cb015b$var$Z","namedCurve","typ","jwk","$d0e8535850cb015b$var$Y","jti","randomUUID","htm","nonce","htu","ath","kty","x","y","crv","exportKey","$d0e8535850cb015b$var$Q","$d0e8535850cb015b$var$ne","ok","$d0e8535850cb015b$var$oe","AbortController","signal","race","abort","finally","$d0e8535850cb015b$var$re","auth","timeout","fetchUrl","fetchOptions","useFormData","useMrrt","MessageChannel","port1","onmessage","close","postMessage","port2","$d0e8535850cb015b$var$ie","$d0e8535850cb015b$var$ae","b","generateProof","url","getNonce","dpop","f","m","g","v","setNonce","$d0e8535850cb015b$var$se","baseUrl","grant_type","w","body","find","$d0e8535850cb015b$var$ue","$d0e8535850cb015b$var$ce","Boolean","trim","$d0e8535850cb015b$var$le","$d0e8535850cb015b$export$2cb47d384c8dd787","prefix","suffix","toKey","fromKey","fromCacheEntry","$d0e8535850cb015b$export$40ef2cb682e70737","remove","allKeys","startsWith","$d0e8535850cb015b$export$467265324939f47f","enclosedCache","$d0e8535850cb015b$var$fe","cache","keyManifest","nowProvider","setIdToken","getIdTokenCacheKey","id_token","decodedToken","getIdToken","getCacheKeys","matchExistingCacheKey","getEntryWithRefreshToken","expiresAt","refresh_token","modifiedCachedEntry","wrapCacheEntry","resolve","expires_in","updateEntry","$d0e8535850cb015b$var$me","storage","cookieDomain","storageKey","create","save","daysUntilExpire","$d0e8535850cb015b$var$we","$d0e8535850cb015b$var$ve","__assign","$d0e8535850cb015b$var$be","$d0e8535850cb015b$var$Ee","cookie","path","encodeURIComponent","expires","setMilliseconds","getMilliseconds","toUTCString","domain","secure","sameSite","$d0e8535850cb015b$var$Te","$d0e8535850cb015b$var$Pe","$d0e8535850cb015b$var$ke","charAt","protocol","$d0e8535850cb015b$var$Ae","$d0e8535850cb015b$var$Re","$d0e8535850cb015b$var$Ie","sessionStorage","$d0e8535850cb015b$export$7390b1e457b4cb6f","Code","ConnectCode","$d0e8535850cb015b$var$Le","$d0e8535850cb015b$var$Ue","Worker","Uint16Array","buffer","Blob","substring","URL","createObjectURL","$d0e8535850cb015b$var$Ne","$d0e8535850cb015b$var$We","$d0e8535850cb015b$var$He","manifestKey","createManifestKeyFrom","size","$d0e8535850cb015b$var$ze","memory","localstorage","$d0e8535850cb015b$var$Je","$d0e8535850cb015b$var$Me","openUrl","onRedirect","$d0e8535850cb015b$var$Ve","every","$d0e8535850cb015b$var$Ge","NONCE","KEYPAIR","$d0e8535850cb015b$var$Fe","getVersion","createDbHandle","indexedDB","open","onupgradeneeded","values","result","createObjectStore","onerror","onsuccess","getDbHandle","dbHandle","executeDbRequest","transaction","objectStore","buildKey","setKeyPair","put","findNonce","findKeyPair","deleteBy","getAllKeys","deleteByClientId","clearNonces","clearKeyPairs","$d0e8535850cb015b$var$Ze","getOrGenerateKeyPair","publicExponent","generateKey","$d0e8535850cb015b$var$te","keyPair","accessToken","href","calculateThumbprint","all","$d0e8535850cb015b$var$qe","Bearer","DPoP","$d0e8535850cb015b$var$Ye","hooks","config","isAbsoluteUrl","test","buildUrl","getAccessToken","extractUrl","buildBaseRequest","Request","setAuthorizationHeader","setDpopProofHeader","dpopNonceId","getDpopNonce","generateDpopProof","prepareRequest","token_type","access_token","getHeader","Headers","hasUseDpopNonceError","status","handleResponse","setDpopNonce","onUseDpopNonceError","internalFetchWithAuth","fetchWithAuth","$d0e8535850cb015b$var$Qe","myAccountFetcher","apiBase","connectAccount","_handleResponse","completeAccount","text","$d0e8535850cb015b$export$2c8acf1355a80350","detail","validation_errors","$d0e8535850cb015b$var$et","$d0e8535850cb015b$var$tt","$d0e8535850cb015b$var$ot","$d0e8535850cb015b$var$rt","$d0e8535850cb015b$var$it","$d0e8535850cb015b$var$at","$d0e8535850cb015b$var$st","toPrimitive","Number","enumerable","configurable","writable","$d0e8535850cb015b$var$ct","getOwnPropertyDescriptor","$d0e8535850cb015b$var$ut","getOwnPropertyDescriptors","defineProperties","$d0e8535850cb015b$var$lt","$d0e8535850cb015b$var$ht","reject","arg","_invoke","$d0e8535850cb015b$var$ft","getPrototypeOf","toStringTag","$d0e8535850cb015b$var$mt","cause","code","asyncIterator","navigator","$d0e8535850cb015b$var$Be","userAgent","$d0e8535850cb015b$var$Xe","$d0e8535850cb015b$var$yt","$d0e8535850cb015b$var$wt","$d0e8535850cb015b$var$gt","$d0e8535850cb015b$var$vt","$d0e8535850cb015b$var$bt","$d0e8535850cb015b$var$_t","$d0e8535850cb015b$var$kt","$d0e8535850cb015b$var$St","$d0e8535850cb015b$var$Et","$d0e8535850cb015b$var$Pt","fromBase64","$d0e8535850cb015b$var$Rt","$d0e8535850cb015b$var$Rn","$d0e8535850cb015b$var$It","$d0e8535850cb015b$var$Ot","$d0e8535850cb015b$var$Ct","$d0e8535850cb015b$var$jt","fromEntries","entries","$d0e8535850cb015b$var$Dt","AbortSignal","$d0e8535850cb015b$var$Kt","$d0e8535850cb015b$var$Lt","$d0e8535850cb015b$var$Xt","redirect","pathname","$d0e8535850cb015b$var$Ut","isFinite","message","$d0e8535850cb015b$var$Nt","$d0e8535850cb015b$var$Wt","$d0e8535850cb015b$var$ln","$d0e8535850cb015b$var$Cn","$d0e8535850cb015b$var$Ht","$d0e8535850cb015b$var$Jt","$d0e8535850cb015b$var$Mt","$d0e8535850cb015b$var$Vt","$d0e8535850cb015b$var$Gt","issuer","$d0e8535850cb015b$var$Ft","$d0e8535850cb015b$var$Zt","$d0e8535850cb015b$var$Bt","$d0e8535850cb015b$var$Dn","$d0e8535850cb015b$var$Kn","$d0e8535850cb015b$var$Yt","$d0e8535850cb015b$var$Wn","$d0e8535850cb015b$var$Hn","attribute","$d0e8535850cb015b$var$Qt","mtls_endpoint_aliases","$d0e8535850cb015b$var$$t","$d0e8535850cb015b$var$Pn","response","$d0e8535850cb015b$var$en","$d0e8535850cb015b$var$In","$d0e8535850cb015b$var$tn","$d0e8535850cb015b$var$Tn","$d0e8535850cb015b$var$on","RegExp","$d0e8535850cb015b$var$rn","$d0e8535850cb015b$var$an","$d0e8535850cb015b$var$sn","$d0e8535850cb015b$var$cn","Response","match","scheme","parameters","token68","$d0e8535850cb015b$var$zn","clone","cancel","$d0e8535850cb015b$var$jn","$d0e8535850cb015b$var$un","$d0e8535850cb015b$var$vn","$d0e8535850cb015b$var$dn","$d0e8535850cb015b$var$hn","use_mtls_endpoint_aliases","addProof","cacheNonce","$d0e8535850cb015b$var$pn","WeakMap","$d0e8535850cb015b$var$fn","$d0e8535850cb015b$var$mn","$d0e8535850cb015b$var$yn","$d0e8535850cb015b$var$Xn","$d0e8535850cb015b$var$xn","parseFloat","require_auth_time","default_max_age","claims","jwt","$d0e8535850cb015b$var$On","crit","header","exp","$d0e8535850cb015b$var$Ln","tolerance","claim","iss","nbf","aud","$d0e8535850cb015b$var$Gn","id_token_signed_response_alg","id_token_signing_alg_values_supported","$d0e8535850cb015b$var$kn","$d0e8535850cb015b$var$gn","$d0e8535850cb015b$var$wn","azp","$d0e8535850cb015b$var$Un","expected","auth_time","$d0e8535850cb015b$var$Qn","WeakSet","$d0e8535850cb015b$var$bn","$d0e8535850cb015b$var$_n","c_hash","s_hash","sub","cnf","$d0e8535850cb015b$var$Sn","$d0e8535850cb015b$var$En","$d0e8535850cb015b$var$An","expectedNonce","maxAge","requireIdToken","recognizedTokenTypes","$d0e8535850cb015b$var$Nn","bodyUsed","$d0e8535850cb015b$var$Jn","$d0e8535850cb015b$var$Vn","reason","client","fallback","$d0e8535850cb015b$var$Fn","getAll","$d0e8535850cb015b$var$Zn","$d0e8535850cb015b$var$qn","$d0e8535850cb015b$var$Yn","$d0e8535850cb015b$var$$n","$d0e8535850cb015b$var$eo","$d0e8535850cb015b$var$to","$d0e8535850cb015b$var$no","$d0e8535850cb015b$var$oo","$d0e8535850cb015b$var$ro","$d0e8535850cb015b$var$io","payload","$d0e8535850cb015b$var$ao","$d0e8535850cb015b$var$so","$d0e8535850cb015b$var$co","$d0e8535850cb015b$var$uo","$d0e8535850cb015b$var$lo","$d0e8535850cb015b$var$ho","$d0e8535850cb015b$var$po","$d0e8535850cb015b$var$fo","$d0e8535850cb015b$var$mo","$d0e8535850cb015b$var$yo","$d0e8535850cb015b$var$wo","$d0e8535850cb015b$var$vo","parseInt","$d0e8535850cb015b$var$_o","$d0e8535850cb015b$var$ko","$d0e8535850cb015b$var$So","$d0e8535850cb015b$var$Eo","$d0e8535850cb015b$var$Ao","$d0e8535850cb015b$var$To","$d0e8535850cb015b$var$Po","$d0e8535850cb015b$var$Ro","pos","$d0e8535850cb015b$var$Io","$d0e8535850cb015b$var$Oo","$d0e8535850cb015b$var$Co","ES256","ES384","ES512","getNamedCurve","importKey","$d0e8535850cb015b$var$Do","keyUsages","priv","use","ext","key_ops","$d0e8535850cb015b$var$Ko","$d0e8535850cb015b$var$Uo","freeze","$d0e8535850cb015b$var$No","export","toCryptoKey","asymmetricKeyType","toUpperCase","asymmetricKeyDetails","format","$d0e8535850cb015b$var$Wo","$d0e8535850cb015b$var$Ho","endsWith","$d0e8535850cb015b$var$Bo","$d0e8535850cb015b$var$$o","$d0e8535850cb015b$var$Qo","$d0e8535850cb015b$var$Yo","client_secret","$d0e8535850cb015b$var$Jo","$d0e8535850cb015b$var$Mo","$d0e8535850cb015b$var$Go","$d0e8535850cb015b$var$nr","$d0e8535850cb015b$var$or","$d0e8535850cb015b$var$rr","DOMException","$d0e8535850cb015b$var$ir","$d0e8535850cb015b$var$sr","execute","$d0e8535850cb015b$var$pr","accept","catch","origin","$d0e8535850cb015b$var$ar","hostname","structuredClone","tid","__proto__","as","tlsOnly","jwksCache","serverMetadata","$d0e8535850cb015b$var$Fo","supportsPKCE","code_challenge_methods_supported","clientMetadata","$d0e8535850cb015b$var$cr","setSeconds","getSeconds","getTime","expiresIn","$d0e8535850cb015b$var$ur","ceil","$d0e8535850cb015b$var$lr","throwIfAborted","min","$d0e8535850cb015b$var$dr","$d0e8535850cb015b$var$vr","$d0e8535850cb015b$var$br","auth_req_id","interval","$d0e8535850cb015b$var$hr","nonRepudiation","decrypt","flag","additionalParameters","aborted","$d0e8535850cb015b$var$_r","$d0e8535850cb015b$var$kr","$d0e8535850cb015b$var$fr","jarm","hybrid","implicit","authResponse","redirectUri","searchParams","append","expectedState","$d0e8535850cb015b$var$Bn","authorization_response_iss_parameter_supported","pkceCodeVerifier","idTokenExpected","$d0e8535850cb015b$var$mr","$d0e8535850cb015b$var$yr","$d0e8535850cb015b$var$wr","$d0e8535850cb015b$var$gr","request_uri","$d0e8535850cb015b$var$Sr","n_a","$d0e8535850cb015b$var$Er","$d0e8535850cb015b$var$bo","$d0e8535850cb015b$var$Ar","verify","$d0e8535850cb015b$var$Tr","protected","signature","some","b64","algorithms","$d0e8535850cb015b$var$zo","protectedHeader","unprotectedHeader","$d0e8535850cb015b$var$Rr","$d0e8535850cb015b$var$Ir","exec","round","$d0e8535850cb015b$var$Or","$d0e8535850cb015b$var$Cr","requiredClaims","subject","maxTokenAge","reverse","clockTolerance","currentDate","$d0e8535850cb015b$var$jr","$d0e8535850cb015b$var$Dr","$d0e8535850cb015b$var$Kr","$d0e8535850cb015b$var$Lr","$d0e8535850cb015b$var$Ur","$d0e8535850cb015b$var$Nr","jwks","getKey","kid","$d0e8535850cb015b$var$Wr","oth","$d0e8535850cb015b$var$Hr","$d0e8535850cb015b$var$Jr","$d0e8535850cb015b$var$Mr","$d0e8535850cb015b$var$Vr","$d0e8535850cb015b$var$Gr","$d0e8535850cb015b$var$Fr","$d0e8535850cb015b$var$Zr","$d0e8535850cb015b$var$qr","$d0e8535850cb015b$var$Br","$d0e8535850cb015b$var$Xr","$d0e8535850cb015b$var$Yr","$d0e8535850cb015b$var$Qr","$d0e8535850cb015b$var$$r","$d0e8535850cb015b$var$ei","timeoutDuration","cooldownDuration","cacheMaxAge","uat","pendingFetch","coolingDown","fresh","reload","WebSocketPair","EdgeRuntime","$d0e8535850cb015b$var$ti","$d0e8535850cb015b$var$ni","$d0e8535850cb015b$var$oi","$d0e8535850cb015b$var$ri","$d0e8535850cb015b$var$ii","$d0e8535850cb015b$var$ai","$d0e8535850cb015b$var$si","$d0e8535850cb015b$var$ci","$d0e8535850cb015b$var$ui","$d0e8535850cb015b$var$li","$d0e8535850cb015b$var$di","$d0e8535850cb015b$var$hi","$d0e8535850cb015b$var$pi","$d0e8535850cb015b$var$fi","$d0e8535850cb015b$var$mi","$d0e8535850cb015b$var$yi","$d0e8535850cb015b$var$wi","$d0e8535850cb015b$var$gi","$d0e8535850cb015b$var$vi","$d0e8535850cb015b$var$bi","$d0e8535850cb015b$var$_i","$d0e8535850cb015b$var$ki","$d0e8535850cb015b$var$Si","$d0e8535850cb015b$var$Ei","$d0e8535850cb015b$var$Ai","$d0e8535850cb015b$var$Ti","$d0e8535850cb015b$var$Pi","$d0e8535850cb015b$var$Ri","$d0e8535850cb015b$var$Ii","$d0e8535850cb015b$var$Oi","authenticatorType","authenticator_type","active","oobChannels","oob_channels","$d0e8535850cb015b$var$xi","customFetch","listAuthenticators","mfaToken","Authorization","enrollAuthenticator","authenticator_types","authenticatorTypes","phoneNumber","phone_number","email","secret","barcodeUri","barcode_uri","recoveryCodes","recovery_codes","oobChannel","oob_channel","oobCode","oob_code","bindingMethod","binding_method","deleteAuthenticator","authenticatorId","challengeAuthenticator","challenge_type","challengeType","authenticator_id","$d0e8535850cb015b$var$Ci","idToken","refreshToken","authorizationDetails","fromTokenEndpointResponse","authorization_details","tokenType","issuedTokenType","issued_token_type","$d0e8535850cb015b$var$ji","$d0e8535850cb015b$var$Di","$d0e8535850cb015b$var$Ki","$d0e8535850cb015b$var$Li","$d0e8535850cb015b$var$Ui","useMtls","mfa","buildAuthorizationUrl","$d0e8535850cb015b$var$Ni","pushedAuthorizationRequests","pushed_authorization_request_endpoint","$d0e8535850cb015b$var$Ji","buildLinkUserUrl","authorizationParams","requested_connection","requested_connection_scope","connectionScope","id_token_hint","linkUserUrl","authorizationUrl","codeVerifier","buildUnlinkUserUrl","unlinkUserUrl","backchannelAuthentication","configuration","binding_message","bindingMessage","login_hint","loginHint","requestedExpiry","initiateBackchannelAuthentication","authReqId","backchannelAuthenticationGrant","getTokenForConnection","exchangeToken","subjectToken","subjectTokenType","$d0e8535850cb015b$var$Wi","$d0e8535850cb015b$var$Hi","getTokenByCode","getTokenByRefreshToken","getTokenByClientCredentials","organization","buildLogoutUrl","end_session_endpoint","returnTo","post_logout_redirect_uri","verifyLogoutToken","jwks_uri","reloading","logoutToken","sid","events","$d0e8535850cb015b$var$zi","subject_token","subject_token_type","requested_token_type","requestedTokenType","extra","clientSecret","clientAssertionSigningKey","$d0e8535850cb015b$var$xo","oid","clientAssertionSigningAlg","$d0e8535850cb015b$var$qt","$d0e8535850cb015b$var$xt","$d0e8535850cb015b$var$zt","$d0e8535850cb015b$var$Mn","code_challenge","code_challenge_method","$d0e8535850cb015b$var$Mi","$d0e8535850cb015b$export$b50978e389d6e1d5","userCache","activeLockKeys","defaultOptions","useRefreshTokensFallback","_releaseLockOnPageHide","options","cacheLocation","warn","httpTimeoutMs","httpTimeoutInSeconds","cookieStorage","legacySameSiteCookie","orgHintCookieName","isAuthenticatedCookieName","sessionCheckExpiryDays","useCookiesForTransactions","useRefreshTokens","transactionManager","cacheManager","useDpop","domainUrl","tokenIssuer","createFetcher","getTokenSilently","detailedResponse","myAccountApi","authJsClient","workerUrl","worker","getConfiguration","_url","_authorizeUrl","_verifyIdToken","$d0e8535850cb015b$var$ge","__raw","encoded","max_age","leeway","setUTCSeconds","org_id","org_name","_processOrgHint","_prepareAuthorizeUrl","redirect_uri","response_mode","response_type","dpop_jkt","code_verifier","loginWithPopup","screenX","innerWidth","screenY","innerHeight","authorizeTimeoutInSeconds","setInterval","closed","clearInterval","closePopup","_requestToken","nonceIn","getUser","_getIdTokenFromCache","getIdTokenClaims","loginWithRedirect","fragment","connect_code","_handleConnectAccountRedirectCallback","_handleLoginRedirectCallback","auth_session","checkSession","cacheMode","_getTokenSilently","_getEntryFromCache","oauthTokenScope","_getTokenUsingRefreshToken","_getTokenFromIFrame","getTokenWithPopup","isAuthenticated","_buildLogoutUrl","logoutParams","federated","logout","prompt","crossOriginIsolated","createElement","setAttribute","style","display","contains","removeChild","source","appendChild","scopesToRequest","_saveEntryInCache","_assertDpop","isDpopEnabled","connectAccountWithRedirect","scopes","authorization_params","connect_uri","connect_params","ticket","$d0e8535850cb015b$export$9fa2cfec0168886e","APP_URL","AUTH0_DOMAIN","CLIENT_ID","$f26517654c6661cc$var$domain","$f26517654c6661cc$var$clientId","$f26517654c6661cc$var$redirect_uri","processLock","ProcessLocking","_this","this","toAdd","callbacks","undefined","toCall","thisArg","_arguments","P","generator","fulfilled","step","rejected","_","verb","op","browserTabsLock","processLock_1","require$$0","DEFAULT_STORAGE_HANDLER","index","_a","delay","milliseconds","generateRandomString","CHARS","randomstring","SuperTokensLock","lockKey","MAX_TIME","STORAGE_KEY","STORAGE","TIMEOUT_KEY","lockObjPostDelay","parsedLockObjPostDelay","LOCK_STORAGE_KEY","lockObj","parsedLockObj","resolvedCalled","startedAt","removedListeners","stopWaiting","timeOutId","timeToWait","func","parsedlockObj","MIN_ALLOWED_TIME","KEYS","currIndex","LOCK_KEY","_default","DEFAULT_POPUP_CONFIG_OPTIONS","DEFAULT_AUTH0_CLIENT","DEFAULT_NOW_PROVIDER","GenericError","constructor","super","static","_ref","AuthenticationError","ConnectError","TimeoutError","PopupTimeoutError","PopupCancelledError","PopupOpenError","MfaRequiredError","MissingRefreshTokenError","valueOrEmptyString","MissingScopesError","UseDpopNonceError","exclude","getCrypto","createRandomString","charset","ALLOWED_AUTH0CLIENT_PROPERTIES","stripAuth0Client","acc","allowedProperty","createQueryParams","params","__rest","stripUndefined","sha256","async","digestOp","urlDecodeB64","input","decodeB64","bufferToBase64UrlEncoded","ie11SafeInput","b64Chars","urlEncodeB64","encoder","decoder","buf","checkRsaKeyAlgorithm","OperationProcessingError","claimsSet","b64u","UnsupportedOperationError","subtleAlgorithm","encodeBase64Url","CHUNK_SIZE","arr","determineJWSAlgorithm","psAlg","rsAlg","esAlg","isCryptoKey","isPublicKey","keypair","additional","publicJwk","SUPPORTED_GRANT_TYPES","generateKeyPair","dpopLib","components","normalizedUrl","parsedUrl","normalizeUrl","dofetch","iterable","obj","val","fetchWithoutWorker","controller","timeoutId","fetchWithWorker","sendMessage","to","messageChannel","event","switchFetch","getJSON","isDpopRetry","dpopProof","fetchError","errorMessage","oauthToken","isTokenExchange","refreshWithMrrt","allParams","isDpopSupported","grantType","dedupe","getUniqueScopes","_len","_key","authScopes","methodScopes","CacheKey","entry","LocalStorageCache","InMemoryCache","cacheEntry","CacheManager","cacheKey","entryByScope","expiryAdjustmentSeconds","wrappedEntry","matchedKey","nowSeconds","memo","keyToMatch","scopeSet","scopesToMatch","hasAllScopes","current","cachedEntry","oldRefreshToken","newRefreshToken","TransactionManager","isNumber","idTokendecoded","decoded","token","parts","payloadJSON","expDate","nbfDate","authTimeDate","org","orgId","orgName","stringifyAttribute","stringified","attributes","stringifyAttributes","cookieString","cookies","rdecode","get_1","set_1","remove_1","CookieStorage","Cookies","cookieAttributes","CookieStorageWithLegacySameSite","SessionStorage","ResponseType","User","singlePromiseMap","retryPromise","cb","maxNumberOfRetries","CacheKeyManifest","cacheLocationBuilders","cacheFactory","patchOpenUrlWithOnRedirect","originalOptions","allScopesAreIncluded","scopeToInclude","scopeGroup","TABLES","DpopStorage","req","table","mode","requestFactory","request","finalId","predicate","Dpop","dpopUtils","TokenType","Fetcher","authParams","info","init","finalUrl","finalInfo","dpopNonce","accessTokenResponse","wwwAuthHeader","MyAccountApiClient","MyAccountApiError","USER_AGENT","_navigator$userAgent","_navigator$userAgent$","VERSION","_unused","CodedTypeError","allowInsecureRequests","clockSkew","modifyAssertion","jweDecrypt","decodeBase64Url","binary","bytes","_Error$captureStackTr","_defineProperty","UNSUPPORTED_OPERATION","_Error$captureStackTr2","OPE","assertPrivateKey","it","isJsonObject","prepareHeaders","looseInstanceOf","discoveryRequest","issuerIdentifier","urlName","checkProtocol","transform","performDiscovery","wellKnown","replaceDoubleSlash","appendWellKnown","allowTerminatingSlash","prependWellKnown","assertNumber","ERR_INVALID_ARG_TYPE","ERR_INVALID_ARG_VALUE","assertString","getContentType","types","last","msg","RESPONSE_IS_NOT_JSON","notJson","contentType","randomBytes","keyToJws","getClockSkew","skew","getClockTolerance","epochTime","_as","_headers","clientPrivateKey","_options$modifyAssert","clientAssertionPayload","keyToSubtle","signJwt","URLParse","base","_unused2","enforceHttps","HTTP_REQUEST_FORBIDDEN","REQUEST_PROTOCOL_FORBIDDEN","validateEndpoint","endpoint","useMtlsAlias","MISSING_SERVER_METADATA","INVALID_SERVER_METADATA","resolveEndpoint","ResponseBodyError","_Error$captureStackTr3","RESPONSE_BODY_ERROR","AuthorizationResponseError","string","decodeBase64","JOSEError","JWTClaimValidationFailed","JWTExpired","JOSEAlgNotAllowed","JOSENotSupported","JWSInvalid","JWTInvalid","JWKSInvalid","JWKSNoMatchingKey","JWKSMultipleMatchingKeys","JWKSTimeout","JWSSignatureVerificationFailed","unusable","prop","isAlgorithm","getHashLength","checkSigCryptoKey","usage","checkUsage","actual","_actual$constructor","withAlg","_len3","_key3","isKeyObject","isKeyLike","isObject","proto","bytesEqual","parseLength","first","lengthOfLen","expectTag","expectedTag","getSubarray","parseECAlgorithmIdentifier","algOid","oidLen","parseAlgorithmOID","curveOidLen","curveOid","genericImport","keyFormat","keyData","_options$extractable","isPublic","getSigUsages","fromPKCS8","pem","_alg$startsWith","processPEMData","pattern","opts","verLen","algIdLen","parsePKCS8Header","jwkToKey","_jwk$ext","_jwk$key_ops","subtleMapping","_objectSpread","isJWK","handleJWK","cached","cryptoKey","normalizeKey","handleKeyObject","keyObject","_keyObject$asymmetric","tag","jwkMatchesOp","_key$key_ops","_key$key_ops$includes","expectedKeyOp","checkKeyType","symmetricTypeCheck","invalidKeyInput","asymmetricTypeCheck","int","props","tbi","ClientSecretPost","oauth","calculatePKCECodeChallenge","randomPKCECodeVerifier","ClientError","errorHandler","discovery","server","metadata","clientAuthentication","expectedIssuerIdentifier","_nodiscoverycheck","RESPONSE_IS_NOT_CONFORM","getResponseJsonBody","JSON_ATTRIBUTE_COMPARISON","kEntraId","Configuration","internals","extension","_options$DPoP","assertAs","assertClient","assertDPoP","authenticatedRequest","WWWAuthenticateChallengeError","challenge","getSigKey","_len2","_key2","checkKeyLength","flattenedVerify","jws","parsedProt","sources","parameter","isDisjoint","joseHeader","extensions","Err","recognizedDefault","recognizedOption","recognized","validateCrit","option","validateAlgorithms","resolvedKey","buffers","_unused3","epoch","REGEX","secs","str","matched","numericDate","minute","hour","day","normalizeTyp","checkAudiencePresence","audPayload","audOption","jwtVerify","_verified$protectedHe","verified","compactVerify","encodedPayload","presenceCheck","age","validateClaimsSet","isJWKLike","_jwks","_cached2","LocalJWKSet","_classPrivateFieldInitSpec","isJWKSLike","_classPrivateFieldSet","_classPrivateFieldGet","getKtyFromAlg","candidates","candidate","_cached","_wrapAsyncGenerator","_awaitAsyncGenerator","importWithAlgCache","decodeBase64URL","importJWK","createLocalJWKSet","localJWKSet","_timeoutDuration","_cooldownDuration","_cacheMaxAge","_jwksTimestamp","_pendingFetch","_customFetch","_local","_cache","RemoteJWKSet","_classPrivateFieldGet2","fetchImpl","fetchJwks","DEFAULT_SCOPES","PARAM_DENYLIST","validateSubjectToken","TokenExchangeError","appendExtraParams","parameterKey","parameterValue","arrayItem","AuthClient","_configuration","_serverMetadata","_options","_Class8_brand","_classPrivateMethodInitSpec","NotSupportedError","MfaClient","_assertClassBrand","_discover","_buildAuthorizationUrl","BuildAuthorizationUrlError","BuildLinkUserUrlError","BuildUnlinkUserUrlError","additionalParams","stripUndefinedProperties","tokenEndpointResponse","backchannelAuthenticationResponse","TokenResponse","BackchannelAuthenticationError","_ref2","_options$accessToken","TokenForConnectionError","subjectTokenValue","_exchangeTokenVaultToken","_exchangeProfileToken","TokenByRefreshTokenError","TokenByClientCredentialsError","remoteJWKSet","createRemoteJWKSet","customFetch2","VerifyLogoutTokenError","clientAuth","_getClientAuth","customFetch$1","_options$subjectToken","_options$requestedTok","tokenRequestParams","MissingClientAuthError","pkcs8","importPKCS8","codeChallenge","Lock","Auth0Client","lockKeysToRelease","validateCrypto","buildIsAuthenticatedCookieName","transactionStorage","openIdScope","extraScopes","requestedScopes","audienceScopes","injectDefaultScopes","getTokenIssuer","myAccountApiIdentifier","Auth0AuthJsClient","TokenWorker","authorizeOptions","verifyIdToken","fallbackRedirectUri","code_challengeBuffer","thumbprint","getAuthorizeParams","clientOptions","left","top","openPopup","codeResult","popupEventListener","popupTimer","runPopup","_b","urlOptions","_c","urlWithFragment","queryStringFragments","authenticationResult","queryString","parseAuthenticationResult","connectResult","localOptions","singlePromise","promise","getTokenOptions","buildGetTokenSilentlyLockKey","authResult","logoutOptions","federatedQuery","iframeLockKey","orgHint","stateIn","authorizeTimeout","eventOrigin","authorizeUrl","rej","iframe","removeIframe","iframeEventHandler","timeoutSetTimeoutId","eventSource","CLEANUP_IFRAME_TIMEOUT_IN_SECONDS","runIframe","tokenResult","getScopeToRequest","cachedAudience","cachedScope","cachedScopes","newScopes","newScopesAreIncluded","requestAudience","requestScope","missingScopes","getMissingScopes","requestedScope","respondedScope","respondedScopes","isRefreshWithMrrt","entryWithoutIdToken","currentCache","existingIdToken","createAuth0Client","auth0"],"version":3,"file":"spa-app.fd9a8bb8.js.map"}